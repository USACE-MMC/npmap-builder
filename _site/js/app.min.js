function ready() {
    Builder = function() {
        function a() {
            t.prop("disabled", !0), s.text("Export Your Map");
        }
        function b() {
            t.prop("disabled", !1), s.text("Save & Export Your Map");
        }
        function c(a) {
            var b, c, d;
            for (H.length || $.each(document.getElementById("iframe-map").contentWindow.L.npmap.preset.colors, function(a, b) {
                var c = b.color;
                H += '<option value="' + c + '">' + c + "</option>";
            }), b = 0; b < NPMap.overlays.length; b++) {
                var e = NPMap.overlays[b];
                if (e.name.split(" ").join("_") === a) {
                    c = e;
                    break;
                }
            }
            if ("cartodb" === c.type) return '<form class="change-style" id="' + a + '_layer-change-style" role="form"><div class="checkbox"><label><input type="checkbox" checked="checked" id="cartodb-has-points" onchange="Builder.ui.steps.addAndCustomizeData.handlers.changeCartoDbHasPoints(this);return false;"> This overlay contain points</label></div><fieldset><div class="form-group"><label for="' + a + '_marker-color">Point Color</label><select id="' + a + '_marker-color" class="simplecolorpicker">' + H + '</select></div><div class="form-group"><label for="' + a + '_marker-size">Point Size</label><select id="' + a + '_marker-size"><option value="small">Small</option><option value="medium">Medium</option><option value="large">Large</option></select></div><div class="form-group"><label for="' + a + '_marker-opacity">Point Opacity</label><select id="' + a + '_marker-opacity"><option value="0.1">0.1</option><option value="0.2">0.2</option><option value="0.3">0.3</option><option value="0.4">0.4</option><option value="0.5">0.5</option><option value="0.6">0.6</option><option value="0.7">0.7</option><option value="0.8">0.8</option><option value="0.9">0.9</option><option value="1">1</option></select></div></fieldset><fieldset><div class="form-group"><label for="' + a + '_stroke">Line Color</label><select id="' + a + '_stroke" class="simplecolorpicker">' + H + '</select></div><div class="form-group"><label for="' + a + '_stroke-width">Line Width</label><select id="' + a + '_stroke-width"><option value="1">1 pt</option><option value="2">2 pt</option><option value="3">3 pt</option><option value="4">4 pt</option><option value="5">5 pt</option></select></div><div class="form-group"><label for="' + a + '_stroke-opacity">Line Opacity</label><select id="' + a + '_stroke-opacity"><option value="0.1">0.1</option><option value="0.2">0.2</option><option value="0.3">0.3</option><option value="0.4">0.4</option><option value="0.5">0.5</option><option value="0.6">0.6</option><option value="0.7">0.7</option><option value="0.8">0.8</option><option value="0.9">0.9</option><option value="1">1</option></select></div><div class="form-group"><label for="' + a + '_fill">Fill Color</label><select id="' + a + '_fill" class="simplecolorpicker">' + H + '</select></div><div class="form-group"><label for="' + a + '_fill-opacity">Fill Opacity</label><select id="' + a + '_fill-opacity"><option value="0.1">0.1</option><option value="0.2">0.2</option><option value="0.3">0.3</option><option value="0.4">0.4</option><option value="0.5">0.5</option><option value="0.6">0.6</option><option value="0.7">0.7</option><option value="0.8">0.8</option><option value="0.9">0.9</option><option value="1">1</option></select></div></fieldset></form>';
            if (!I.length) {
                var f = [ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 ];
                for (d = [], b = 0; b < C.length; b++) {
                    var g = C[b];
                    d.push({
                        icon: g.toLowerCase(),
                        name: 'Letter "' + g + '"'
                    });
                }
                for (b = 0; b < f.length; b++) {
                    var h = f[b];
                    d.push({
                        icon: h,
                        name: 'Number "' + h + '"'
                    });
                }
                $.each(document.getElementById("iframe-map").contentWindow.L.npmap.preset.maki, function(a, b) {
                    d.push({
                        icon: b.icon,
                        name: b.name
                    });
                }), d.sort(function(a, b) {
                    return a.name < b.name ? -1 : a.name > b.name ? 1 : 0;
                }), $.each(d, function(a, b) {
                    I += '<option value="' + b.icon + '">' + b.name + "</option>";
                });
            }
            return J.length || (d = [], $.each(document.getElementById("iframe-map").contentWindow.L.npmap.preset.npmaki, function(a, b) {
                d.push({
                    icon: b.icon,
                    name: b.name
                });
            }), d.sort(function(a, b) {
                return a.name < b.name ? -1 : a.name > b.name ? 1 : 0;
            }), $.each(d, function(a, b) {
                J += '<option value="' + b.icon + '">' + b.name + "</option>";
            })), '<form class="change-style" id="' + a + '_layer-change-style" role="form"><ul class="nav nav-tabs"><li class="active"><a href="#point" data-toggle="tab">Point</a></li><li class=""><a href="#line" data-toggle="tab">Line</a></li><li class=""><a href="#polygon" data-toggle="tab">Polygon</a></li></ul><div class="tab-content"><div class="tab-pane active in" id="point"><fieldset><div class="form-group"><label for="' + a + '_point_marker-library">Library</label><select id="' + a + '_point_marker-library" onchange="Builder.ui.steps.addAndCustomizeData.handlers.changeMarkerLibrary(this);return false;"><option value="maki">Maki</option><option value="npmaki">NPMaki</option></select></div><div class="form-group"><label for="' + a + '_point_marker-color">Color</label><select id="' + a + '_point_marker-color" class="simplecolorpicker">' + H + '</select></div><div class="form-group"><label for="' + a + '_point_marker-size">Size</label><select id="' + a + '_point_marker-size"><option value="small">Small</option><option value="medium">Medium</option><option value="large">Large</option></select></div><div class="form-group"><label for="' + a + '_point_marker-symbol">Icon</label><select id="' + a + '_point_marker-symbol"></select></div></fieldset></div><div class="tab-pane" id="line"><fieldset><div class="form-group"><label for="' + a + '_line_stroke">Color</label><select id="' + a + '_line_stroke" class="simplecolorpicker">' + H + '</select></div><div class="form-group"><label for="' + a + '_line_stroke-width">Width</label><select id="' + a + '_line_stroke-width"><option value="1">1 pt</option><option value="2">2 pt</option><option value="3">3 pt</option><option value="4">4 pt</option><option value="5">5 pt</option></select></div><div class="form-group"><label for="' + a + '_line_stroke-opacity">Opacity</label><select id="' + a + '_line_stroke-opacity"><option value="0.1">0.1</option><option value="0.2">0.2</option><option value="0.3">0.3</option><option value="0.4">0.4</option><option value="0.5">0.5</option><option value="0.6">0.6</option><option value="0.7">0.7</option><option value="0.8">0.8</option><option value="0.9">0.9</option><option value="1">1</option></select></div></fieldset></div><div class="tab-pane" id="polygon"><fieldset><div class="form-group"><label for="' + a + '_polygon_fill">Color</label><select id="' + a + '_polygon_fill" class="simplecolorpicker">' + H + '</select></div><div class="form-group"><label for="' + a + '_polygon_fill-opacity">Opacity</label><select id="' + a + '_polygon_fill-opacity"><option value="0.1">0.1</option><option value="0.2">0.2</option><option value="0.3">0.3</option><option value="0.4">0.4</option><option value="0.5">0.5</option><option value="0.6">0.6</option><option value="0.7">0.7</option><option value="0.8">0.8</option><option value="0.9">0.9</option><option value="1">1</option></select></div><div class="form-group"><label for="' + a + '_polygon_stroke">Outline Color</label><select id="' + a + '_polygon_stroke" class="simplecolorpicker">' + H + '</select></div><div class="form-group"><label for="' + a + '_polygon_stroke-width">Outline Width</label><select id="' + a + '_polygon_stroke-width"><option value="1">1 pt</option><option value="2">2 pt</option><option value="3">3 pt</option><option value="4">4 pt</option><option value="5">5 pt</option></select></div><div class="form-group"><label for="' + a + '_polygon_stroke-opacity">Outline Opacity</label><select id="' + a + '_polygon_stroke-opacity"><option value="0.1">0.1</option><option value="0.2">0.2</option><option value="0.3">0.3</option><option value="0.4">0.4</option><option value="0.5">0.5</option><option value="0.6">0.6</option><option value="0.7">0.7</option><option value="0.8">0.8</option><option value="0.9">0.9</option><option value="1">1</option></select></div></fieldset></div></div></form>';
        }
        function d() {
            return document.getElementById("iframe-map").contentWindow.NPMap.config;
        }
        function e(a) {
            return $.inArray($(a).parent().parent().parent().prev().text(), C);
        }
        function f() {
            return document.getElementById("iframe-map").contentWindow.NPMap.config.L;
        }
        function g(a, b) {
            $(z[a]).hide(), $(z[b]).show(), $(M[a]).removeClass("active"), $(M[b]).addClass("active");
        }
        function h(a, b) {
            a = a.replace("Builder.", "").replace(/\./g, "/"), $.ajax({
                dataType: "html",
                success: function(c) {
                    $("body").append(c), $.getScript(a + ".js", function() {
                        b && b();
                    });
                },
                url: a + ".html"
            });
        }
        function i(a) {
            var b = $(this), c = "/", d = "You must be connected to the National Park Service network to save a map.";
            Builder.showLoading(), b.blur(), $.ajax({
                data: {
                    description: D,
                    isPublic: !0,
                    isShared: !0,
                    json: JSON.stringify(NPMap),
                    mapId: mapId || null,
                    name: N
                },
                dataType: "json",
                error: function() {
                    Builder.hideLoading(), alertify.error(d), "function" == typeof a && a(!1);
                },
                success: function(b) {
                    Builder.hideLoading(), b ? b.success ? (mapId = b.mapId, k(b.modified), alertify.success("Your map was saved!"), 
                    a && a(!0)) : (alertify.error("Sorry, but there was an error saving your map. Please try again."), 
                    a && a(!1)) : (alertify.error(d), a && a(!1));
                },
                url: c + "builder/save" + ("/" === c ? "" : "&callback=?")
            });
        }
        function j() {
            v.html(NPMap.center.lat.toFixed(2)), w.html(NPMap.center.lng.toFixed(2)), B.html(NPMap.zoom);
        }
        function k(b) {
            $(".info-saved p").text("Saved " + moment(b).format("MM/DD/YYYY") + " at " + moment(b).format("h:mm:ssa")), 
            $(".info-saved").show(), a();
        }
        var l, m, n, o, p = null, q = $("#button-addAnotherLayer"), r = $("#button-editBaseMapsAgain"), s = $("#button-export"), t = $("#button-save"), u = $("#iframe-map"), v = $("#set-center-and-zoom .lat"), w = $("#set-center-and-zoom .lng"), x = $("#layers"), y = $("#modal-confirm"), z = $("section .step"), A = $("#layers"), B = $("#set-center-and-zoom .zoom"), C = [ "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z" ], D = null, E = !1, F = null, G = !0, H = "", I = "", J = "", K = !1, L = null, M = $("#steps li"), N = null, O = !1, P = null;
        return $(document).ready(function() {
            mapId ? (E = !0, K = !0, O = !0) : setTimeout(function() {
                $("#metadata .title a").editable("toggle");
            }, 200);
        }), {
            _afterUpdateCallbacks: {},
            _defaultStylesCollapsed: {
                fill: "#d39800",
                "fill-opacity": .2,
                "marker-color": "#000000",
                "marker-size": "small",
                stroke: "#d39800",
                "stroke-opacity": .8,
                "stroke-width": 3
            },
            _defaultStyles: {
                line: {
                    stroke: "#d39800",
                    "stroke-opacity": .8,
                    "stroke-width": 3
                },
                point: {
                    "marker-color": "#000000",
                    "marker-library": "maki",
                    "marker-size": "medium",
                    "marker-symbol": null
                },
                polygon: {
                    fill: "#d39800",
                    "fill-opacity": .2,
                    stroke: "#d39800",
                    "stroke-opacity": .8,
                    "stroke-width": 3
                }
            },
            ui: {
                app: {
                    init: function() {
                        $($("section .step .btn-primary")[0]).on("click", function() {
                            g(0, 1);
                        }), $($("section .step .btn-primary")[1]).on("click", function() {
                            g(1, 2);
                        }), $.each(M, function(a, b) {
                            $(b.childNodes[0]).on("click", function() {
                                for (var b = -1, c = 0; c < M.length; c++) if ($(M[c]).hasClass("active")) {
                                    b = c;
                                    break;
                                }
                                b !== a && g(b, a);
                            });
                        });
                    }
                },
                metadata: {
                    init: function() {
                        $("#metadata .description a").text(NPMap.description).editable({
                            animation: !1,
                            container: "#metadata div.info",
                            emptytext: "Add a description to give your map context.",
                            validate: function(a) {
                                return "" === $.trim(a) ? "Please enter a description for your map." : void 0;
                            }
                        }).on("hidden", function() {
                            var a = $("#metadata .description a").text(), c = $(this).next();
                            E ? a !== D && b() : ($($("#button-settings span")[2]).popover("show"), c.css({
                                "z-index": F
                            }), $(c.find("button")[1]).css({
                                display: "block"
                            }), E = !0, K || (c = $("#metadata .buttons .popover"), L = c.css("z-index"), c.css({
                                "z-index": 1031
                            }), $("#metadata .buttons .popover button").focus())), D = a;
                        }).on("shown", function() {
                            var a = $(this).parent().next();
                            E || (F = a.css("z-index"), a.css({
                                "z-index": 1031
                            }), $(a.find("button")[1]).css({
                                display: "none"
                            })), a.find("textarea").css({
                                resize: "none"
                            });
                        }), $("#metadata .title a").text(NPMap.name).editable({
                            animation: !1,
                            emptytext: "Untitled Map",
                            validate: function(a) {
                                return "" === $.trim(a) ? "Please enter a title for your map." : void 0;
                            }
                        }).on("hidden", function() {
                            var a = $("#metadata .description a").text(), c = $("#metadata .title a").text(), d = $(this).next();
                            a && "Add a description to give your map context." !== a ? c !== N && b() : $("#metadata .description a").editable("toggle"), 
                            O || (d.css({
                                "z-index": P
                            }), $(d.find("button")[1]).css({
                                display: "block"
                            }), O = !0), N = c;
                        }).on("shown", function() {
                            var a = $(this).next();
                            O || (P = a.css("z-index"), a.css({
                                "z-index": 1031
                            }), $(a.find("button")[1]).css({
                                display: "none"
                            })), a.find(".editable-clear-x").remove(), a.find("input").css({
                                "padding-right": "10px"
                            });
                        });
                    },
                    load: function() {
                        NPMap.description && $("#metadata .description a").text(NPMap.description), NPMap.name && $("#metadata .title a").text(NPMap.name), 
                        k(NPMap.modified);
                    }
                },
                steps: {
                    addAndCustomizeData: {
                        handlers: {
                            cancelApplyStyles: function() {
                                p.popover("toggle"), $("#mask").hide();
                            },
                            changeCartoDbHasPoints: function(a) {
                                var b = $(a), c = $(b.parent().parent().next()), d = c.parents(".popover");
                                b.prop("checked") ? c.is(":hidden") && (c.show(), d.css({
                                    top: parseInt(d.css("top").replace("px", ""), 10) - c.outerHeight() + 45 + "px"
                                })) : c.is(":visible") && (d.css({
                                    top: parseInt(d.css("top").replace("px", ""), 10) + c.outerHeight() - 45 + "px"
                                }), c.hide());
                            },
                            changeMarkerLibrary: function(a) {
                                var b = $("#" + a.id.replace("_marker-library", "") + "_marker-symbol"), c = "maki" === $(a).val() ? I : J;
                                b.html(c), b.val(null);
                            },
                            clickApplyStyles: function(a, b) {
                                for (var c, d = 0; d < NPMap.overlays.length; d++) {
                                    var e = NPMap.overlays[d];
                                    if (e.name === b) {
                                        c = e;
                                        break;
                                    }
                                }
                                if ("cartodb" === c.type) {
                                    var f = !$("#cartodb-has-points").prop("checked");
                                    $.each($("#" + a + "_layer-change-style .form-group"), function(b, d) {
                                        var e = $($(d).children("select")[0]), g = e.attr("id").replace(a + "_", "");
                                        -1 === g.indexOf("marker") ? c.styles[g] = e.val() : f ? (delete c.styles["marker-color"], 
                                        delete c.styles["marker-size"]) : c.styles[g] = e.val();
                                    });
                                } else $.each($("#" + a + "_layer-change-style .form-group"), function(b, d) {
                                    var e = $($(d).children("select")[0]), f = e.attr("id").replace(a + "_", ""), g = f.split("_")[0];
                                    c.styles[g][f.replace(g + "_", "")] = e.val();
                                });
                                p.popover("toggle"), $("#mask").hide(), Builder.updateMap();
                            },
                            clickLayerChangeStyle: function(a) {
                                var b = $(a);
                                if (b.data("popover-created")) b.popover("toggle"); else {
                                    var d, f = NPMap.overlays[e(a)], g = f.name.split(" ").join("_");
                                    d = c(g) + '<div style="text-align:center;"><button class="btn btn-primary" onclick="Builder.ui.steps.addAndCustomizeData.handlers.clickApplyStyles(\'' + g + "','" + f.name + '\');" type="button">Apply Styles</button><button class="btn btn-default" onclick="Builder.ui.steps.addAndCustomizeData.handlers.cancelApplyStyles();" style="margin-left:5px;">Cancel</button></div>', 
                                    b.popover({
                                        animation: !1,
                                        container: "body",
                                        content: d,
                                        html: !0,
                                        placement: "right",
                                        title: null,
                                        trigger: "manual"
                                    }).on("hide.bs.popover", function() {
                                        p = null, $.each($("#" + g + "_layer-change-style select.simplecolorpicker"), function(a, b) {
                                            $(b).simplecolorpicker("destroy");
                                        });
                                    }).on("shown.bs.popover", function() {
                                        var a, c, d, e, h, i = "cartodb" === f.type ? Builder._defaultStylesCollapsed : Builder._defaultStyles;
                                        if (p = b, $("#mask").show(), $.each($("#" + g + "_layer-change-style .simplecolorpicker"), function(a, b) {
                                            $(b).simplecolorpicker({
                                                picker: !0,
                                                theme: "glyphicons"
                                            });
                                        }), f.styles || (f.styles = i), "cartodb" === f.type) {
                                            for (c in Builder._defaultStylesCollapsed) a = $("#" + g + "_" + c), h = Builder._defaultStylesCollapsed[c], 
                                            "fill" === c || "marker-color" === c || "stroke" === c ? a.simplecolorpicker("selectColor", h) : ("marker-symbol" === c && a.html("maki" === Builder._defaultStyles.point["marker-library"] ? I : J), 
                                            a.val(h));
                                            for (c in f.styles) a = $("#" + g + "_" + c), h = f.styles[c], "fill" === c || "marker-color" === c || "stroke" === c ? a.simplecolorpicker("selectColor", h) : ("marker-symbol" === c && a.html("maki" === f.styles.point["marker-library"] ? I : J), 
                                            a.val(h));
                                            f.styles["marker-color"] || f.styles["marker-size"] ? $("#cartodb-has-points").prop("checked", !0) : $("#cartodb-has-points").prop("checked", !1), 
                                            $("#cartodb-has-points").trigger("change");
                                        } else {
                                            for (e in i) {
                                                d = i[e];
                                                for (c in d) a = $("#" + g + "_" + e + "_" + c), h = d[c], "fill" === c || "marker-color" === c || "stroke" === c ? a.simplecolorpicker("selectColor", h) : ("marker-symbol" === c && a.html("maki" === Builder._defaultStyles.point["marker-library"] ? I : J), 
                                                a.val(h));
                                            }
                                            for (e in f.styles) {
                                                d = f.styles[e];
                                                for (c in d) a = $("#" + g + "_" + e + "_" + c), h = d[c], "fill" === c || "marker-color" === c || "stroke" === c ? a.simplecolorpicker("selectColor", h) : ("marker-symbol" === c && a.html("maki" === f.styles.point["marker-library"] ? I : J), 
                                                a.val(h));
                                            }
                                        }
                                    }), b.popover("show"), $(".popover.right.in").css({
                                        "z-index": 1031
                                    }), b.data("popover-created", !0), p = b;
                                }
                            },
                            clickLayerEdit: function(a) {
                                function b() {
                                    Builder.ui.modal.addLayer._load(NPMap.overlays[c]), Builder.ui.modal.addLayer._editingIndex = c, 
                                    l.off("shown.bs.modal", b);
                                }
                                var c = e(a);
                                l ? l.on("shown.bs.modal", b).modal("show") : (Builder._pendingLayerEditIndex = c, 
                                h("Builder.ui.modal.addLayer", function() {
                                    l = $("#modal-addLayer"), b();
                                }));
                            },
                            clickLayerRemove: function(a) {
                                Builder.showConfirm("Yes, remove the layer", "Once the layer is removed, you cannot get it back.", "Are you sure?", function() {
                                    Builder.ui.steps.addAndCustomizeData.removeLi(a), Builder.removeOverlay(e(a));
                                });
                            }
                        },
                        init: function() {
                            $(".dd").nestable({
                                handleClass: "letter",
                                listNodeName: "ul"
                            }).on("change", function() {
                                var a = A.children(), b = [];
                                a.length > 1 && ($.each(a, function(a, c) {
                                    var d = $($(c).children(".letter")[0]), e = $.inArray(d.text(), C);
                                    e !== a && b.splice(a, 0, NPMap.overlays[e]), d.text(C[a]);
                                }), b.length && (NPMap.overlays = b, Builder.updateMap()), Builder.ui.steps.addAndCustomizeData.refreshUl());
                            }), $("#button-addAnotherLayer, #button-addLayer").on("click", function() {
                                l ? l.modal("show") : h("Builder.ui.modal.addLayer", function() {
                                    l = $("#modal-addLayer");
                                });
                            }), $("#button-editBaseMaps, #button-editBaseMapsAgain").on("click", function() {
                                m ? m.modal("show") : h("Builder.ui.modal.editBaseMaps", function() {
                                    m = $("#modal-editBaseMaps");
                                });
                            });
                        },
                        load: function() {
                            $.isArray(NPMap.overlays) && $.each(NPMap.overlays, function(a, b) {
                                Builder.ui.steps.addAndCustomizeData.overlayToLi(b);
                            });
                        },
                        overlayToLi: function(a) {
                            var b, c = "cartodb" === a.type || "csv" === a.type || "geojson" === a.type || "kml" === a.type;
                            x.is(":visible") || (x.prev().hide(), $("#customize .content").css({
                                padding: 0
                            }), x.show()), b = x.children().length, x.append($('<li class="dd-item">').html('<div class="letter">' + C[b] + '</div><div class="details"><span class="name">' + a.name + '</span><span class="description">' + (a.description || "") + '</span><span class="actions"><div style="float:left;"><button class="btn btn-default btn-xs" data-container="section" onclick="Builder.ui.steps.addAndCustomizeData.handlers.clickLayerEdit(this);" type="button"><span class="glyphicon glyphicon-edit"> Edit</span></button></div><div style="float:right;margin-right:10px;">' + (c ? '<button class="btn btn-default btn-xs" data-container="section" data-placement="bottom" onclick="Builder.ui.steps.addAndCustomizeData.handlers.clickLayerChangeStyle(this);" rel="tooltip" style="margin-right:5px;" title="Change Style" type="button"><span class="glyphicon glyphicon-map-marker"></span></button>' : "") + '<button class="btn btn-default btn-xs" data-container="section" data-placement="bottom" onclick="Builder.ui.steps.addAndCustomizeData.handlers.clickLayerRemove(this);" rel="tooltip" title="Delete Overlay" type="button"><span class="glyphicon glyphicon-trash"></span></button></button></div></span></div>')), 
                            Builder.ui.steps.addAndCustomizeData.refreshUl();
                        },
                        refreshUl: function() {
                            var a = A.parent().prev();
                            0 === A.children().length ? (q.hide(), r.hide(), a.show()) : (q.show(), r.show(), 
                            a.hide());
                        },
                        removeLi: function(a) {
                            $($(a).parents("li")[0]).remove(), Builder.ui.steps.addAndCustomizeData.refreshUl();
                        }
                    },
                    additionalToolsAndSettings: {
                        hookUpFullScreenControl: function(a) {
                            var b = $("#map"), c = a.L;
                            c.on("enterfullscreen", function() {
                                b.css({
                                    left: 0,
                                    position: "fixed"
                                });
                            }), c.on("exitfullscreen", function() {
                                b.css({
                                    left: "268px",
                                    position: "absolute"
                                });
                            });
                        },
                        init: function() {
                            $.each($("#additional-tools-and-settings form"), function(a, b) {
                                $.each($(b).find("input"), function(a, b) {
                                    $(b).on("change", function() {
                                        var a = $(this).prop("checked"), b = this.value;
                                        NPMap[b] = "overviewControl" === b ? a ? {
                                            layer: function() {
                                                for (var a = 0; a < NPMap.baseLayers.length; a++) {
                                                    var b = NPMap.baseLayers[0];
                                                    if ("undefined" == typeof b.visible || b.visible === !0) return b;
                                                }
                                            }()
                                        } : !1 : a, "fullscreenControl" === b && (a ? Builder._afterUpdateCallbacks.fullscreenControl = Builder.ui.steps.additionalToolsAndSettings.hookUpFullScreenControl : delete Builder._afterUpdateCallbacks.fullscreenControl), 
                                        Builder.updateMap();
                                    });
                                });
                            });
                        },
                        load: function() {
                            $.each($("#additional-tools-and-settings form"), function(a, b) {
                                $.each($(b).find("input"), function(a, b) {
                                    var c = $(b), e = c.attr("value"), f = NPMap[e];
                                    if ("undefined" != typeof f && (c.attr("checked", f), "fullscreenControl" === e && f)) var g = setInterval(function() {
                                        var a = d();
                                        a && a.L && (clearInterval(g), Builder._afterUpdateCallbacks.fullscreenControl = Builder.ui.steps.additionalToolsAndSettings.hookUpFullScreenControl, 
                                        Builder.ui.steps.additionalToolsAndSettings.hookUpFullScreenControl(d()));
                                    }, 100);
                                });
                            });
                        }
                    },
                    setCenterAndZoom: {
                        init: function() {
                            $($("#set-center-and-zoom .btn-block")[0]).on("click", function() {
                                var a = f(), b = a.getCenter();
                                NPMap.center = {
                                    lat: b.lat,
                                    lng: b.lng
                                }, NPMap.zoom = a.getZoom(), j(), Builder.updateMap();
                            }), $($("#set-center-and-zoom .btn-block")[1]).on("click", function() {
                                var a = $(this);
                                if (a.hasClass("active")) delete NPMap.maxBounds, a.removeClass("active").text("Restrict Bounds"), 
                                a.next().hide(); else {
                                    var b = f().getBounds(), c = b.getNorthEast(), d = b.getSouthWest();
                                    NPMap.maxBounds = [ [ d.lat, d.lng ], [ c.lat, c.lng ] ], $(this).addClass("active").text("Remove Bounds Restriction"), 
                                    a.next().show();
                                }
                                Builder.updateMap();
                            }), $("#set-zoom").slider({
                                max: 19,
                                min: 0,
                                value: [ "number" == typeof NPMap.minZoom ? NPMap.minZoom : 0, "number" == typeof NPMap.maxZoom ? NPMap.maxZoom : 19 ]
                            }).on("slideStop", function(a) {
                                NPMap.maxZoom = a.value[1], NPMap.minZoom = a.value[0], Builder.updateMap();
                            });
                        },
                        load: function() {
                            j(), "object" == typeof NPMap.maxBounds && $($("#set-center-and-zoom .btn-block")[1]).addClass("active").text("Remove Bounds Restriction");
                        }
                    }
                },
                toolbar: {
                    handlers: {
                        clickSettings: function(a) {
                            $(a).parents(".popover").css({
                                "z-index": L
                            }), $("#mask").hide(), $($("#button-settings span")[2]).popover("hide"), K = !0;
                        }
                    },
                    init: function() {
                        s.on("click", function() {
                            function a() {
                                n ? n.modal("show") : h("Builder.ui.modal.export", function() {
                                    n = $("#modal-export");
                                });
                            }
                            -1 === $(this).text().indexOf("Save") ? a() : i(function(b) {
                                mapId ? (b || alertify.log("Because your map couldn't be saved, but was successfully saved at one point, any exports you do here will not include any changes made to the map since the last time it was saved.", "error", 15e3), 
                                a()) : alertify.log("The map cannot be exported until it is saved. Please try again. If this error persists, please report an issue by clicking on the feedback button above.", "error", 15e3);
                            });
                        }), $("#button-config").on("click", function() {
                            h("Builder.ui.modal.viewConfig", function() {
                                o = $("#modal-viewConfig");
                            });
                        }), $("#button-feedback").on("click", function() {
                            window.open("https://github.com/nationalparkservice/npmap-builder/issues", "_blank");
                        }), $("#button-help").on("click", function() {
                            window.open("https://github.com/nationalparkservice/npmap-builder/wiki", "_blank");
                        }), $("#button-save").on("click", i), $("#button-settings").on("click", function() {
                            var a = $(this), b = $(a.children("span")[2]);
                            a.hasClass("active") ? (b.popover("hide"), a.removeClass("active")) : (b.popover("show"), 
                            a.addClass("active"));
                        }), $($("#button-settings span")[2]).popover({
                            animation: !1,
                            container: "#metadata .buttons",
                            content: '<div class="checkbox"><label><input type="checkbox" value="public" checked="checked" disabled>Is this map public?</label></div><div class="checkbox"><label><input type="checkbox" value="shared" checked="checked" disabled>Share this map with others?</label></div><div style="text-align:center;"><button type="button" class="btn btn-primary" onclick="Builder.ui.toolbar.handlers.clickSettings(this);">Start Building!</button></div>',
                            html: !0,
                            placement: "bottom",
                            trigger: "manual"
                        }).on("shown.bs.popover", function() {
                            K && $("#metadata .buttons .popover .btn-primary").hide();
                        });
                    }
                }
            },
            addOverlay: function(a) {
                NPMap.overlays.push(a), Builder.ui.steps.addAndCustomizeData.overlayToLi(a);
            },
            buildTooltips: function() {
                $("[rel=tooltip]").tooltip({
                    animation: !1
                });
            },
            hideLoading: function() {
                $("#loading").hide(), document.body.removeChild(document.getElementById("loading-backdrop"));
            },
            removeOverlay: function(a) {
                NPMap.overlays.splice(a, 1), this.updateMap();
            },
            showConfirm: function(a, b, c, d) {
                $(y.find(".btn-primary")[0]).html(a).on("click", function() {
                    y.modal("hide"), d();
                }), $(y.find(".modal-body")[0]).html(b), $(y.find("h4")[0]).html(c), y.modal("show");
            },
            showLoading: function() {
                var a = document.createElement("div");
                a.className = "modal-backdrop in", a.id = "loading-backdrop", document.body.appendChild(a), 
                $("#loading").show();
            },
            updateMap: function(a) {
                u.attr("src", "iframe.html?c=" + encodeURIComponent(JSON.stringify(NPMap)));
                var c = setInterval(function() {
                    var d = document.getElementById("iframe-map").contentWindow.NPMap;
                    if (d && d.config && d.config.L) {
                        var e = d.config;
                        clearInterval(c), a && a(e);
                        for (var f in Builder._afterUpdateCallbacks) Builder._afterUpdateCallbacks[f](e);
                        G ? G = !1 : b();
                    }
                }, 100);
            }
        };
    }(), Builder.ui.app.init(), Builder.ui.metadata.init(), Builder.ui.steps.addAndCustomizeData.init(), 
    Builder.ui.steps.additionalToolsAndSettings.init(), Builder.ui.steps.setCenterAndZoom.init(), 
    Builder.ui.toolbar.init(), mapId && (Builder.ui.metadata.load(), Builder.ui.steps.addAndCustomizeData.load(), 
    Builder.ui.steps.additionalToolsAndSettings.load(), Builder.ui.steps.setCenterAndZoom.load(), 
    delete NPMap.created, delete NPMap.description, delete NPMap.isPublic, delete NPMap.isShared, 
    delete NPMap.modified, delete NPMap.name, delete NPMap.tags, firstLoad = !0), Builder.buildTooltips(), 
    Builder.updateMap();
}

!function(a, b) {
    "use strict";
    var c, d = a.document;
    c = function() {
        var c, e, f, g, h, i, j, k, l, m, n, o, p, q = {}, r = {}, s = !1, t = {
            ENTER: 13,
            ESC: 27,
            SPACE: 32
        }, u = [];
        return r = {
            buttons: {
                holder: '<nav class="alertify-buttons">{{buttons}}</nav>',
                submit: '<button type="submit" class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</button>',
                ok: '<button class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</button>',
                cancel: '<button class="alertify-button alertify-button-cancel" id="alertify-cancel">{{cancel}}</button>'
            },
            input: '<div class="alertify-text-wrapper"><input type="text" class="alertify-text" id="alertify-text"></div>',
            message: '<p class="alertify-message">{{message}}</p>',
            log: '<article class="alertify-log{{class}}">{{message}}</article>'
        }, p = function() {
            var a, c, e = !1, f = d.createElement("fakeelement"), g = {
                WebkitTransition: "webkitTransitionEnd",
                MozTransition: "transitionend",
                OTransition: "otransitionend",
                transition: "transitionend"
            };
            for (a in g) if (f.style[a] !== b) {
                c = g[a], e = !0;
                break;
            }
            return {
                type: c,
                supported: e
            };
        }, c = function(a) {
            return d.getElementById(a);
        }, q = {
            labels: {
                ok: "OK",
                cancel: "Cancel"
            },
            delay: 5e3,
            buttonReverse: !1,
            buttonFocus: "ok",
            transition: b,
            addListeners: function(a) {
                var b, c, i, j, k, l = "undefined" != typeof f, m = "undefined" != typeof e, n = "undefined" != typeof o, p = "", q = this;
                b = function(b) {
                    return "undefined" != typeof b.preventDefault && b.preventDefault(), i(b), "undefined" != typeof o && (p = o.value), 
                    "function" == typeof a && ("undefined" != typeof o ? a(!0, p) : a(!0)), !1;
                }, c = function(b) {
                    return "undefined" != typeof b.preventDefault && b.preventDefault(), i(b), "function" == typeof a && a(!1), 
                    !1;
                }, i = function() {
                    q.hide(), q.unbind(d.body, "keyup", j), q.unbind(g, "focus", k), l && q.unbind(f, "click", b), 
                    m && q.unbind(e, "click", c);
                }, j = function(a) {
                    var d = a.keyCode;
                    (d === t.SPACE && !n || n && d === t.ENTER) && b(a), d === t.ESC && m && c(a);
                }, k = function() {
                    n ? o.focus() : !m || q.buttonReverse ? f.focus() : e.focus();
                }, this.bind(g, "focus", k), this.bind(h, "focus", k), l && this.bind(f, "click", b), 
                m && this.bind(e, "click", c), this.bind(d.body, "keyup", j), this.transition.supported || this.setFocus();
            },
            bind: function(a, b, c) {
                "function" == typeof a.addEventListener ? a.addEventListener(b, c, !1) : a.attachEvent && a.attachEvent("on" + b, c);
            },
            handleErrors: function() {
                if ("undefined" != typeof a.onerror) {
                    var b = this;
                    return a.onerror = function(a, c, d) {
                        b.error("[" + a + " on line " + d + " of " + c + "]", 0);
                    }, !0;
                }
                return !1;
            },
            appendButtons: function(a, b) {
                return this.buttonReverse ? b + a : a + b;
            },
            build: function(a) {
                var b = "", c = a.type, d = a.message, e = a.cssClass || "";
                switch (b += '<div class="alertify-dialog">', b += '<a id="alertify-resetFocusBack" class="alertify-resetFocus" href="#">Reset Focus</a>', 
                "none" === q.buttonFocus && (b += '<a href="#" id="alertify-noneFocus" class="alertify-hidden"></a>'), 
                "prompt" === c && (b += '<div id="alertify-form">'), b += '<article class="alertify-inner">', 
                b += r.message.replace("{{message}}", d), "prompt" === c && (b += r.input), b += r.buttons.holder, 
                b += "</article>", "prompt" === c && (b += "</div>"), b += '<a id="alertify-resetFocus" class="alertify-resetFocus" href="#">Reset Focus</a>', 
                b += "</div>", c) {
                  case "confirm":
                    b = b.replace("{{buttons}}", this.appendButtons(r.buttons.cancel, r.buttons.ok)), 
                    b = b.replace("{{ok}}", this.labels.ok).replace("{{cancel}}", this.labels.cancel);
                    break;

                  case "prompt":
                    b = b.replace("{{buttons}}", this.appendButtons(r.buttons.cancel, r.buttons.submit)), 
                    b = b.replace("{{ok}}", this.labels.ok).replace("{{cancel}}", this.labels.cancel);
                    break;

                  case "alert":
                    b = b.replace("{{buttons}}", r.buttons.ok), b = b.replace("{{ok}}", this.labels.ok);
                }
                return l.className = "alertify alertify-" + c + " " + e, k.className = "alertify-cover", 
                b;
            },
            close: function(a, b) {
                var c, d, e = b && !isNaN(b) ? +b : this.delay, f = this;
                this.bind(a, "click", function() {
                    c(a);
                }), d = function(a) {
                    a.stopPropagation(), f.unbind(this, f.transition.type, d), m.removeChild(this), 
                    m.hasChildNodes() || (m.className += " alertify-logs-hidden");
                }, c = function(a) {
                    "undefined" != typeof a && a.parentNode === m && (f.transition.supported ? (f.bind(a, f.transition.type, d), 
                    a.className += " alertify-log-hide") : (m.removeChild(a), m.hasChildNodes() || (m.className += " alertify-logs-hidden")));
                }, 0 !== b && setTimeout(function() {
                    c(a);
                }, e);
            },
            dialog: function(a, b, c, e, f) {
                j = d.activeElement;
                var g = function() {
                    m && null !== m.scrollTop && k && null !== k.scrollTop || g();
                };
                if ("string" != typeof a) throw new Error("message must be a string");
                if ("string" != typeof b) throw new Error("type must be a string");
                if ("undefined" != typeof c && "function" != typeof c) throw new Error("fn must be a function");
                return this.init(), g(), u.push({
                    type: b,
                    message: a,
                    callback: c,
                    placeholder: e,
                    cssClass: f
                }), s || this.setup(), this;
            },
            extend: function(a) {
                if ("string" != typeof a) throw new Error("extend method must have exactly one paramter");
                return function(b, c) {
                    return this.log(b, a, c), this;
                };
            },
            hide: function() {
                var a, b = this;
                u.splice(0, 1), u.length > 0 ? this.setup(!0) : (s = !1, a = function(c) {
                    c.stopPropagation(), b.unbind(l, b.transition.type, a);
                }, this.transition.supported ? (this.bind(l, this.transition.type, a), l.className = "alertify alertify-hide alertify-hidden") : l.className = "alertify alertify-hide alertify-hidden alertify-isHidden", 
                k.className = "alertify-cover alertify-cover-hidden", j.focus());
            },
            init: function() {
                d.createElement("nav"), d.createElement("article"), d.createElement("section"), 
                null == c("alertify-logs") && (m = d.createElement("div"), m.setAttribute("id", "alertify-logs"), 
                m.className = "alertify-logs alertify-logs-hidden", d.body.appendChild(m)), d.body.setAttribute("tabindex", "0"), 
                this.transition = p();
            },
            log: function(a, b, c) {
                var d = function() {
                    m && null !== m.scrollTop || d();
                };
                return this.init(), d(), m.className = "alertify-logs", this.notify(a, b, c), this;
            },
            notify: function(a, b, c) {
                var e = d.createElement("article");
                e.className = "alertify-log" + ("string" == typeof b && "" !== b ? " alertify-log-" + b : ""), 
                e.innerHTML = a, m.appendChild(e), setTimeout(function() {
                    e.className = e.className + " alertify-log-show";
                }, 50), this.close(e, c);
            },
            set: function(a) {
                var b;
                if ("object" != typeof a && a instanceof Array) throw new Error("args must be an object");
                for (b in a) a.hasOwnProperty(b) && (this[b] = a[b]);
            },
            setFocus: function() {
                o ? (o.focus(), o.select()) : i.focus();
            },
            setup: function(a) {
                var d, j = u[0], k = this;
                s = !0, d = function(a) {
                    a.stopPropagation(), k.setFocus(), k.unbind(l, k.transition.type, d);
                }, this.transition.supported && !a && this.bind(l, this.transition.type, d), l.innerHTML = this.build(j), 
                g = c("alertify-resetFocus"), h = c("alertify-resetFocusBack"), f = c("alertify-ok") || b, 
                e = c("alertify-cancel") || b, i = "cancel" === q.buttonFocus ? e : "none" === q.buttonFocus ? c("alertify-noneFocus") : f, 
                o = c("alertify-text") || b, n = c("alertify-form") || b, "string" == typeof j.placeholder && "" !== j.placeholder && (o.value = j.placeholder), 
                a && this.setFocus(), this.addListeners(j.callback);
            },
            unbind: function(a, b, c) {
                "function" == typeof a.removeEventListener ? a.removeEventListener(b, c, !1) : a.detachEvent && a.detachEvent("on" + b, c);
            }
        }, {
            alert: function(a, b, c) {
                return q.dialog(a, "alert", b, "", c), this;
            },
            confirm: function(a, b, c) {
                return q.dialog(a, "confirm", b, "", c), this;
            },
            extend: q.extend,
            init: q.init,
            log: function(a, b, c) {
                return q.log(a, b, c), this;
            },
            prompt: function(a, b, c, d) {
                return q.dialog(a, "prompt", b, c, d), this;
            },
            success: function(a, b) {
                return q.log(a, "success", b), this;
            },
            error: function(a, b) {
                return q.log(a, "error", b), this;
            },
            set: function(a) {
                q.set(a);
            },
            labels: q.labels,
            debug: q.handleErrors
        };
    }, "function" == typeof define ? define([], function() {
        return new c();
    }) : "undefined" == typeof a.alertify && (a.alertify = new c());
}(this), function(a) {
    "use strict";
    var b = function(b, c) {
        this.options = a.extend({}, a.fn.editableform.defaults, c), this.$div = a(b), this.options.scope || (this.options.scope = this);
    };
    b.prototype = {
        constructor: b,
        initInput: function() {
            this.input = this.options.input, this.value = this.input.str2value(this.options.value), 
            this.input.prerender();
        },
        initTemplate: function() {
            this.$form = a(a.fn.editableform.template);
        },
        initButtons: function() {
            var b = this.$form.find(".editable-buttons");
            b.append(a.fn.editableform.buttons), "bottom" === this.options.showbuttons && b.addClass("editable-buttons-bottom");
        },
        render: function() {
            this.$loading = a(a.fn.editableform.loading), this.$div.empty().append(this.$loading), 
            this.initTemplate(), this.options.showbuttons ? this.initButtons() : this.$form.find(".editable-buttons").remove(), 
            this.showLoading(), this.isSaving = !1, this.$div.triggerHandler("rendering"), this.initInput(), 
            this.$form.find("div.editable-input").append(this.input.$tpl), this.$div.append(this.$form), 
            a.when(this.input.render()).then(a.proxy(function() {
                if (this.options.showbuttons || this.input.autosubmit(), this.$form.find(".editable-cancel").click(a.proxy(this.cancel, this)), 
                this.input.error) this.error(this.input.error), this.$form.find(".editable-submit").attr("disabled", !0), 
                this.input.$input.attr("disabled", !0), this.$form.submit(function(a) {
                    a.preventDefault();
                }); else {
                    this.error(!1), this.input.$input.removeAttr("disabled"), this.$form.find(".editable-submit").removeAttr("disabled");
                    var b = null === this.value || void 0 === this.value || "" === this.value ? this.options.defaultValue : this.value;
                    this.input.value2input(b), this.$form.submit(a.proxy(this.submit, this));
                }
                this.$div.triggerHandler("rendered"), this.showForm(), this.input.postrender && this.input.postrender();
            }, this));
        },
        cancel: function() {
            this.$div.triggerHandler("cancel");
        },
        showLoading: function() {
            var a, b;
            this.$form ? (a = this.$form.outerWidth(), b = this.$form.outerHeight(), a && this.$loading.width(a), 
            b && this.$loading.height(b), this.$form.hide()) : (a = this.$loading.parent().width(), 
            a && this.$loading.width(a)), this.$loading.show();
        },
        showForm: function(a) {
            this.$loading.hide(), this.$form.show(), a !== !1 && this.input.activate(), this.$div.triggerHandler("show");
        },
        error: function(b) {
            var c, d = this.$form.find(".control-group"), e = this.$form.find(".editable-error-block");
            if (b === !1) d.removeClass(a.fn.editableform.errorGroupClass), e.removeClass(a.fn.editableform.errorBlockClass).empty().hide(); else {
                if (b) {
                    c = b.split("\n");
                    for (var f = 0; f < c.length; f++) c[f] = a("<div>").text(c[f]).html();
                    b = c.join("<br>");
                }
                d.addClass(a.fn.editableform.errorGroupClass), e.addClass(a.fn.editableform.errorBlockClass).html(b).show();
            }
        },
        submit: function(b) {
            b.stopPropagation(), b.preventDefault();
            var c, d = this.input.input2value();
            if (c = this.validate(d)) return this.error(c), void this.showForm();
            if (!this.options.savenochange && this.input.value2str(d) == this.input.value2str(this.value)) return void this.$div.triggerHandler("nochange");
            var e = this.input.value2submit(d);
            this.isSaving = !0, a.when(this.save(e)).done(a.proxy(function(a) {
                this.isSaving = !1;
                var b = "function" == typeof this.options.success ? this.options.success.call(this.options.scope, a, d) : null;
                return b === !1 ? (this.error(!1), void this.showForm(!1)) : "string" == typeof b ? (this.error(b), 
                void this.showForm()) : (b && "object" == typeof b && b.hasOwnProperty("newValue") && (d = b.newValue), 
                this.error(!1), this.value = d, void this.$div.triggerHandler("save", {
                    newValue: d,
                    submitValue: e,
                    response: a
                }));
            }, this)).fail(a.proxy(function(a) {
                this.isSaving = !1;
                var b;
                b = "function" == typeof this.options.error ? this.options.error.call(this.options.scope, a, d) : "string" == typeof a ? a : a.responseText || a.statusText || "Unknown error!", 
                this.error(b), this.showForm();
            }, this));
        },
        save: function(b) {
            this.options.pk = a.fn.editableutils.tryParseJson(this.options.pk, !0);
            var c, d = "function" == typeof this.options.pk ? this.options.pk.call(this.options.scope) : this.options.pk, e = !!("function" == typeof this.options.url || this.options.url && ("always" === this.options.send || "auto" === this.options.send && null !== d && void 0 !== d));
            return e ? (this.showLoading(), c = {
                name: this.options.name || "",
                value: b,
                pk: d
            }, "function" == typeof this.options.params ? c = this.options.params.call(this.options.scope, c) : (this.options.params = a.fn.editableutils.tryParseJson(this.options.params, !0), 
            a.extend(c, this.options.params)), "function" == typeof this.options.url ? this.options.url.call(this.options.scope, c) : a.ajax(a.extend({
                url: this.options.url,
                data: c,
                type: "POST"
            }, this.options.ajaxOptions))) : void 0;
        },
        validate: function(a) {
            return void 0 === a && (a = this.value), "function" == typeof this.options.validate ? this.options.validate.call(this.options.scope, a) : void 0;
        },
        option: function(a, b) {
            a in this.options && (this.options[a] = b), "value" === a && this.setValue(b);
        },
        setValue: function(a, b) {
            this.value = b ? this.input.str2value(a) : a, this.$form && this.$form.is(":visible") && this.input.value2input(this.value);
        }
    }, a.fn.editableform = function(c) {
        var d = arguments;
        return this.each(function() {
            var e = a(this), f = e.data("editableform"), g = "object" == typeof c && c;
            f || e.data("editableform", f = new b(this, g)), "string" == typeof c && f[c].apply(f, Array.prototype.slice.call(d, 1));
        });
    }, a.fn.editableform.Constructor = b, a.fn.editableform.defaults = {
        type: "text",
        url: null,
        params: null,
        name: null,
        pk: null,
        value: null,
        defaultValue: null,
        send: "auto",
        validate: null,
        success: null,
        error: null,
        ajaxOptions: null,
        showbuttons: !0,
        scope: null,
        savenochange: !1
    }, a.fn.editableform.template = '<form class="form-inline editableform"><div class="control-group"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>', 
    a.fn.editableform.loading = '<div class="editableform-loading"></div>', a.fn.editableform.buttons = '<button type="submit" class="editable-submit">ok</button><button type="button" class="editable-cancel">cancel</button>', 
    a.fn.editableform.errorGroupClass = null, a.fn.editableform.errorBlockClass = "editable-error", 
    a.fn.editableform.engine = "jquery";
}(window.jQuery), function(a) {
    "use strict";
    a.fn.editableutils = {
        inherit: function(a, b) {
            var c = function() {};
            c.prototype = b.prototype, a.prototype = new c(), a.prototype.constructor = a, a.superclass = b.prototype;
        },
        setCursorPosition: function(a, b) {
            if (a.setSelectionRange) a.setSelectionRange(b, b); else if (a.createTextRange) {
                var c = a.createTextRange();
                c.collapse(!0), c.moveEnd("character", b), c.moveStart("character", b), c.select();
            }
        },
        tryParseJson: function(a, b) {
            if ("string" == typeof a && a.length && a.match(/^[\{\[].*[\}\]]$/)) if (b) try {
                a = new Function("return " + a)();
            } catch (c) {} finally {
                return a;
            } else a = new Function("return " + a)();
            return a;
        },
        sliceObj: function(b, c, d) {
            var e, f, g = {};
            if (!a.isArray(c) || !c.length) return g;
            for (var h = 0; h < c.length; h++) e = c[h], b.hasOwnProperty(e) && (g[e] = b[e]), 
            d !== !0 && (f = e.toLowerCase(), b.hasOwnProperty(f) && (g[e] = b[f]));
            return g;
        },
        getConfigData: function(b) {
            var c = {};
            return a.each(b.data(), function(a, b) {
                ("object" != typeof b || b && "object" == typeof b && (b.constructor === Object || b.constructor === Array)) && (c[a] = b);
            }), c;
        },
        objectKeys: function(a) {
            if (Object.keys) return Object.keys(a);
            if (a !== Object(a)) throw new TypeError("Object.keys called on a non-object");
            var b, c = [];
            for (b in a) Object.prototype.hasOwnProperty.call(a, b) && c.push(b);
            return c;
        },
        escape: function(b) {
            return a("<div>").text(b).html();
        },
        itemsByValue: function(b, c, d) {
            if (!c || null === b) return [];
            if ("function" != typeof d) {
                var e = d || "value";
                d = function(a) {
                    return a[e];
                };
            }
            var f = a.isArray(b), g = [], h = this;
            return a.each(c, function(c, e) {
                if (e.children) g = g.concat(h.itemsByValue(b, e.children, d)); else if (f) a.grep(b, function(a) {
                    return a == (e && "object" == typeof e ? d(e) : e);
                }).length && g.push(e); else {
                    var i = e && "object" == typeof e ? d(e) : e;
                    b == i && g.push(e);
                }
            }), g;
        },
        createInput: function(b) {
            var c, d, e, f = b.type;
            return "date" === f && ("inline" === b.mode ? a.fn.editabletypes.datefield ? f = "datefield" : a.fn.editabletypes.dateuifield && (f = "dateuifield") : a.fn.editabletypes.date ? f = "date" : a.fn.editabletypes.dateui && (f = "dateui"), 
            "date" !== f || a.fn.editabletypes.date || (f = "combodate")), "datetime" === f && "inline" === b.mode && (f = "datetimefield"), 
            "wysihtml5" !== f || a.fn.editabletypes[f] || (f = "textarea"), "function" == typeof a.fn.editabletypes[f] ? (c = a.fn.editabletypes[f], 
            d = this.sliceObj(b, this.objectKeys(c.defaults)), e = new c(d)) : (a.error("Unknown type: " + f), 
            !1);
        },
        supportsTransitions: function() {
            var a = document.body || document.documentElement, b = a.style, c = "transition", d = [ "Moz", "Webkit", "Khtml", "O", "ms" ];
            if ("string" == typeof b[c]) return !0;
            c = c.charAt(0).toUpperCase() + c.substr(1);
            for (var e = 0; e < d.length; e++) if ("string" == typeof b[d[e] + c]) return !0;
            return !1;
        }
    };
}(window.jQuery), function(a) {
    "use strict";
    var b = function(a, b) {
        this.init(a, b);
    }, c = function(a, b) {
        this.init(a, b);
    };
    b.prototype = {
        containerName: null,
        containerDataName: null,
        innerCss: null,
        containerClass: "editable-container editable-popup",
        defaults: {},
        init: function(c, d) {
            this.$element = a(c), this.options = a.extend({}, a.fn.editableContainer.defaults, d), 
            this.splitOptions(), this.formOptions.scope = this.$element[0], this.initContainer(), 
            this.delayedHide = !1, this.$element.on("destroyed", a.proxy(function() {
                this.destroy();
            }, this)), a(document).data("editable-handlers-attached") || (a(document).on("keyup.editable", function(a) {
                27 === a.which;
            }), a(document).on("click.editable", function(c) {
                var d, e = a(c.target), f = [ ".editable-container", ".ui-datepicker-header", ".datepicker", ".modal-backdrop", ".bootstrap-wysihtml5-insert-image-modal", ".bootstrap-wysihtml5-insert-link-modal" ];
                if (a.contains(document.documentElement, c.target) && !e.is(document)) {
                    for (d = 0; d < f.length; d++) if (e.is(f[d]) || e.parents(f[d]).length) return;
                    b.prototype.closeOthers(c.target);
                }
            }), a(document).data("editable-handlers-attached", !0));
        },
        splitOptions: function() {
            if (this.containerOptions = {}, this.formOptions = {}, !a.fn[this.containerName]) throw new Error(this.containerName + " not found. Have you included corresponding js file?");
            for (var b in this.options) b in this.defaults ? this.containerOptions[b] = this.options[b] : this.formOptions[b] = this.options[b];
        },
        tip: function() {
            return this.container() ? this.container().$tip : null;
        },
        container: function() {
            var a;
            return this.containerDataName && (a = this.$element.data(this.containerDataName)) ? a : a = this.$element.data(this.containerName);
        },
        call: function() {
            this.$element[this.containerName].apply(this.$element, arguments);
        },
        initContainer: function() {
            this.call(this.containerOptions);
        },
        renderForm: function() {
            this.$form.editableform(this.formOptions).on({
                save: a.proxy(this.save, this),
                nochange: a.proxy(function() {
                    this.hide("nochange");
                }, this),
                cancel: a.proxy(function() {
                    this.hide("cancel");
                }, this),
                show: a.proxy(function() {
                    this.delayedHide ? (this.hide(this.delayedHide.reason), this.delayedHide = !1) : this.setPosition();
                }, this),
                rendering: a.proxy(this.setPosition, this),
                resize: a.proxy(this.setPosition, this),
                rendered: a.proxy(function() {
                    this.$element.triggerHandler("shown", a(this.options.scope).data("editable"));
                }, this)
            }).editableform("render");
        },
        show: function(b) {
            this.$element.addClass("editable-open"), b !== !1 && this.closeOthers(this.$element[0]), 
            this.innerShow(), this.tip().addClass(this.containerClass), this.$form, this.$form = a("<div>"), 
            this.tip().is(this.innerCss) ? this.tip().append(this.$form) : this.tip().find(this.innerCss).append(this.$form), 
            this.renderForm();
        },
        hide: function(a) {
            if (this.tip() && this.tip().is(":visible") && this.$element.hasClass("editable-open")) {
                if (this.$form.data("editableform").isSaving) return void (this.delayedHide = {
                    reason: a
                });
                this.delayedHide = !1, this.$element.removeClass("editable-open"), this.innerHide(), 
                this.$element.triggerHandler("hidden", a || "manual");
            }
        },
        innerShow: function() {},
        innerHide: function() {},
        toggle: function(a) {
            this.container() && this.tip() && this.tip().is(":visible") ? this.hide() : this.show(a);
        },
        setPosition: function() {},
        save: function(a, b) {
            this.$element.triggerHandler("save", b), this.hide("save");
        },
        option: function(a, b) {
            this.options[a] = b, a in this.containerOptions ? (this.containerOptions[a] = b, 
            this.setContainerOption(a, b)) : (this.formOptions[a] = b, this.$form && this.$form.editableform("option", a, b));
        },
        setContainerOption: function(a, b) {
            this.call("option", a, b);
        },
        destroy: function() {
            this.hide(), this.innerDestroy(), this.$element.off("destroyed"), this.$element.removeData("editableContainer");
        },
        innerDestroy: function() {},
        closeOthers: function(b) {
            a(".editable-open").each(function(c, d) {
                if (d !== b && !a(d).find(b).length) {
                    var e = a(d), f = e.data("editableContainer");
                    f && ("cancel" === f.options.onblur ? e.data("editableContainer").hide("onblur") : "submit" === f.options.onblur && e.data("editableContainer").tip().find("form").submit());
                }
            });
        },
        activate: function() {
            this.tip && this.tip().is(":visible") && this.$form && this.$form.data("editableform").input.activate();
        }
    }, a.fn.editableContainer = function(d) {
        var e = arguments;
        return this.each(function() {
            var f = a(this), g = "editableContainer", h = f.data(g), i = "object" == typeof d && d, j = "inline" === i.mode ? c : b;
            h || f.data(g, h = new j(this, i)), "string" == typeof d && h[d].apply(h, Array.prototype.slice.call(e, 1));
        });
    }, a.fn.editableContainer.Popup = b, a.fn.editableContainer.Inline = c, a.fn.editableContainer.defaults = {
        value: null,
        placement: "top",
        autohide: !0,
        onblur: "cancel",
        anim: !1,
        mode: "popup"
    }, jQuery.event.special.destroyed = {
        remove: function(a) {
            a.handler && a.handler();
        }
    };
}(window.jQuery), function(a) {
    "use strict";
    a.extend(a.fn.editableContainer.Inline.prototype, a.fn.editableContainer.Popup.prototype, {
        containerName: "editableform",
        innerCss: ".editable-inline",
        containerClass: "editable-container editable-inline",
        initContainer: function() {
            this.$tip = a("<span></span>"), this.options.anim || (this.options.anim = 0);
        },
        splitOptions: function() {
            this.containerOptions = {}, this.formOptions = this.options;
        },
        tip: function() {
            return this.$tip;
        },
        innerShow: function() {
            this.$element.hide(), this.tip().insertAfter(this.$element).show();
        },
        innerHide: function() {
            this.$tip.hide(this.options.anim, a.proxy(function() {
                this.$element.show(), this.innerDestroy();
            }, this));
        },
        innerDestroy: function() {
            this.tip() && this.tip().empty().remove();
        }
    });
}(window.jQuery), function(a) {
    "use strict";
    var b = function(b, c) {
        this.$element = a(b), this.options = a.extend({}, a.fn.editable.defaults, c, a.fn.editableutils.getConfigData(this.$element)), 
        this.options.selector ? this.initLive() : this.init(), this.options.highlight && !a.fn.editableutils.supportsTransitions() && (this.options.highlight = !1);
    };
    b.prototype = {
        constructor: b,
        init: function() {
            var b, c = !1;
            if (this.options.name = this.options.name || this.$element.attr("id"), this.options.scope = this.$element[0], 
            this.input = a.fn.editableutils.createInput(this.options), this.input) {
                switch (void 0 === this.options.value || null === this.options.value ? (this.value = this.input.html2value(a.trim(this.$element.html())), 
                c = !0) : (this.options.value = a.fn.editableutils.tryParseJson(this.options.value, !0), 
                this.value = "string" == typeof this.options.value ? this.input.str2value(this.options.value) : this.options.value), 
                this.$element.addClass("editable"), "textarea" === this.input.type && this.$element.addClass("editable-pre-wrapped"), 
                "manual" !== this.options.toggle ? (this.$element.addClass("editable-click"), this.$element.on(this.options.toggle + ".editable", a.proxy(function(a) {
                    if (this.options.disabled || a.preventDefault(), "mouseenter" === this.options.toggle) this.show(); else {
                        var b = "click" !== this.options.toggle;
                        this.toggle(b);
                    }
                }, this))) : this.$element.attr("tabindex", -1), "function" == typeof this.options.display && (this.options.autotext = "always"), 
                this.options.autotext) {
                  case "always":
                    b = !0;
                    break;

                  case "auto":
                    b = !a.trim(this.$element.text()).length && null !== this.value && void 0 !== this.value && !c;
                    break;

                  default:
                    b = !1;
                }
                a.when(b ? this.render() : !0).then(a.proxy(function() {
                    this.options.disabled ? this.disable() : this.enable(), this.$element.triggerHandler("init", this);
                }, this));
            }
        },
        initLive: function() {
            var b = this.options.selector;
            this.options.selector = !1, this.options.autotext = "never", this.$element.on(this.options.toggle + ".editable", b, a.proxy(function(b) {
                var c = a(b.target);
                c.data("editable") || (c.hasClass(this.options.emptyclass) && c.empty(), c.editable(this.options).trigger(b));
            }, this));
        },
        render: function(a) {
            return this.options.display !== !1 ? this.input.value2htmlFinal ? this.input.value2html(this.value, this.$element[0], this.options.display, a) : "function" == typeof this.options.display ? this.options.display.call(this.$element[0], this.value, a) : this.input.value2html(this.value, this.$element[0]) : void 0;
        },
        enable: function() {
            this.options.disabled = !1, this.$element.removeClass("editable-disabled"), this.handleEmpty(this.isEmpty), 
            "manual" !== this.options.toggle && "-1" === this.$element.attr("tabindex") && this.$element.removeAttr("tabindex");
        },
        disable: function() {
            this.options.disabled = !0, this.hide(), this.$element.addClass("editable-disabled"), 
            this.handleEmpty(this.isEmpty), this.$element.attr("tabindex", -1);
        },
        toggleDisabled: function() {
            this.options.disabled ? this.enable() : this.disable();
        },
        option: function(b, c) {
            return b && "object" == typeof b ? void a.each(b, a.proxy(function(b, c) {
                this.option(a.trim(b), c);
            }, this)) : (this.options[b] = c, "disabled" === b ? c ? this.disable() : this.enable() : ("value" === b && this.setValue(c), 
            this.container && this.container.option(b, c), void (this.input.option && this.input.option(b, c))));
        },
        handleEmpty: function(b) {
            this.options.display !== !1 && (this.isEmpty = void 0 !== b ? b : "function" == typeof this.input.isEmpty ? this.input.isEmpty(this.$element) : "" === a.trim(this.$element.html()), 
            this.options.disabled ? this.isEmpty && (this.$element.empty(), this.options.emptyclass && this.$element.removeClass(this.options.emptyclass)) : this.isEmpty ? (this.$element.html(this.options.emptytext), 
            this.options.emptyclass && this.$element.addClass(this.options.emptyclass)) : this.options.emptyclass && this.$element.removeClass(this.options.emptyclass));
        },
        show: function(b) {
            if (!this.options.disabled) {
                if (this.container) {
                    if (this.container.tip().is(":visible")) return;
                } else {
                    var c = a.extend({}, this.options, {
                        value: this.value,
                        input: this.input
                    });
                    this.$element.editableContainer(c), this.$element.on("save.internal", a.proxy(this.save, this)), 
                    this.container = this.$element.data("editableContainer");
                }
                this.container.show(b);
            }
        },
        hide: function() {
            this.container && this.container.hide();
        },
        toggle: function(a) {
            this.container && this.container.tip().is(":visible") ? this.hide() : this.show(a);
        },
        save: function(a, b) {
            if (this.options.unsavedclass) {
                var c = !1;
                c = c || "function" == typeof this.options.url, c = c || this.options.display === !1, 
                c = c || void 0 !== b.response, c = c || this.options.savenochange && this.input.value2str(this.value) !== this.input.value2str(b.newValue), 
                c ? this.$element.removeClass(this.options.unsavedclass) : this.$element.addClass(this.options.unsavedclass);
            }
            if (this.options.highlight) {
                var d = this.$element, e = d.css("background-color");
                d.css("background-color", this.options.highlight), setTimeout(function() {
                    "transparent" === e && (e = ""), d.css("background-color", e), d.addClass("editable-bg-transition"), 
                    setTimeout(function() {
                        d.removeClass("editable-bg-transition");
                    }, 1700);
                }, 10);
            }
            this.setValue(b.newValue, !1, b.response);
        },
        validate: function() {
            return "function" == typeof this.options.validate ? this.options.validate.call(this, this.value) : void 0;
        },
        setValue: function(b, c, d) {
            this.value = c ? this.input.str2value(b) : b, this.container && this.container.option("value", this.value), 
            a.when(this.render(d)).then(a.proxy(function() {
                this.handleEmpty();
            }, this));
        },
        activate: function() {
            this.container && this.container.activate();
        },
        destroy: function() {
            this.disable(), this.container && this.container.destroy(), this.input.destroy(), 
            "manual" !== this.options.toggle && (this.$element.removeClass("editable-click"), 
            this.$element.off(this.options.toggle + ".editable")), this.$element.off("save.internal"), 
            this.$element.removeClass("editable editable-open editable-disabled"), this.$element.removeData("editable");
        }
    }, a.fn.editable = function(c) {
        var d = {}, e = arguments, f = "editable";
        switch (c) {
          case "validate":
            return this.each(function() {
                var b, c = a(this), e = c.data(f);
                e && (b = e.validate()) && (d[e.options.name] = b);
            }), d;

          case "getValue":
            return 2 === arguments.length && arguments[1] === !0 ? d = this.eq(0).data(f).value : this.each(function() {
                var b = a(this), c = b.data(f);
                c && void 0 !== c.value && null !== c.value && (d[c.options.name] = c.input.value2submit(c.value));
            }), d;

          case "submit":
            var g, h = arguments[1] || {}, i = this, j = this.editable("validate");
            return a.isEmptyObject(j) ? (g = this.editable("getValue"), h.data && a.extend(g, h.data), 
            a.ajax(a.extend({
                url: h.url,
                data: g,
                type: "POST"
            }, h.ajaxOptions)).success(function(a) {
                "function" == typeof h.success && h.success.call(i, a, h);
            }).error(function() {
                "function" == typeof h.error && h.error.apply(i, arguments);
            })) : "function" == typeof h.error && h.error.call(i, j), this;
        }
        return this.each(function() {
            var d = a(this), g = d.data(f), h = "object" == typeof c && c;
            return h && h.selector ? void (g = new b(this, h)) : (g || d.data(f, g = new b(this, h)), 
            void ("string" == typeof c && g[c].apply(g, Array.prototype.slice.call(e, 1))));
        });
    }, a.fn.editable.defaults = {
        type: "text",
        disabled: !1,
        toggle: "click",
        emptytext: "Empty",
        autotext: "auto",
        value: null,
        display: null,
        emptyclass: "editable-empty",
        unsavedclass: "editable-unsaved",
        selector: null,
        highlight: "#FFFF80"
    };
}(window.jQuery), function(a) {
    "use strict";
    a.fn.editabletypes = {};
    var b = function() {};
    b.prototype = {
        init: function(b, c, d) {
            this.type = b, this.options = a.extend({}, d, c);
        },
        prerender: function() {
            this.$tpl = a(this.options.tpl), this.$input = this.$tpl, this.$clear = null, this.error = null;
        },
        render: function() {},
        value2html: function(b, c) {
            a(c)[this.options.escape ? "text" : "html"](a.trim(b));
        },
        html2value: function(b) {
            return a("<div>").html(b).text();
        },
        value2str: function(a) {
            return a;
        },
        str2value: function(a) {
            return a;
        },
        value2submit: function(a) {
            return a;
        },
        value2input: function(a) {
            this.$input.val(a);
        },
        input2value: function() {
            return this.$input.val();
        },
        activate: function() {
            this.$input.is(":visible") && this.$input.focus();
        },
        clear: function() {
            this.$input.val(null);
        },
        escape: function(b) {
            return a("<div>").text(b).html();
        },
        autosubmit: function() {},
        destroy: function() {},
        setClass: function() {
            this.options.inputclass && this.$input.addClass(this.options.inputclass);
        },
        setAttr: function(a) {
            void 0 !== this.options[a] && null !== this.options[a] && this.$input.attr(a, this.options[a]);
        },
        option: function(a, b) {
            this.options[a] = b;
        }
    }, b.defaults = {
        tpl: "",
        inputclass: null,
        escape: !0,
        scope: null,
        showbuttons: !0
    }, a.extend(a.fn.editabletypes, {
        abstractinput: b
    });
}(window.jQuery), function(a) {
    "use strict";
    var b = function() {};
    a.fn.editableutils.inherit(b, a.fn.editabletypes.abstractinput), a.extend(b.prototype, {
        render: function() {
            var b = a.Deferred();
            return this.error = null, this.onSourceReady(function() {
                this.renderList(), b.resolve();
            }, function() {
                this.error = this.options.sourceError, b.resolve();
            }), b.promise();
        },
        html2value: function() {
            return null;
        },
        value2html: function(b, c, d, e) {
            var f = a.Deferred(), g = function() {
                "function" == typeof d ? d.call(c, b, this.sourceData, e) : this.value2htmlFinal(b, c), 
                f.resolve();
            };
            return null === b ? g.call(this) : this.onSourceReady(g, function() {
                f.resolve();
            }), f.promise();
        },
        onSourceReady: function(b, c) {
            var d;
            if (a.isFunction(this.options.source) ? (d = this.options.source.call(this.options.scope), 
            this.sourceData = null) : d = this.options.source, this.options.sourceCache && a.isArray(this.sourceData)) return void b.call(this);
            try {
                d = a.fn.editableutils.tryParseJson(d, !1);
            } catch (e) {
                return void c.call(this);
            }
            if ("string" == typeof d) {
                if (this.options.sourceCache) {
                    var f, g = d;
                    if (a(document).data(g) || a(document).data(g, {}), f = a(document).data(g), f.loading === !1 && f.sourceData) return this.sourceData = f.sourceData, 
                    this.doPrepend(), void b.call(this);
                    if (f.loading === !0) return f.callbacks.push(a.proxy(function() {
                        this.sourceData = f.sourceData, this.doPrepend(), b.call(this);
                    }, this)), void f.err_callbacks.push(a.proxy(c, this));
                    f.loading = !0, f.callbacks = [], f.err_callbacks = [];
                }
                var h = a.extend({
                    url: d,
                    type: "get",
                    cache: !1,
                    dataType: "json",
                    success: a.proxy(function(d) {
                        f && (f.loading = !1), this.sourceData = this.makeArray(d), a.isArray(this.sourceData) ? (f && (f.sourceData = this.sourceData, 
                        a.each(f.callbacks, function() {
                            this.call();
                        })), this.doPrepend(), b.call(this)) : (c.call(this), f && a.each(f.err_callbacks, function() {
                            this.call();
                        }));
                    }, this),
                    error: a.proxy(function() {
                        c.call(this), f && (f.loading = !1, a.each(f.err_callbacks, function() {
                            this.call();
                        }));
                    }, this)
                }, this.options.sourceOptions);
                a.ajax(h);
            } else this.sourceData = this.makeArray(d), a.isArray(this.sourceData) ? (this.doPrepend(), 
            b.call(this)) : c.call(this);
        },
        doPrepend: function() {
            null !== this.options.prepend && void 0 !== this.options.prepend && (a.isArray(this.prependData) || (a.isFunction(this.options.prepend) && (this.options.prepend = this.options.prepend.call(this.options.scope)), 
            this.options.prepend = a.fn.editableutils.tryParseJson(this.options.prepend, !0), 
            "string" == typeof this.options.prepend && (this.options.prepend = {
                "": this.options.prepend
            }), this.prependData = this.makeArray(this.options.prepend)), a.isArray(this.prependData) && a.isArray(this.sourceData) && (this.sourceData = this.prependData.concat(this.sourceData)));
        },
        renderList: function() {},
        value2htmlFinal: function() {},
        makeArray: function(b) {
            var c, d, e, f, g = [];
            if (!b || "string" == typeof b) return null;
            if (a.isArray(b)) {
                f = function(a, b) {
                    return d = {
                        value: a,
                        text: b
                    }, c++ >= 2 ? !1 : void 0;
                };
                for (var h = 0; h < b.length; h++) e = b[h], "object" == typeof e ? (c = 0, a.each(e, f), 
                1 === c ? g.push(d) : c > 1 && (e.children && (e.children = this.makeArray(e.children)), 
                g.push(e))) : g.push({
                    value: e,
                    text: e
                });
            } else a.each(b, function(a, b) {
                g.push({
                    value: a,
                    text: b
                });
            });
            return g;
        },
        option: function(a, b) {
            this.options[a] = b, "source" === a && (this.sourceData = null), "prepend" === a && (this.prependData = null);
        }
    }), b.defaults = a.extend({}, a.fn.editabletypes.abstractinput.defaults, {
        source: null,
        prepend: !1,
        sourceError: "Error when loading list",
        sourceCache: !0,
        sourceOptions: null
    }), a.fn.editabletypes.list = b;
}(window.jQuery), function(a) {
    "use strict";
    var b = function(a) {
        this.init("text", a, b.defaults);
    };
    a.fn.editableutils.inherit(b, a.fn.editabletypes.abstractinput), a.extend(b.prototype, {
        render: function() {
            this.renderClear(), this.setClass(), this.setAttr("placeholder");
        },
        activate: function() {
            this.$input.is(":visible") && (this.$input.focus(), a.fn.editableutils.setCursorPosition(this.$input.get(0), this.$input.val().length), 
            this.toggleClear && this.toggleClear());
        },
        renderClear: function() {
            this.options.clear && (this.$clear = a('<span class="editable-clear-x"></span>'), 
            this.$input.after(this.$clear).css("padding-right", 24).keyup(a.proxy(function(b) {
                if (!~a.inArray(b.keyCode, [ 40, 38, 9, 13, 27 ])) {
                    clearTimeout(this.t);
                    var c = this;
                    this.t = setTimeout(function() {
                        c.toggleClear(b);
                    }, 100);
                }
            }, this)).parent().css("position", "relative"), this.$clear.click(a.proxy(this.clear, this)));
        },
        postrender: function() {},
        toggleClear: function() {
            if (this.$clear) {
                var a = this.$input.val().length, b = this.$clear.is(":visible");
                a && !b && this.$clear.show(), !a && b && this.$clear.hide();
            }
        },
        clear: function() {
            this.$clear.hide(), this.$input.val("").focus();
        }
    }), b.defaults = a.extend({}, a.fn.editabletypes.abstractinput.defaults, {
        tpl: '<input type="text">',
        placeholder: null,
        clear: !0
    }), a.fn.editabletypes.text = b;
}(window.jQuery), function(a) {
    "use strict";
    var b = function(a) {
        this.init("textarea", a, b.defaults);
    };
    a.fn.editableutils.inherit(b, a.fn.editabletypes.abstractinput), a.extend(b.prototype, {
        render: function() {
            this.setClass(), this.setAttr("placeholder"), this.setAttr("rows"), this.$input.keydown(function(b) {
                b.ctrlKey && 13 === b.which && a(this).closest("form").submit();
            });
        },
        activate: function() {
            a.fn.editabletypes.text.prototype.activate.call(this);
        }
    }), b.defaults = a.extend({}, a.fn.editabletypes.abstractinput.defaults, {
        tpl: "<textarea></textarea>",
        inputclass: "input-large",
        placeholder: null,
        rows: 7
    }), a.fn.editabletypes.textarea = b;
}(window.jQuery), function(a) {
    "use strict";
    var b = function(a) {
        this.init("select", a, b.defaults);
    };
    a.fn.editableutils.inherit(b, a.fn.editabletypes.list), a.extend(b.prototype, {
        renderList: function() {
            this.$input.empty();
            var b = function(c, d) {
                var e;
                if (a.isArray(d)) for (var f = 0; f < d.length; f++) e = {}, d[f].children ? (e.label = d[f].text, 
                c.append(b(a("<optgroup>", e), d[f].children))) : (e.value = d[f].value, d[f].disabled && (e.disabled = !0), 
                c.append(a("<option>", e).text(d[f].text)));
                return c;
            };
            b(this.$input, this.sourceData), this.setClass(), this.$input.on("keydown.editable", function(b) {
                13 === b.which && a(this).closest("form").submit();
            });
        },
        value2htmlFinal: function(b, c) {
            var d = "", e = a.fn.editableutils.itemsByValue(b, this.sourceData);
            e.length && (d = e[0].text), a.fn.editabletypes.abstractinput.prototype.value2html.call(this, d, c);
        },
        autosubmit: function() {
            this.$input.off("keydown.editable").on("change.editable", function() {
                a(this).closest("form").submit();
            });
        }
    }), b.defaults = a.extend({}, a.fn.editabletypes.list.defaults, {
        tpl: "<select></select>"
    }), a.fn.editabletypes.select = b;
}(window.jQuery), function(a) {
    "use strict";
    var b = function(a) {
        this.init("checklist", a, b.defaults);
    };
    a.fn.editableutils.inherit(b, a.fn.editabletypes.list), a.extend(b.prototype, {
        renderList: function() {
            var b;
            if (this.$tpl.empty(), a.isArray(this.sourceData)) {
                for (var c = 0; c < this.sourceData.length; c++) b = a("<label>").append(a("<input>", {
                    type: "checkbox",
                    value: this.sourceData[c].value
                })).append(a("<span>").text(" " + this.sourceData[c].text)), a("<div>").append(b).appendTo(this.$tpl);
                this.$input = this.$tpl.find('input[type="checkbox"]'), this.setClass();
            }
        },
        value2str: function(b) {
            return a.isArray(b) ? b.sort().join(a.trim(this.options.separator)) : "";
        },
        str2value: function(b) {
            var c, d = null;
            return "string" == typeof b && b.length ? (c = new RegExp("\\s*" + a.trim(this.options.separator) + "\\s*"), 
            d = b.split(c)) : d = a.isArray(b) ? b : [ b ], d;
        },
        value2input: function(b) {
            this.$input.prop("checked", !1), a.isArray(b) && b.length && this.$input.each(function(c, d) {
                var e = a(d);
                a.each(b, function(a, b) {
                    e.val() == b && e.prop("checked", !0);
                });
            });
        },
        input2value: function() {
            var b = [];
            return this.$input.filter(":checked").each(function(c, d) {
                b.push(a(d).val());
            }), b;
        },
        value2htmlFinal: function(b, c) {
            var d = [], e = a.fn.editableutils.itemsByValue(b, this.sourceData), f = this.options.escape;
            e.length ? (a.each(e, function(b, c) {
                var e = f ? a.fn.editableutils.escape(c.text) : c.text;
                d.push(e);
            }), a(c).html(d.join("<br>"))) : a(c).empty();
        },
        activate: function() {
            this.$input.first().focus();
        },
        autosubmit: function() {
            this.$input.on("keydown", function(b) {
                13 === b.which && a(this).closest("form").submit();
            });
        }
    }), b.defaults = a.extend({}, a.fn.editabletypes.list.defaults, {
        tpl: '<div class="editable-checklist"></div>',
        inputclass: null,
        separator: ","
    }), a.fn.editabletypes.checklist = b;
}(window.jQuery), function(a) {
    "use strict";
    var b = function(a) {
        this.init("password", a, b.defaults);
    };
    a.fn.editableutils.inherit(b, a.fn.editabletypes.text), a.extend(b.prototype, {
        value2html: function(b, c) {
            b ? a(c).text("[hidden]") : a(c).empty();
        },
        html2value: function() {
            return null;
        }
    }), b.defaults = a.extend({}, a.fn.editabletypes.text.defaults, {
        tpl: '<input type="password">'
    }), a.fn.editabletypes.password = b;
}(window.jQuery), function(a) {
    "use strict";
    var b = function(a) {
        this.init("email", a, b.defaults);
    };
    a.fn.editableutils.inherit(b, a.fn.editabletypes.text), b.defaults = a.extend({}, a.fn.editabletypes.text.defaults, {
        tpl: '<input type="email">'
    }), a.fn.editabletypes.email = b;
}(window.jQuery), function(a) {
    "use strict";
    var b = function(a) {
        this.init("url", a, b.defaults);
    };
    a.fn.editableutils.inherit(b, a.fn.editabletypes.text), b.defaults = a.extend({}, a.fn.editabletypes.text.defaults, {
        tpl: '<input type="url">'
    }), a.fn.editabletypes.url = b;
}(window.jQuery), function(a) {
    "use strict";
    var b = function(a) {
        this.init("tel", a, b.defaults);
    };
    a.fn.editableutils.inherit(b, a.fn.editabletypes.text), b.defaults = a.extend({}, a.fn.editabletypes.text.defaults, {
        tpl: '<input type="tel">'
    }), a.fn.editabletypes.tel = b;
}(window.jQuery), function(a) {
    "use strict";
    var b = function(a) {
        this.init("number", a, b.defaults);
    };
    a.fn.editableutils.inherit(b, a.fn.editabletypes.text), a.extend(b.prototype, {
        render: function() {
            b.superclass.render.call(this), this.setAttr("min"), this.setAttr("max"), this.setAttr("step");
        },
        postrender: function() {
            this.$clear && this.$clear.css({
                right: 24
            });
        }
    }), b.defaults = a.extend({}, a.fn.editabletypes.text.defaults, {
        tpl: '<input type="number">',
        inputclass: "input-mini",
        min: null,
        max: null,
        step: null
    }), a.fn.editabletypes.number = b;
}(window.jQuery), function(a) {
    "use strict";
    var b = function(a) {
        this.init("range", a, b.defaults);
    };
    a.fn.editableutils.inherit(b, a.fn.editabletypes.number), a.extend(b.prototype, {
        render: function() {
            this.$input = this.$tpl.filter("input"), this.setClass(), this.setAttr("min"), this.setAttr("max"), 
            this.setAttr("step"), this.$input.on("input", function() {
                a(this).siblings("output").text(a(this).val());
            });
        },
        activate: function() {
            this.$input.focus();
        }
    }), b.defaults = a.extend({}, a.fn.editabletypes.number.defaults, {
        tpl: '<input type="range"><output style="width: 30px; display: inline-block"></output>',
        inputclass: "input-medium"
    }), a.fn.editabletypes.range = b;
}(window.jQuery), function(a) {
    "use strict";
    var b = function(a) {
        this.init("time", a, b.defaults);
    };
    a.fn.editableutils.inherit(b, a.fn.editabletypes.abstractinput), a.extend(b.prototype, {
        render: function() {
            this.setClass();
        }
    }), b.defaults = a.extend({}, a.fn.editabletypes.abstractinput.defaults, {
        tpl: '<input type="time">'
    }), a.fn.editabletypes.time = b;
}(window.jQuery), function(a) {
    "use strict";
    var b = function(c) {
        if (this.init("select2", c, b.defaults), c.select2 = c.select2 || {}, this.sourceData = null, 
        c.placeholder && (c.select2.placeholder = c.placeholder), !c.select2.tags && c.source) {
            var d = c.source;
            a.isFunction(c.source) && (d = c.source.call(c.scope)), "string" == typeof d ? (c.select2.ajax = c.select2.ajax || {}, 
            c.select2.ajax.data || (c.select2.ajax.data = function(a) {
                return {
                    query: a
                };
            }), c.select2.ajax.results || (c.select2.ajax.results = function(a) {
                return {
                    results: a
                };
            }), c.select2.ajax.url = d) : (this.sourceData = this.convertSource(d), c.select2.data = this.sourceData);
        }
        if (this.options.select2 = a.extend({}, b.defaults.select2, c.select2), this.isMultiple = this.options.select2.tags || this.options.select2.multiple, 
        this.isRemote = "ajax" in this.options.select2, this.idFunc = this.options.select2.id, 
        "function" != typeof this.idFunc) {
            var e = this.idFunc || "id";
            this.idFunc = function(a) {
                return a[e];
            };
        }
        this.formatSelection = this.options.select2.formatSelection, "function" != typeof this.formatSelection && (this.formatSelection = function(a) {
            return a.text;
        });
    };
    a.fn.editableutils.inherit(b, a.fn.editabletypes.abstractinput), a.extend(b.prototype, {
        render: function() {
            this.setClass(), this.isRemote && this.$input.on("select2-loaded", a.proxy(function(a) {
                this.sourceData = a.items.results;
            }, this)), this.isMultiple && this.$input.on("change", function() {
                a(this).closest("form").parent().triggerHandler("resize");
            });
        },
        value2html: function(c, d) {
            var e, f = "", g = this;
            this.options.select2.tags ? e = c : this.sourceData && (e = a.fn.editableutils.itemsByValue(c, this.sourceData, this.idFunc)), 
            a.isArray(e) ? (f = [], a.each(e, function(a, b) {
                f.push(b && "object" == typeof b ? g.formatSelection(b) : b);
            })) : e && (f = g.formatSelection(e)), f = a.isArray(f) ? f.join(this.options.viewseparator) : f, 
            b.superclass.value2html.call(this, f, d);
        },
        html2value: function(a) {
            return this.options.select2.tags ? this.str2value(a, this.options.viewseparator) : null;
        },
        value2input: function(b) {
            if (this.$input.data("select2") ? this.$input.val(b).trigger("change", !0) : (this.$input.val(b), 
            this.$input.select2(this.options.select2)), this.isRemote && !this.isMultiple && !this.options.select2.initSelection) {
                var c = this.options.select2.id, d = this.options.select2.formatSelection;
                if (!c && !d) {
                    var e = {
                        id: b,
                        text: a(this.options.scope).text()
                    };
                    this.$input.select2("data", e);
                }
            }
        },
        input2value: function() {
            return this.$input.select2("val");
        },
        str2value: function(b, c) {
            if ("string" != typeof b || !this.isMultiple) return b;
            c = c || this.options.select2.separator || a.fn.select2.defaults.separator;
            var d, e, f;
            if (null === b || b.length < 1) return null;
            for (d = b.split(c), e = 0, f = d.length; f > e; e += 1) d[e] = a.trim(d[e]);
            return d;
        },
        autosubmit: function() {
            this.$input.on("change", function(b, c) {
                c || a(this).closest("form").submit();
            });
        },
        convertSource: function(b) {
            if (a.isArray(b) && b.length && void 0 !== b[0].value) for (var c = 0; c < b.length; c++) void 0 !== b[c].value && (b[c].id = b[c].value, 
            delete b[c].value);
            return b;
        },
        destroy: function() {
            this.$input.data("select2") && this.$input.select2("destroy");
        }
    }), b.defaults = a.extend({}, a.fn.editabletypes.abstractinput.defaults, {
        tpl: '<input type="hidden">',
        select2: null,
        placeholder: null,
        source: null,
        viewseparator: ", "
    }), a.fn.editabletypes.select2 = b;
}(window.jQuery), function(a) {
    var b = function(b, c) {
        return this.$element = a(b), this.$element.is("input") ? (this.options = a.extend({}, a.fn.combodate.defaults, c, this.$element.data()), 
        void this.init()) : void a.error("Combodate should be applied to INPUT element");
    };
    b.prototype = {
        constructor: b,
        init: function() {
            this.map = {
                day: [ "D", "date" ],
                month: [ "M", "month" ],
                year: [ "Y", "year" ],
                hour: [ "[Hh]", "hours" ],
                minute: [ "m", "minutes" ],
                second: [ "s", "seconds" ],
                ampm: [ "[Aa]", "" ]
            }, this.$widget = a('<span class="combodate"></span>').html(this.getTemplate()), 
            this.initCombos(), this.$widget.on("change", "select", a.proxy(function() {
                this.$element.val(this.getValue());
            }, this)), this.$widget.find("select").css("width", "auto"), this.$element.hide().after(this.$widget), 
            this.setValue(this.$element.val() || this.options.value);
        },
        getTemplate: function() {
            var b = this.options.template;
            return a.each(this.map, function(a, c) {
                c = c[0];
                var d = new RegExp(c + "+"), e = c.length > 1 ? c.substring(1, 2) : c;
                b = b.replace(d, "{" + e + "}");
            }), b = b.replace(/ /g, "&nbsp;"), a.each(this.map, function(a, c) {
                c = c[0];
                var d = c.length > 1 ? c.substring(1, 2) : c;
                b = b.replace("{" + d + "}", '<select class="' + a + '"></select>');
            }), b;
        },
        initCombos: function() {
            var b = this;
            a.each(this.map, function(a) {
                var c, d, e = b.$widget.find("." + a);
                e.length && (b["$" + a] = e, c = "fill" + a.charAt(0).toUpperCase() + a.slice(1), 
                d = b[c](), b["$" + a].html(b.renderItems(d)));
            });
        },
        initItems: function(a) {
            var b, c = [];
            if ("name" === this.options.firstItem) {
                b = moment.relativeTime || moment.langData()._relativeTime;
                var d = "function" == typeof b[a] ? b[a](1, !0, a, !1) : b[a];
                d = d.split(" ").reverse()[0], c.push([ "", d ]);
            } else "empty" === this.options.firstItem && c.push([ "", "" ]);
            return c;
        },
        renderItems: function(a) {
            for (var b = [], c = 0; c < a.length; c++) b.push('<option value="' + a[c][0] + '">' + a[c][1] + "</option>");
            return b.join("\n");
        },
        fillDay: function() {
            var a, b, c = this.initItems("d"), d = -1 !== this.options.template.indexOf("DD");
            for (b = 1; 31 >= b; b++) a = d ? this.leadZero(b) : b, c.push([ b, a ]);
            return c;
        },
        fillMonth: function() {
            var a, b, c = this.initItems("M"), d = -1 !== this.options.template.indexOf("MMMM"), e = -1 !== this.options.template.indexOf("MMM"), f = -1 !== this.options.template.indexOf("MM");
            for (b = 0; 11 >= b; b++) a = d ? moment().date(1).month(b).format("MMMM") : e ? moment().date(1).month(b).format("MMM") : f ? this.leadZero(b + 1) : b + 1, 
            c.push([ b, a ]);
            return c;
        },
        fillYear: function() {
            var a, b, c = [], d = -1 !== this.options.template.indexOf("YYYY");
            for (b = this.options.maxYear; b >= this.options.minYear; b--) a = d ? b : (b + "").substring(2), 
            c[this.options.yearDescending ? "push" : "unshift"]([ b, a ]);
            return c = this.initItems("y").concat(c);
        },
        fillHour: function() {
            var a, b, c = this.initItems("h"), d = -1 !== this.options.template.indexOf("h"), e = (-1 !== this.options.template.indexOf("H"), 
            -1 !== this.options.template.toLowerCase().indexOf("hh")), f = d ? 1 : 0, g = d ? 12 : 23;
            for (b = f; g >= b; b++) a = e ? this.leadZero(b) : b, c.push([ b, a ]);
            return c;
        },
        fillMinute: function() {
            var a, b, c = this.initItems("m"), d = -1 !== this.options.template.indexOf("mm");
            for (b = 0; 59 >= b; b += this.options.minuteStep) a = d ? this.leadZero(b) : b, 
            c.push([ b, a ]);
            return c;
        },
        fillSecond: function() {
            var a, b, c = this.initItems("s"), d = -1 !== this.options.template.indexOf("ss");
            for (b = 0; 59 >= b; b += this.options.secondStep) a = d ? this.leadZero(b) : b, 
            c.push([ b, a ]);
            return c;
        },
        fillAmpm: function() {
            var a = -1 !== this.options.template.indexOf("a"), b = (-1 !== this.options.template.indexOf("A"), 
            [ [ "am", a ? "am" : "AM" ], [ "pm", a ? "pm" : "PM" ] ]);
            return b;
        },
        getValue: function(b) {
            var c, d = {}, e = this, f = !1;
            return a.each(this.map, function(a) {
                if ("ampm" !== a) {
                    var b = "day" === a ? 1 : 0;
                    return d[a] = e["$" + a] ? parseInt(e["$" + a].val(), 10) : b, isNaN(d[a]) ? (f = !0, 
                    !1) : void 0;
                }
            }), f ? "" : (this.$ampm && (d.hour = 12 === d.hour ? "am" === this.$ampm.val() ? 0 : 12 : "am" === this.$ampm.val() ? d.hour : d.hour + 12), 
            c = moment([ d.year, d.month, d.day, d.hour, d.minute, d.second ]), this.highlight(c), 
            b = void 0 === b ? this.options.format : b, null === b ? c.isValid() ? c : null : c.isValid() ? c.format(b) : "");
        },
        setValue: function(b) {
            function c(b, c) {
                var d = {};
                return b.children("option").each(function(b, e) {
                    var f, g = a(e).attr("value");
                    "" !== g && (f = Math.abs(g - c), ("undefined" == typeof d.distance || f < d.distance) && (d = {
                        value: g,
                        distance: f
                    }));
                }), d.value;
            }
            if (b) {
                var d = "string" == typeof b ? moment(b, this.options.format) : moment(b), e = this, f = {};
                d.isValid() && (a.each(this.map, function(a, b) {
                    "ampm" !== a && (f[a] = d[b[1]]());
                }), this.$ampm && (f.hour >= 12 ? (f.ampm = "pm", f.hour > 12 && (f.hour -= 12)) : (f.ampm = "am", 
                0 === f.hour && (f.hour = 12))), a.each(f, function(a, b) {
                    e["$" + a] && ("minute" === a && e.options.minuteStep > 1 && e.options.roundTime && (b = c(e["$" + a], b)), 
                    "second" === a && e.options.secondStep > 1 && e.options.roundTime && (b = c(e["$" + a], b)), 
                    e["$" + a].val(b));
                }), this.$element.val(d.format(this.options.format)));
            }
        },
        highlight: function(a) {
            a.isValid() ? this.options.errorClass ? this.$widget.removeClass(this.options.errorClass) : this.$widget.find("select").css("border-color", this.borderColor) : this.options.errorClass ? this.$widget.addClass(this.options.errorClass) : (this.borderColor || (this.borderColor = this.$widget.find("select").css("border-color")), 
            this.$widget.find("select").css("border-color", "red"));
        },
        leadZero: function(a) {
            return 9 >= a ? "0" + a : a;
        },
        destroy: function() {
            this.$widget.remove(), this.$element.removeData("combodate").show();
        }
    }, a.fn.combodate = function(c) {
        var d, e = Array.apply(null, arguments);
        return e.shift(), "getValue" === c && this.length && (d = this.eq(0).data("combodate")) ? d.getValue.apply(d, e) : this.each(function() {
            var d = a(this), f = d.data("combodate"), g = "object" == typeof c && c;
            f || d.data("combodate", f = new b(this, g)), "string" == typeof c && "function" == typeof f[c] && f[c].apply(f, e);
        });
    }, a.fn.combodate.defaults = {
        format: "DD-MM-YYYY HH:mm",
        template: "D / MMM / YYYY   H : mm",
        value: null,
        minYear: 1970,
        maxYear: 2015,
        yearDescending: !0,
        minuteStep: 5,
        secondStep: 1,
        firstItem: "empty",
        errorClass: null,
        roundTime: !0
    };
}(window.jQuery), function(a) {
    "use strict";
    var b = function(c) {
        this.init("combodate", c, b.defaults), this.options.viewformat || (this.options.viewformat = this.options.format), 
        c.combodate = a.fn.editableutils.tryParseJson(c.combodate, !0), this.options.combodate = a.extend({}, b.defaults.combodate, c.combodate, {
            format: this.options.format,
            template: this.options.template
        });
    };
    a.fn.editableutils.inherit(b, a.fn.editabletypes.abstractinput), a.extend(b.prototype, {
        render: function() {
            this.$input.combodate(this.options.combodate), "bs3" === a.fn.editableform.engine && this.$input.siblings().find("select").addClass("form-control"), 
            this.options.inputclass && this.$input.siblings().find("select").addClass(this.options.inputclass);
        },
        value2html: function(a, c) {
            var d = a ? a.format(this.options.viewformat) : "";
            b.superclass.value2html.call(this, d, c);
        },
        html2value: function(a) {
            return a ? moment(a, this.options.viewformat) : null;
        },
        value2str: function(a) {
            return a ? a.format(this.options.format) : "";
        },
        str2value: function(a) {
            return a ? moment(a, this.options.format) : null;
        },
        value2submit: function(a) {
            return this.value2str(a);
        },
        value2input: function(a) {
            this.$input.combodate("setValue", a);
        },
        input2value: function() {
            return this.$input.combodate("getValue", null);
        },
        activate: function() {
            this.$input.siblings(".combodate").find("select").eq(0).focus();
        },
        autosubmit: function() {}
    }), b.defaults = a.extend({}, a.fn.editabletypes.abstractinput.defaults, {
        tpl: '<input type="text">',
        inputclass: null,
        format: "YYYY-MM-DD",
        viewformat: null,
        template: "D / MMM / YYYY",
        combodate: null
    }), a.fn.editabletypes.combodate = b;
}(window.jQuery), function(a) {
    "use strict";
    var b = a.fn.editableform.Constructor.prototype.initInput;
    a.extend(a.fn.editableform.Constructor.prototype, {
        initTemplate: function() {
            this.$form = a(a.fn.editableform.template), this.$form.find(".control-group").addClass("form-group"), 
            this.$form.find(".editable-error-block").addClass("help-block");
        },
        initInput: function() {
            b.apply(this);
            var c = null === this.input.options.inputclass || this.input.options.inputclass === !1, d = "input-sm", e = "text,select,textarea,password,email,url,tel,number,range,time,typeaheadjs".split(",");
            ~a.inArray(this.input.type, e) && (this.input.$input.addClass("form-control"), c && (this.input.options.inputclass = d, 
            this.input.$input.addClass(d)));
            for (var f = this.$form.find(".editable-buttons"), g = c ? [ d ] : this.input.options.inputclass.split(" "), h = 0; h < g.length; h++) "input-lg" === g[h].toLowerCase() && f.find("button").removeClass("btn-sm").addClass("btn-lg");
        }
    }), a.fn.editableform.buttons = '<button type="submit" class="btn btn-primary btn-sm editable-submit"><i class="glyphicon glyphicon-ok"></i></button><button type="button" class="btn btn-default btn-sm editable-cancel"><i class="glyphicon glyphicon-remove"></i></button>', 
    a.fn.editableform.errorGroupClass = "has-error", a.fn.editableform.errorBlockClass = null, 
    a.fn.editableform.engine = "bs3";
}(window.jQuery), function(a) {
    "use strict";
    a.extend(a.fn.editableContainer.Popup.prototype, {
        containerName: "popover",
        containerDataName: "bs.popover",
        innerCss: ".popover-content",
        defaults: a.fn.popover.Constructor.DEFAULTS,
        initContainer: function() {
            a.extend(this.containerOptions, {
                trigger: "manual",
                selector: !1,
                content: " ",
                template: this.defaults.template
            });
            var b;
            this.$element.data("template") && (b = this.$element.data("template"), this.$element.removeData("template")), 
            this.call(this.containerOptions), b && this.$element.data("template", b);
        },
        innerShow: function() {
            this.call("show");
        },
        innerHide: function() {
            this.call("hide");
        },
        innerDestroy: function() {
            this.call("destroy");
        },
        setContainerOption: function(a, b) {
            this.container().options[a] = b;
        },
        setPosition: function() {
            (function() {
                var a = this.tip(), b = "function" == typeof this.options.placement ? this.options.placement.call(this, a[0], this.$element[0]) : this.options.placement, c = this.getPosition(), d = a[0].offsetWidth, e = a[0].offsetHeight, f = this.getCalculatedOffset(b, c, d, e);
                this.applyPlacement(f, b);
            }).call(this.container());
        }
    });
}(window.jQuery), function(a) {
    function b() {
        return new Date(Date.UTC.apply(Date, arguments));
    }
    function c(b, c) {
        var d, e = a(b).data(), f = {}, g = new RegExp("^" + c.toLowerCase() + "([A-Z])"), c = new RegExp("^" + c.toLowerCase());
        for (var h in e) c.test(h) && (d = h.replace(g, function(a, b) {
            return b.toLowerCase();
        }), f[d] = e[h]);
        return f;
    }
    function d(b) {
        var c = {};
        if (k[b] || (b = b.split("-")[0], k[b])) {
            var d = k[b];
            return a.each(j, function(a, b) {
                b in d && (c[b] = d[b]);
            }), c;
        }
    }
    var e = function(b, c) {
        this._process_options(c), this.element = a(b), this.isInline = !1, this.isInput = this.element.is("input"), 
        this.component = this.element.is(".date") ? this.element.find(".add-on, .btn") : !1, 
        this.hasInput = this.component && this.element.find("input").length, this.component && 0 === this.component.length && (this.component = !1), 
        this.picker = a(l.template), this._buildEvents(), this._attachEvents(), this.isInline ? this.picker.addClass("datepicker-inline").appendTo(this.element) : this.picker.addClass("datepicker-dropdown dropdown-menu"), 
        this.o.rtl && (this.picker.addClass("datepicker-rtl"), this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")), 
        this.viewMode = this.o.startView, this.o.calendarWeeks && this.picker.find("tfoot th.today").attr("colspan", function(a, b) {
            return parseInt(b) + 1;
        }), this._allow_update = !1, this.setStartDate(this.o.startDate), this.setEndDate(this.o.endDate), 
        this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled), this.fillDow(), this.fillMonths(), 
        this._allow_update = !0, this.update(), this.showMode(), this.isInline && this.show();
    };
    e.prototype = {
        constructor: e,
        _process_options: function(b) {
            this._o = a.extend({}, this._o, b);
            var c = this.o = a.extend({}, this._o), d = c.language;
            switch (k[d] || (d = d.split("-")[0], k[d] || (d = i.language)), c.language = d, 
            c.startView) {
              case 2:
              case "decade":
                c.startView = 2;
                break;

              case 1:
              case "year":
                c.startView = 1;
                break;

              default:
                c.startView = 0;
            }
            switch (c.minViewMode) {
              case 1:
              case "months":
                c.minViewMode = 1;
                break;

              case 2:
              case "years":
                c.minViewMode = 2;
                break;

              default:
                c.minViewMode = 0;
            }
            c.startView = Math.max(c.startView, c.minViewMode), c.weekStart %= 7, c.weekEnd = (c.weekStart + 6) % 7;
            var e = l.parseFormat(c.format);
            c.startDate !== -1/0 && (c.startDate = l.parseDate(c.startDate, e, c.language)), 
            1/0 !== c.endDate && (c.endDate = l.parseDate(c.endDate, e, c.language)), c.daysOfWeekDisabled = c.daysOfWeekDisabled || [], 
            a.isArray(c.daysOfWeekDisabled) || (c.daysOfWeekDisabled = c.daysOfWeekDisabled.split(/[,\s]*/)), 
            c.daysOfWeekDisabled = a.map(c.daysOfWeekDisabled, function(a) {
                return parseInt(a, 10);
            });
        },
        _events: [],
        _secondaryEvents: [],
        _applyEvents: function(a) {
            for (var b, c, d = 0; d < a.length; d++) b = a[d][0], c = a[d][1], b.on(c);
        },
        _unapplyEvents: function(a) {
            for (var b, c, d = 0; d < a.length; d++) b = a[d][0], c = a[d][1], b.off(c);
        },
        _buildEvents: function() {
            this.isInput ? this._events = [ [ this.element, {
                focus: a.proxy(this.show, this),
                keyup: a.proxy(this.update, this),
                keydown: a.proxy(this.keydown, this)
            } ] ] : this.component && this.hasInput ? this._events = [ [ this.element.find("input"), {
                focus: a.proxy(this.show, this),
                keyup: a.proxy(this.update, this),
                keydown: a.proxy(this.keydown, this)
            } ], [ this.component, {
                click: a.proxy(this.show, this)
            } ] ] : this.element.is("div") ? this.isInline = !0 : this._events = [ [ this.element, {
                click: a.proxy(this.show, this)
            } ] ], this._secondaryEvents = [ [ this.picker, {
                click: a.proxy(this.click, this)
            } ], [ a(window), {
                resize: a.proxy(this.place, this)
            } ], [ a(document), {
                mousedown: a.proxy(function(a) {
                    this.element.is(a.target) || this.element.find(a.target).size() || this.picker.is(a.target) || this.picker.find(a.target).size() || this.hide();
                }, this)
            } ] ];
        },
        _attachEvents: function() {
            this._detachEvents(), this._applyEvents(this._events);
        },
        _detachEvents: function() {
            this._unapplyEvents(this._events);
        },
        _attachSecondaryEvents: function() {
            this._detachSecondaryEvents(), this._applyEvents(this._secondaryEvents);
        },
        _detachSecondaryEvents: function() {
            this._unapplyEvents(this._secondaryEvents);
        },
        _trigger: function(b, c) {
            var d = c || this.date, e = new Date(d.getTime() + 6e4 * d.getTimezoneOffset());
            this.element.trigger({
                type: b,
                date: e,
                format: a.proxy(function(a) {
                    var b = a || this.o.format;
                    return l.formatDate(d, b, this.o.language);
                }, this)
            });
        },
        show: function(a) {
            this.isInline || this.picker.appendTo("body"), this.picker.show(), this.height = this.component ? this.component.outerHeight() : this.element.outerHeight(), 
            this.place(), this._attachSecondaryEvents(), a && a.preventDefault(), this._trigger("show");
        },
        hide: function() {
            this.isInline || this.picker.is(":visible") && (this.picker.hide().detach(), this._detachSecondaryEvents(), 
            this.viewMode = this.o.startView, this.showMode(), this.o.forceParse && (this.isInput && this.element.val() || this.hasInput && this.element.find("input").val()) && this.setValue(), 
            this._trigger("hide"));
        },
        remove: function() {
            this.hide(), this._detachEvents(), this._detachSecondaryEvents(), this.picker.remove(), 
            delete this.element.data().datepicker, this.isInput || delete this.element.data().date;
        },
        getDate: function() {
            var a = this.getUTCDate();
            return new Date(a.getTime() + 6e4 * a.getTimezoneOffset());
        },
        getUTCDate: function() {
            return this.date;
        },
        setDate: function(a) {
            this.setUTCDate(new Date(a.getTime() - 6e4 * a.getTimezoneOffset()));
        },
        setUTCDate: function(a) {
            this.date = a, this.setValue();
        },
        setValue: function() {
            var a = this.getFormattedDate();
            this.isInput ? this.element.val(a) : this.component && this.element.find("input").val(a);
        },
        getFormattedDate: function(a) {
            return void 0 === a && (a = this.o.format), l.formatDate(this.date, a, this.o.language);
        },
        setStartDate: function(a) {
            this._process_options({
                startDate: a
            }), this.update(), this.updateNavArrows();
        },
        setEndDate: function(a) {
            this._process_options({
                endDate: a
            }), this.update(), this.updateNavArrows();
        },
        setDaysOfWeekDisabled: function(a) {
            this._process_options({
                daysOfWeekDisabled: a
            }), this.update(), this.updateNavArrows();
        },
        place: function() {
            if (!this.isInline) {
                var b = parseInt(this.element.parents().filter(function() {
                    return "auto" != a(this).css("z-index");
                }).first().css("z-index")) + 10, c = this.component ? this.component.parent().offset() : this.element.offset(), d = this.component ? this.component.outerHeight(!0) : this.element.outerHeight(!0);
                this.picker.css({
                    top: c.top + d,
                    left: c.left,
                    zIndex: b
                });
            }
        },
        _allow_update: !0,
        update: function() {
            if (this._allow_update) {
                var a, b = !1;
                arguments && arguments.length && ("string" == typeof arguments[0] || arguments[0] instanceof Date) ? (a = arguments[0], 
                b = !0) : (a = this.isInput ? this.element.val() : this.element.data("date") || this.element.find("input").val(), 
                delete this.element.data().date), this.date = l.parseDate(a, this.o.format, this.o.language), 
                b && this.setValue(), this.viewDate = new Date(this.date < this.o.startDate ? this.o.startDate : this.date > this.o.endDate ? this.o.endDate : this.date), 
                this.fill();
            }
        },
        fillDow: function() {
            var a = this.o.weekStart, b = "<tr>";
            if (this.o.calendarWeeks) {
                var c = '<th class="cw">&nbsp;</th>';
                b += c, this.picker.find(".datepicker-days thead tr:first-child").prepend(c);
            }
            for (;a < this.o.weekStart + 7; ) b += '<th class="dow">' + k[this.o.language].daysMin[a++ % 7] + "</th>";
            b += "</tr>", this.picker.find(".datepicker-days thead").append(b);
        },
        fillMonths: function() {
            for (var a = "", b = 0; 12 > b; ) a += '<span class="month">' + k[this.o.language].monthsShort[b++] + "</span>";
            this.picker.find(".datepicker-months td").html(a);
        },
        setRange: function(b) {
            b && b.length ? this.range = a.map(b, function(a) {
                return a.valueOf();
            }) : delete this.range, this.fill();
        },
        getClassNames: function(b) {
            var c = [], d = this.viewDate.getUTCFullYear(), e = this.viewDate.getUTCMonth(), f = this.date.valueOf(), g = new Date();
            return b.getUTCFullYear() < d || b.getUTCFullYear() == d && b.getUTCMonth() < e ? c.push("old") : (b.getUTCFullYear() > d || b.getUTCFullYear() == d && b.getUTCMonth() > e) && c.push("new"), 
            this.o.todayHighlight && b.getUTCFullYear() == g.getFullYear() && b.getUTCMonth() == g.getMonth() && b.getUTCDate() == g.getDate() && c.push("today"), 
            f && b.valueOf() == f && c.push("active"), (b.valueOf() < this.o.startDate || b.valueOf() > this.o.endDate || -1 !== a.inArray(b.getUTCDay(), this.o.daysOfWeekDisabled)) && c.push("disabled"), 
            this.range && (b > this.range[0] && b < this.range[this.range.length - 1] && c.push("range"), 
            -1 != a.inArray(b.valueOf(), this.range) && c.push("selected")), c;
        },
        fill: function() {
            {
                var c, d = new Date(this.viewDate), e = d.getUTCFullYear(), f = d.getUTCMonth(), g = this.o.startDate !== -1/0 ? this.o.startDate.getUTCFullYear() : -1/0, h = this.o.startDate !== -1/0 ? this.o.startDate.getUTCMonth() : -1/0, i = 1/0 !== this.o.endDate ? this.o.endDate.getUTCFullYear() : 1/0, j = 1/0 !== this.o.endDate ? this.o.endDate.getUTCMonth() : 1/0;
                this.date && this.date.valueOf();
            }
            this.picker.find(".datepicker-days thead th.datepicker-switch").text(k[this.o.language].months[f] + " " + e), 
            this.picker.find("tfoot th.today").text(k[this.o.language].today).toggle(this.o.todayBtn !== !1), 
            this.picker.find("tfoot th.clear").text(k[this.o.language].clear).toggle(this.o.clearBtn !== !1), 
            this.updateNavArrows(), this.fillMonths();
            var m = b(e, f - 1, 28, 0, 0, 0, 0), n = l.getDaysInMonth(m.getUTCFullYear(), m.getUTCMonth());
            m.setUTCDate(n), m.setUTCDate(n - (m.getUTCDay() - this.o.weekStart + 7) % 7);
            var o = new Date(m);
            o.setUTCDate(o.getUTCDate() + 42), o = o.valueOf();
            for (var p, q = []; m.valueOf() < o; ) {
                if (m.getUTCDay() == this.o.weekStart && (q.push("<tr>"), this.o.calendarWeeks)) {
                    var r = new Date(+m + (this.o.weekStart - m.getUTCDay() - 7) % 7 * 864e5), s = new Date(+r + (11 - r.getUTCDay()) % 7 * 864e5), t = new Date(+(t = b(s.getUTCFullYear(), 0, 1)) + (11 - t.getUTCDay()) % 7 * 864e5), u = (s - t) / 864e5 / 7 + 1;
                    q.push('<td class="cw">' + u + "</td>");
                }
                p = this.getClassNames(m), p.push("day");
                var v = this.o.beforeShowDay(m);
                void 0 === v ? v = {} : "boolean" == typeof v ? v = {
                    enabled: v
                } : "string" == typeof v && (v = {
                    classes: v
                }), v.enabled === !1 && p.push("disabled"), v.classes && (p = p.concat(v.classes.split(/\s+/))), 
                v.tooltip && (c = v.tooltip), p = a.unique(p), q.push('<td class="' + p.join(" ") + '"' + (c ? ' title="' + c + '"' : "") + ">" + m.getUTCDate() + "</td>"), 
                m.getUTCDay() == this.o.weekEnd && q.push("</tr>"), m.setUTCDate(m.getUTCDate() + 1);
            }
            this.picker.find(".datepicker-days tbody").empty().append(q.join(""));
            var w = this.date && this.date.getUTCFullYear(), x = this.picker.find(".datepicker-months").find("th:eq(1)").text(e).end().find("span").removeClass("active");
            w && w == e && x.eq(this.date.getUTCMonth()).addClass("active"), (g > e || e > i) && x.addClass("disabled"), 
            e == g && x.slice(0, h).addClass("disabled"), e == i && x.slice(j + 1).addClass("disabled"), 
            q = "", e = 10 * parseInt(e / 10, 10);
            var y = this.picker.find(".datepicker-years").find("th:eq(1)").text(e + "-" + (e + 9)).end().find("td");
            e -= 1;
            for (var z = -1; 11 > z; z++) q += '<span class="year' + (-1 == z ? " old" : 10 == z ? " new" : "") + (w == e ? " active" : "") + (g > e || e > i ? " disabled" : "") + '">' + e + "</span>", 
            e += 1;
            y.html(q);
        },
        updateNavArrows: function() {
            if (this._allow_update) {
                var a = new Date(this.viewDate), b = a.getUTCFullYear(), c = a.getUTCMonth();
                switch (this.viewMode) {
                  case 0:
                    this.picker.find(".prev").css(this.o.startDate !== -1/0 && b <= this.o.startDate.getUTCFullYear() && c <= this.o.startDate.getUTCMonth() ? {
                        visibility: "hidden"
                    } : {
                        visibility: "visible"
                    }), this.picker.find(".next").css(1/0 !== this.o.endDate && b >= this.o.endDate.getUTCFullYear() && c >= this.o.endDate.getUTCMonth() ? {
                        visibility: "hidden"
                    } : {
                        visibility: "visible"
                    });
                    break;

                  case 1:
                  case 2:
                    this.picker.find(".prev").css(this.o.startDate !== -1/0 && b <= this.o.startDate.getUTCFullYear() ? {
                        visibility: "hidden"
                    } : {
                        visibility: "visible"
                    }), this.picker.find(".next").css(1/0 !== this.o.endDate && b >= this.o.endDate.getUTCFullYear() ? {
                        visibility: "hidden"
                    } : {
                        visibility: "visible"
                    });
                }
            }
        },
        click: function(c) {
            c.preventDefault();
            var d = a(c.target).closest("span, td, th");
            if (1 == d.length) switch (d[0].nodeName.toLowerCase()) {
              case "th":
                switch (d[0].className) {
                  case "datepicker-switch":
                    this.showMode(1);
                    break;

                  case "prev":
                  case "next":
                    var e = l.modes[this.viewMode].navStep * ("prev" == d[0].className ? -1 : 1);
                    switch (this.viewMode) {
                      case 0:
                        this.viewDate = this.moveMonth(this.viewDate, e);
                        break;

                      case 1:
                      case 2:
                        this.viewDate = this.moveYear(this.viewDate, e);
                    }
                    this.fill();
                    break;

                  case "today":
                    var f = new Date();
                    f = b(f.getFullYear(), f.getMonth(), f.getDate(), 0, 0, 0), this.showMode(-2);
                    var g = "linked" == this.o.todayBtn ? null : "view";
                    this._setDate(f, g);
                    break;

                  case "clear":
                    var h;
                    this.isInput ? h = this.element : this.component && (h = this.element.find("input")), 
                    h && h.val("").change(), this._trigger("changeDate"), this.update(), this.o.autoclose && this.hide();
                }
                break;

              case "span":
                if (!d.is(".disabled")) {
                    if (this.viewDate.setUTCDate(1), d.is(".month")) {
                        var i = 1, j = d.parent().find("span").index(d), k = this.viewDate.getUTCFullYear();
                        this.viewDate.setUTCMonth(j), this._trigger("changeMonth", this.viewDate), 1 === this.o.minViewMode && this._setDate(b(k, j, i, 0, 0, 0, 0));
                    } else {
                        var k = parseInt(d.text(), 10) || 0, i = 1, j = 0;
                        this.viewDate.setUTCFullYear(k), this._trigger("changeYear", this.viewDate), 2 === this.o.minViewMode && this._setDate(b(k, j, i, 0, 0, 0, 0));
                    }
                    this.showMode(-1), this.fill();
                }
                break;

              case "td":
                if (d.is(".day") && !d.is(".disabled")) {
                    var i = parseInt(d.text(), 10) || 1, k = this.viewDate.getUTCFullYear(), j = this.viewDate.getUTCMonth();
                    d.is(".old") ? 0 === j ? (j = 11, k -= 1) : j -= 1 : d.is(".new") && (11 == j ? (j = 0, 
                    k += 1) : j += 1), this._setDate(b(k, j, i, 0, 0, 0, 0));
                }
            }
        },
        _setDate: function(a, b) {
            b && "date" != b || (this.date = new Date(a)), b && "view" != b || (this.viewDate = new Date(a)), 
            this.fill(), this.setValue(), this._trigger("changeDate");
            var c;
            this.isInput ? c = this.element : this.component && (c = this.element.find("input")), 
            c && (c.change(), !this.o.autoclose || b && "date" != b || this.hide());
        },
        moveMonth: function(a, b) {
            if (!b) return a;
            var c, d, e = new Date(a.valueOf()), f = e.getUTCDate(), g = e.getUTCMonth(), h = Math.abs(b);
            if (b = b > 0 ? 1 : -1, 1 == h) d = -1 == b ? function() {
                return e.getUTCMonth() == g;
            } : function() {
                return e.getUTCMonth() != c;
            }, c = g + b, e.setUTCMonth(c), (0 > c || c > 11) && (c = (c + 12) % 12); else {
                for (var i = 0; h > i; i++) e = this.moveMonth(e, b);
                c = e.getUTCMonth(), e.setUTCDate(f), d = function() {
                    return c != e.getUTCMonth();
                };
            }
            for (;d(); ) e.setUTCDate(--f), e.setUTCMonth(c);
            return e;
        },
        moveYear: function(a, b) {
            return this.moveMonth(a, 12 * b);
        },
        dateWithinRange: function(a) {
            return a >= this.o.startDate && a <= this.o.endDate;
        },
        keydown: function(a) {
            if (this.picker.is(":not(:visible)")) return void (27 == a.keyCode && this.show());
            var b, c, d, e = !1;
            switch (a.keyCode) {
              case 27:
                this.hide(), a.preventDefault();
                break;

              case 37:
              case 39:
                if (!this.o.keyboardNavigation) break;
                b = 37 == a.keyCode ? -1 : 1, a.ctrlKey ? (c = this.moveYear(this.date, b), d = this.moveYear(this.viewDate, b)) : a.shiftKey ? (c = this.moveMonth(this.date, b), 
                d = this.moveMonth(this.viewDate, b)) : (c = new Date(this.date), c.setUTCDate(this.date.getUTCDate() + b), 
                d = new Date(this.viewDate), d.setUTCDate(this.viewDate.getUTCDate() + b)), this.dateWithinRange(c) && (this.date = c, 
                this.viewDate = d, this.setValue(), this.update(), a.preventDefault(), e = !0);
                break;

              case 38:
              case 40:
                if (!this.o.keyboardNavigation) break;
                b = 38 == a.keyCode ? -1 : 1, a.ctrlKey ? (c = this.moveYear(this.date, b), d = this.moveYear(this.viewDate, b)) : a.shiftKey ? (c = this.moveMonth(this.date, b), 
                d = this.moveMonth(this.viewDate, b)) : (c = new Date(this.date), c.setUTCDate(this.date.getUTCDate() + 7 * b), 
                d = new Date(this.viewDate), d.setUTCDate(this.viewDate.getUTCDate() + 7 * b)), 
                this.dateWithinRange(c) && (this.date = c, this.viewDate = d, this.setValue(), this.update(), 
                a.preventDefault(), e = !0);
                break;

              case 13:
                this.hide(), a.preventDefault();
                break;

              case 9:
                this.hide();
            }
            if (e) {
                this._trigger("changeDate");
                var f;
                this.isInput ? f = this.element : this.component && (f = this.element.find("input")), 
                f && f.change();
            }
        },
        showMode: function(a) {
            a && (this.viewMode = Math.max(this.o.minViewMode, Math.min(2, this.viewMode + a))), 
            this.picker.find(">div").hide().filter(".datepicker-" + l.modes[this.viewMode].clsName).css("display", "block"), 
            this.updateNavArrows();
        }
    };
    var f = function(b, c) {
        this.element = a(b), this.inputs = a.map(c.inputs, function(a) {
            return a.jquery ? a[0] : a;
        }), delete c.inputs, a(this.inputs).datepicker(c).bind("changeDate", a.proxy(this.dateUpdated, this)), 
        this.pickers = a.map(this.inputs, function(b) {
            return a(b).data("datepicker");
        }), this.updateDates();
    };
    f.prototype = {
        updateDates: function() {
            this.dates = a.map(this.pickers, function(a) {
                return a.date;
            }), this.updateRanges();
        },
        updateRanges: function() {
            var b = a.map(this.dates, function(a) {
                return a.valueOf();
            });
            a.each(this.pickers, function(a, c) {
                c.setRange(b);
            });
        },
        dateUpdated: function(b) {
            var c = a(b.target).data("datepicker"), d = c.getUTCDate(), e = a.inArray(b.target, this.inputs), f = this.inputs.length;
            if (-1 != e) {
                if (d < this.dates[e]) for (;e >= 0 && d < this.dates[e]; ) this.pickers[e--].setUTCDate(d); else if (d > this.dates[e]) for (;f > e && d > this.dates[e]; ) this.pickers[e++].setUTCDate(d);
                this.updateDates();
            }
        },
        remove: function() {
            a.map(this.pickers, function(a) {
                a.remove();
            }), delete this.element.data().datepicker;
        }
    };
    var g = a.fn.datepicker, h = a.fn.datepicker = function(b) {
        var g = Array.apply(null, arguments);
        g.shift();
        var h;
        return this.each(function() {
            var j = a(this), k = j.data("datepicker"), l = "object" == typeof b && b;
            if (!k) {
                var m = c(this, "date"), n = a.extend({}, i, m, l), o = d(n.language), p = a.extend({}, i, o, m, l);
                if (j.is(".input-daterange") || p.inputs) {
                    var q = {
                        inputs: p.inputs || j.find("input").toArray()
                    };
                    j.data("datepicker", k = new f(this, a.extend(p, q)));
                } else j.data("datepicker", k = new e(this, p));
            }
            return "string" == typeof b && "function" == typeof k[b] && (h = k[b].apply(k, g), 
            void 0 !== h) ? !1 : void 0;
        }), void 0 !== h ? h : this;
    }, i = a.fn.datepicker.defaults = {
        autoclose: !1,
        beforeShowDay: a.noop,
        calendarWeeks: !1,
        clearBtn: !1,
        daysOfWeekDisabled: [],
        endDate: 1/0,
        forceParse: !0,
        format: "mm/dd/yyyy",
        keyboardNavigation: !0,
        language: "en",
        minViewMode: 0,
        rtl: !1,
        startDate: -1/0,
        startView: 0,
        todayBtn: !1,
        todayHighlight: !1,
        weekStart: 0
    }, j = a.fn.datepicker.locale_opts = [ "format", "rtl", "weekStart" ];
    a.fn.datepicker.Constructor = e;
    var k = a.fn.datepicker.dates = {
        en: {
            days: [ "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday" ],
            daysShort: [ "Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun" ],
            daysMin: [ "Su", "Mo", "Tu", "We", "Th", "Fr", "Sa", "Su" ],
            months: [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December" ],
            monthsShort: [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ],
            today: "Today",
            clear: "Clear"
        }
    }, l = {
        modes: [ {
            clsName: "days",
            navFnc: "Month",
            navStep: 1
        }, {
            clsName: "months",
            navFnc: "FullYear",
            navStep: 1
        }, {
            clsName: "years",
            navFnc: "FullYear",
            navStep: 10
        } ],
        isLeapYear: function(a) {
            return a % 4 === 0 && a % 100 !== 0 || a % 400 === 0;
        },
        getDaysInMonth: function(a, b) {
            return [ 31, l.isLeapYear(a) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 ][b];
        },
        validParts: /dd?|DD?|mm?|MM?|yy(?:yy)?/g,
        nonpunctuation: /[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,
        parseFormat: function(a) {
            var b = a.replace(this.validParts, "\x00").split("\x00"), c = a.match(this.validParts);
            if (!b || !b.length || !c || 0 === c.length) throw new Error("Invalid date format.");
            return {
                separators: b,
                parts: c
            };
        },
        parseDate: function(c, d, f) {
            if (c instanceof Date) return c;
            if ("string" == typeof d && (d = l.parseFormat(d)), /^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(c)) {
                var g, h, i = /([\-+]\d+)([dmwy])/, j = c.match(/([\-+]\d+)([dmwy])/g);
                c = new Date();
                for (var m = 0; m < j.length; m++) switch (g = i.exec(j[m]), h = parseInt(g[1]), 
                g[2]) {
                  case "d":
                    c.setUTCDate(c.getUTCDate() + h);
                    break;

                  case "m":
                    c = e.prototype.moveMonth.call(e.prototype, c, h);
                    break;

                  case "w":
                    c.setUTCDate(c.getUTCDate() + 7 * h);
                    break;

                  case "y":
                    c = e.prototype.moveYear.call(e.prototype, c, h);
                }
                return b(c.getUTCFullYear(), c.getUTCMonth(), c.getUTCDate(), 0, 0, 0);
            }
            var n, o, g, j = c && c.match(this.nonpunctuation) || [], c = new Date(), p = {}, q = [ "yyyy", "yy", "M", "MM", "m", "mm", "d", "dd" ], r = {
                yyyy: function(a, b) {
                    return a.setUTCFullYear(b);
                },
                yy: function(a, b) {
                    return a.setUTCFullYear(2e3 + b);
                },
                m: function(a, b) {
                    for (b -= 1; 0 > b; ) b += 12;
                    for (b %= 12, a.setUTCMonth(b); a.getUTCMonth() != b; ) a.setUTCDate(a.getUTCDate() - 1);
                    return a;
                },
                d: function(a, b) {
                    return a.setUTCDate(b);
                }
            };
            r.M = r.MM = r.mm = r.m, r.dd = r.d, c = b(c.getFullYear(), c.getMonth(), c.getDate(), 0, 0, 0);
            var s = d.parts.slice();
            if (j.length != s.length && (s = a(s).filter(function(b, c) {
                return -1 !== a.inArray(c, q);
            }).toArray()), j.length == s.length) {
                for (var m = 0, t = s.length; t > m; m++) {
                    if (n = parseInt(j[m], 10), g = s[m], isNaN(n)) switch (g) {
                      case "MM":
                        o = a(k[f].months).filter(function() {
                            var a = this.slice(0, j[m].length), b = j[m].slice(0, a.length);
                            return a == b;
                        }), n = a.inArray(o[0], k[f].months) + 1;
                        break;

                      case "M":
                        o = a(k[f].monthsShort).filter(function() {
                            var a = this.slice(0, j[m].length), b = j[m].slice(0, a.length);
                            return a == b;
                        }), n = a.inArray(o[0], k[f].monthsShort) + 1;
                    }
                    p[g] = n;
                }
                for (var u, m = 0; m < q.length; m++) u = q[m], u in p && !isNaN(p[u]) && r[u](c, p[u]);
            }
            return c;
        },
        formatDate: function(b, c, d) {
            "string" == typeof c && (c = l.parseFormat(c));
            var e = {
                d: b.getUTCDate(),
                D: k[d].daysShort[b.getUTCDay()],
                DD: k[d].days[b.getUTCDay()],
                m: b.getUTCMonth() + 1,
                M: k[d].monthsShort[b.getUTCMonth()],
                MM: k[d].months[b.getUTCMonth()],
                yy: b.getUTCFullYear().toString().substring(2),
                yyyy: b.getUTCFullYear()
            };
            e.dd = (e.d < 10 ? "0" : "") + e.d, e.mm = (e.m < 10 ? "0" : "") + e.m;
            for (var b = [], f = a.extend([], c.separators), g = 0, h = c.parts.length; h >= g; g++) f.length && b.push(f.shift()), 
            b.push(e[c.parts[g]]);
            return b.join("");
        },
        headTemplate: '<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',
        contTemplate: '<tbody><tr><td colspan="7"></td></tr></tbody>',
        footTemplate: '<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'
    };
    l.template = '<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">' + l.headTemplate + "<tbody></tbody>" + l.footTemplate + '</table></div><div class="datepicker-months"><table class="table-condensed">' + l.headTemplate + l.contTemplate + l.footTemplate + '</table></div><div class="datepicker-years"><table class="table-condensed">' + l.headTemplate + l.contTemplate + l.footTemplate + "</table></div></div>", 
    a.fn.datepicker.DPGlobal = l, a.fn.datepicker.noConflict = function() {
        return a.fn.datepicker = g, this;
    }, a(document).on("focus.datepicker.data-api click.datepicker.data-api", '[data-provide="datepicker"]', function(b) {
        var c = a(this);
        c.data("datepicker") || (b.preventDefault(), h.call(c, "show"));
    }), a(function() {
        h.call(a('[data-provide="datepicker-inline"]'));
    });
}(window.jQuery), function(a) {
    "use strict";
    a.fn.bdatepicker = a.fn.datepicker.noConflict(), a.fn.datepicker || (a.fn.datepicker = a.fn.bdatepicker);
    var b = function(a) {
        this.init("date", a, b.defaults), this.initPicker(a, b.defaults);
    };
    a.fn.editableutils.inherit(b, a.fn.editabletypes.abstractinput), a.extend(b.prototype, {
        initPicker: function(b, c) {
            this.options.viewformat || (this.options.viewformat = this.options.format), b.datepicker = a.fn.editableutils.tryParseJson(b.datepicker, !0), 
            this.options.datepicker = a.extend({}, c.datepicker, b.datepicker, {
                format: this.options.viewformat
            }), this.options.datepicker.language = this.options.datepicker.language || "en", 
            this.dpg = a.fn.bdatepicker.DPGlobal, this.parsedFormat = this.dpg.parseFormat(this.options.format), 
            this.parsedViewFormat = this.dpg.parseFormat(this.options.viewformat);
        },
        render: function() {
            this.$input.bdatepicker(this.options.datepicker), this.options.clear && (this.$clear = a('<a href="#"></a>').html(this.options.clear).click(a.proxy(function(a) {
                a.preventDefault(), a.stopPropagation(), this.clear();
            }, this)), this.$tpl.parent().append(a('<div class="editable-clear">').append(this.$clear)));
        },
        value2html: function(a, c) {
            var d = a ? this.dpg.formatDate(a, this.parsedViewFormat, this.options.datepicker.language) : "";
            b.superclass.value2html.call(this, d, c);
        },
        html2value: function(a) {
            return this.parseDate(a, this.parsedViewFormat);
        },
        value2str: function(a) {
            return a ? this.dpg.formatDate(a, this.parsedFormat, this.options.datepicker.language) : "";
        },
        str2value: function(a) {
            return this.parseDate(a, this.parsedFormat);
        },
        value2submit: function(a) {
            return this.value2str(a);
        },
        value2input: function(a) {
            this.$input.bdatepicker("update", a);
        },
        input2value: function() {
            return this.$input.data("datepicker").date;
        },
        activate: function() {},
        clear: function() {
            this.$input.data("datepicker").date = null, this.$input.find(".active").removeClass("active"), 
            this.options.showbuttons || this.$input.closest("form").submit();
        },
        autosubmit: function() {
            this.$input.on("mouseup", ".day", function(b) {
                if (!a(b.currentTarget).is(".old") && !a(b.currentTarget).is(".new")) {
                    var c = a(this).closest("form");
                    setTimeout(function() {
                        c.submit();
                    }, 200);
                }
            });
        },
        parseDate: function(a, b) {
            var c, d = null;
            return a && (d = this.dpg.parseDate(a, b, this.options.datepicker.language), "string" == typeof a && (c = this.dpg.formatDate(d, b, this.options.datepicker.language), 
            a !== c && (d = null))), d;
        }
    }), b.defaults = a.extend({}, a.fn.editabletypes.abstractinput.defaults, {
        tpl: '<div class="editable-date well"></div>',
        inputclass: null,
        format: "yyyy-mm-dd",
        viewformat: null,
        datepicker: {
            weekStart: 0,
            startView: 0,
            minViewMode: 0,
            autoclose: !1
        },
        clear: "&times; clear"
    }), a.fn.editabletypes.date = b;
}(window.jQuery), function(a) {
    "use strict";
    var b = function(a) {
        this.init("datefield", a, b.defaults), this.initPicker(a, b.defaults);
    };
    a.fn.editableutils.inherit(b, a.fn.editabletypes.date), a.extend(b.prototype, {
        render: function() {
            this.$input = this.$tpl.find("input"), this.setClass(), this.setAttr("placeholder"), 
            this.$tpl.bdatepicker(this.options.datepicker), this.$input.off("focus keydown"), 
            this.$input.keyup(a.proxy(function() {
                this.$tpl.removeData("date"), this.$tpl.bdatepicker("update");
            }, this));
        },
        value2input: function(a) {
            this.$input.val(a ? this.dpg.formatDate(a, this.parsedViewFormat, this.options.datepicker.language) : ""), 
            this.$tpl.bdatepicker("update");
        },
        input2value: function() {
            return this.html2value(this.$input.val());
        },
        activate: function() {
            a.fn.editabletypes.text.prototype.activate.call(this);
        },
        autosubmit: function() {}
    }), b.defaults = a.extend({}, a.fn.editabletypes.date.defaults, {
        tpl: '<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',
        inputclass: "input-small",
        datepicker: {
            weekStart: 0,
            startView: 0,
            minViewMode: 0,
            autoclose: !0
        }
    }), a.fn.editabletypes.datefield = b;
}(window.jQuery), function(a) {
    "use strict";
    var b = function(a) {
        this.init("datetime", a, b.defaults), this.initPicker(a, b.defaults);
    };
    a.fn.editableutils.inherit(b, a.fn.editabletypes.abstractinput), a.extend(b.prototype, {
        initPicker: function(b, c) {
            this.options.viewformat || (this.options.viewformat = this.options.format), b.datetimepicker = a.fn.editableutils.tryParseJson(b.datetimepicker, !0), 
            this.options.datetimepicker = a.extend({}, c.datetimepicker, b.datetimepicker, {
                format: this.options.viewformat
            }), this.options.datetimepicker.language = this.options.datetimepicker.language || "en", 
            this.dpg = a.fn.datetimepicker.DPGlobal, this.parsedFormat = this.dpg.parseFormat(this.options.format, this.options.formatType), 
            this.parsedViewFormat = this.dpg.parseFormat(this.options.viewformat, this.options.formatType);
        },
        render: function() {
            this.$input.datetimepicker(this.options.datetimepicker), this.$input.on("changeMode", function() {
                var b = a(this).closest("form").parent();
                setTimeout(function() {
                    b.triggerHandler("resize");
                }, 0);
            }), this.options.clear && (this.$clear = a('<a href="#"></a>').html(this.options.clear).click(a.proxy(function(a) {
                a.preventDefault(), a.stopPropagation(), this.clear();
            }, this)), this.$tpl.parent().append(a('<div class="editable-clear">').append(this.$clear)));
        },
        value2html: function(a, c) {
            var d = a ? this.dpg.formatDate(this.toUTC(a), this.parsedViewFormat, this.options.datetimepicker.language, this.options.formatType) : "";
            return c ? void b.superclass.value2html.call(this, d, c) : d;
        },
        html2value: function(a) {
            var b = this.parseDate(a, this.parsedViewFormat);
            return b ? this.fromUTC(b) : null;
        },
        value2str: function(a) {
            return a ? this.dpg.formatDate(this.toUTC(a), this.parsedFormat, this.options.datetimepicker.language, this.options.formatType) : "";
        },
        str2value: function(a) {
            var b = this.parseDate(a, this.parsedFormat);
            return b ? this.fromUTC(b) : null;
        },
        value2submit: function(a) {
            return this.value2str(a);
        },
        value2input: function(a) {
            a && this.$input.data("datetimepicker").setDate(a);
        },
        input2value: function() {
            var a = this.$input.data("datetimepicker");
            return a.date ? a.getDate() : null;
        },
        activate: function() {},
        clear: function() {
            this.$input.data("datetimepicker").date = null, this.$input.find(".active").removeClass("active"), 
            this.options.showbuttons || this.$input.closest("form").submit();
        },
        autosubmit: function() {
            this.$input.on("mouseup", ".minute", function() {
                var b = a(this).closest("form");
                setTimeout(function() {
                    b.submit();
                }, 200);
            });
        },
        toUTC: function(a) {
            return a ? new Date(a.valueOf() - 6e4 * a.getTimezoneOffset()) : a;
        },
        fromUTC: function(a) {
            return a ? new Date(a.valueOf() + 6e4 * a.getTimezoneOffset()) : a;
        },
        parseDate: function(a, b) {
            var c, d = null;
            return a && (d = this.dpg.parseDate(a, b, this.options.datetimepicker.language, this.options.formatType), 
            "string" == typeof a && (c = this.dpg.formatDate(d, b, this.options.datetimepicker.language, this.options.formatType), 
            a !== c && (d = null))), d;
        }
    }), b.defaults = a.extend({}, a.fn.editabletypes.abstractinput.defaults, {
        tpl: '<div class="editable-date well"></div>',
        inputclass: null,
        format: "yyyy-mm-dd hh:ii",
        formatType: "standard",
        viewformat: null,
        datetimepicker: {
            todayHighlight: !1,
            autoclose: !1
        },
        clear: "&times; clear"
    }), a.fn.editabletypes.datetime = b;
}(window.jQuery), function(a) {
    "use strict";
    var b = function(a) {
        this.init("datetimefield", a, b.defaults), this.initPicker(a, b.defaults);
    };
    a.fn.editableutils.inherit(b, a.fn.editabletypes.datetime), a.extend(b.prototype, {
        render: function() {
            this.$input = this.$tpl.find("input"), this.setClass(), this.setAttr("placeholder"), 
            this.$tpl.datetimepicker(this.options.datetimepicker), this.$input.off("focus keydown"), 
            this.$input.keyup(a.proxy(function() {
                this.$tpl.removeData("date"), this.$tpl.datetimepicker("update");
            }, this));
        },
        value2input: function(a) {
            this.$input.val(this.value2html(a)), this.$tpl.datetimepicker("update");
        },
        input2value: function() {
            return this.html2value(this.$input.val());
        },
        activate: function() {
            a.fn.editabletypes.text.prototype.activate.call(this);
        },
        autosubmit: function() {}
    }), b.defaults = a.extend({}, a.fn.editabletypes.datetime.defaults, {
        tpl: '<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',
        inputclass: "input-medium",
        datetimepicker: {
            todayHighlight: !1,
            autoclose: !0
        }
    }), a.fn.editabletypes.datetimefield = b;
}(window.jQuery), !function(a) {
    "use strict";
    a.expr[":"].icontains = function(b, c, d) {
        return a(b).text().toUpperCase().indexOf(d[3].toUpperCase()) >= 0;
    };
    var b = function(c, d, e) {
        e && (e.stopPropagation(), e.preventDefault()), this.$element = a(c), this.$newElement = null, 
        this.$button = null, this.$menu = null, this.options = a.extend({}, a.fn.selectpicker.defaults, this.$element.data(), "object" == typeof d && d), 
        null == this.options.title && (this.options.title = this.$element.attr("title")), 
        this.val = b.prototype.val, this.render = b.prototype.render, this.refresh = b.prototype.refresh, 
        this.setStyle = b.prototype.setStyle, this.selectAll = b.prototype.selectAll, this.deselectAll = b.prototype.deselectAll, 
        this.init();
    };
    b.prototype = {
        constructor: b,
        init: function() {
            this.$element.hide(), this.multiple = this.$element.prop("multiple");
            var b = this.$element.attr("id");
            if (this.$newElement = this.createView(), this.$element.after(this.$newElement), 
            this.$menu = this.$newElement.find("> .dropdown-menu"), this.$button = this.$newElement.find("> button"), 
            this.$searchbox = this.$newElement.find("input"), void 0 !== b) {
                var c = this;
                this.$button.attr("data-id", b), a('label[for="' + b + '"]').click(function(a) {
                    a.preventDefault(), c.$button.focus();
                });
            }
            this.checkDisabled(), this.clickListener(), this.liveSearchListener(), this.render(), 
            this.liHeight(), this.setStyle(), this.setWidth(), this.options.container && this.selectPosition(), 
            this.$menu.data("this", this), this.$newElement.data("this", this);
        },
        createDropdown: function() {
            var b = this.multiple ? " show-tick" : "", c = this.options.header ? '<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>' + this.options.header + "</div>" : "", d = this.options.liveSearch ? '<div class="bootstrap-select-searchbox"><input type="text" class="input-block-level form-control" /></div>' : "", e = "<div class='btn-group bootstrap-select" + b + "'><button type='button' class='btn dropdown-toggle selectpicker' data-toggle='dropdown'><div class='filter-option pull-left'></div>&nbsp;<div class='caret'></div></button><div class='dropdown-menu open'>" + c + d + "<ul class='dropdown-menu inner selectpicker' role='menu'></ul></div></div>";
            return a(e);
        },
        createView: function() {
            var a = this.createDropdown(), b = this.createLi();
            return a.find("ul").append(b), a;
        },
        reloadLi: function() {
            this.destroyLi();
            var a = this.createLi();
            this.$menu.find("ul").append(a);
        },
        destroyLi: function() {
            this.$menu.find("li").remove();
        },
        createLi: function() {
            var b = this, c = [], d = "";
            return this.$element.find("option").each(function() {
                var d = a(this), e = d.attr("class") || "", f = d.attr("style") || "", g = d.data("content") ? d.data("content") : d.html(), h = void 0 !== d.data("subtext") ? '<small class="muted text-muted">' + d.data("subtext") + "</small>" : "", i = void 0 !== d.data("icon") ? '<i class="glyphicon ' + d.data("icon") + '"></i> ' : "";
                if ("" !== i && (d.is(":disabled") || d.parent().is(":disabled")) && (i = "<span>" + i + "</span>"), 
                d.data("content") || (g = i + '<span class="text">' + g + h + "</span>"), b.options.hideDisabled && (d.is(":disabled") || d.parent().is(":disabled"))) c.push('<a style="min-height: 0; padding: 0"></a>'); else if (d.parent().is("optgroup") && d.data("divider") !== !0) if (0 == d.index()) {
                    var j = d.parent().attr("label"), k = void 0 !== d.parent().data("subtext") ? '<small class="muted text-muted">' + d.parent().data("subtext") + "</small>" : "", l = d.parent().data("icon") ? '<i class="' + d.parent().data("icon") + '"></i> ' : "";
                    j = l + '<span class="text">' + j + k + "</span>", c.push(0 != d[0].index ? '<div class="div-contain"><div class="divider"></div></div><dt>' + j + "</dt>" + b.createA(g, "opt " + e, f) : "<dt>" + j + "</dt>" + b.createA(g, "opt " + e, f));
                } else c.push(b.createA(g, "opt " + e, f)); else c.push(d.data("divider") === !0 ? '<div class="div-contain"><div class="divider"></div></div>' : a(this).data("hidden") === !0 ? "" : b.createA(g, e, f));
            }), a.each(c, function(a, b) {
                d += "<li rel=" + a + ">" + b + "</li>";
            }), this.multiple || 0 != this.$element.find("option:selected").length || this.options.title || this.$element.find("option").eq(0).prop("selected", !0).attr("selected", "selected"), 
            a(d);
        },
        createA: function(a, b, c) {
            return '<a tabindex="0" class="' + b + '" style="' + c + '">' + a + '<i class="glyphicon glyphicon-ok icon-ok check-mark"></i></a>';
        },
        render: function() {
            var b = this;
            this.$element.find("option").each(function(c) {
                b.setDisabled(c, a(this).is(":disabled") || a(this).parent().is(":disabled")), b.setSelected(c, a(this).is(":selected"));
            }), this.tabIndex();
            var c = this.$element.find("option:selected").map(function() {
                var c, d = a(this), e = d.data("icon") && b.options.showIcon ? '<i class="glyphicon ' + d.data("icon") + '"></i> ' : "";
                return c = b.options.showSubtext && d.attr("data-subtext") && !b.multiple ? ' <small class="muted text-muted">' + d.data("subtext") + "</small>" : "", 
                d.data("content") && b.options.showContent ? d.data("content") : void 0 != d.attr("title") ? d.attr("title") : e + d.html() + c;
            }).toArray(), d = this.multiple ? c.join(", ") : c[0];
            if (this.multiple && this.options.selectedTextFormat.indexOf("count") > -1) {
                var e = this.options.selectedTextFormat.split(">"), f = this.options.hideDisabled ? ":not([disabled])" : "";
                (e.length > 1 && c.length > e[1] || 1 == e.length && c.length >= 2) && (d = this.options.countSelectedText.replace("{0}", c.length).replace("{1}", this.$element.find('option:not([data-divider="true"]):not([data-hidden="true"])' + f).length));
            }
            d || (d = void 0 != this.options.title ? this.options.title : this.options.noneSelectedText), 
            this.$newElement.find(".filter-option").html(d);
        },
        setStyle: function(a, b) {
            this.$element.attr("class") && this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device/gi, ""));
            var c = a ? a : this.options.style;
            "add" == b ? this.$button.addClass(c) : "remove" == b ? this.$button.removeClass(c) : (this.$button.removeClass(this.options.style), 
            this.$button.addClass(c));
        },
        liHeight: function() {
            var a = this.$newElement.clone();
            a.appendTo("body");
            var b = a.addClass("open").find("> .dropdown-menu"), c = b.find("li > a").outerHeight(), d = this.options.header ? b.find(".popover-title").outerHeight() : 0, e = this.options.liveSearch ? b.find(".bootstrap-select-searchbox").outerHeight() : 0;
            a.remove(), this.$newElement.data("liHeight", c).data("headerHeight", d).data("searchHeight", e);
        },
        setSize: function() {
            var b, c, d, e = this, f = this.$menu, g = f.find(".inner"), h = this.$newElement.outerHeight(), i = this.$newElement.data("liHeight"), j = this.$newElement.data("headerHeight"), k = this.$newElement.data("searchHeight"), l = f.find("li .divider").outerHeight(!0), m = parseInt(f.css("padding-top")) + parseInt(f.css("padding-bottom")) + parseInt(f.css("border-top-width")) + parseInt(f.css("border-bottom-width")), n = this.options.hideDisabled ? ":not(.disabled)" : "", o = a(window), p = m + parseInt(f.css("margin-top")) + parseInt(f.css("margin-bottom")) + 2, q = function() {
                c = e.$newElement.offset().top - o.scrollTop(), d = o.height() - c - h;
            };
            if (q(), this.options.header && f.css("padding-top", 0), "auto" == this.options.size) {
                var r = function() {
                    var a;
                    q(), b = d - p, e.$newElement.toggleClass("dropup", c > d && b - p < f.height() && e.options.dropupAuto), 
                    e.$newElement.hasClass("dropup") && (b = c - p), a = f.find("li").length + f.find("dt").length > 3 ? 3 * i + p - 2 : 0, 
                    f.css({
                        "max-height": b + "px",
                        overflow: "hidden",
                        "min-height": a + "px"
                    }), g.css({
                        "max-height": b - j - k - m + "px",
                        "overflow-y": "auto",
                        "min-height": a - m + "px"
                    });
                };
                r(), a(window).resize(r), a(window).scroll(r);
            } else if (this.options.size && "auto" != this.options.size && f.find("li" + n).length > this.options.size) {
                var s = f.find("li" + n + " > *").filter(":not(.div-contain)").slice(0, this.options.size).last().parent().index(), t = f.find("li").slice(0, s + 1).find(".div-contain").length;
                b = i * this.options.size + t * l + m, this.$newElement.toggleClass("dropup", c > d && b < f.height() && this.options.dropupAuto), 
                f.css({
                    "max-height": b + j + k + "px",
                    overflow: "hidden"
                }), g.css({
                    "max-height": b - m + "px",
                    "overflow-y": "auto"
                });
            }
        },
        setWidth: function() {
            if ("auto" == this.options.width) {
                this.$menu.css("min-width", "0");
                var a = this.$newElement.clone().appendTo("body"), b = a.find("> .dropdown-menu").css("width");
                a.remove(), this.$newElement.css("width", b);
            } else "fit" == this.options.width ? (this.$menu.css("min-width", ""), this.$newElement.css("width", "").addClass("fit-width")) : this.options.width ? (this.$menu.css("min-width", ""), 
            this.$newElement.css("width", this.options.width)) : (this.$menu.css("min-width", ""), 
            this.$newElement.css("width", ""));
            this.$newElement.hasClass("fit-width") && "fit" !== this.options.width && this.$newElement.removeClass("fit-width");
        },
        selectPosition: function() {
            var b, c, d = this, e = "<div />", f = a(e), g = function(a) {
                f.addClass(a.attr("class")).toggleClass("dropup", a.hasClass("dropup")), b = a.offset(), 
                c = a.hasClass("dropup") ? 0 : a[0].offsetHeight, f.css({
                    top: b.top + c,
                    left: b.left,
                    width: a[0].offsetWidth,
                    position: "absolute"
                });
            };
            this.$newElement.on("click", function() {
                g(a(this)), f.appendTo(d.options.container), f.toggleClass("open", !a(this).hasClass("open")), 
                f.append(d.$menu);
            }), a(window).resize(function() {
                g(d.$newElement);
            }), a(window).on("scroll", function() {
                g(d.$newElement);
            }), a("html").on("click", function(b) {
                a(b.target).closest(d.$newElement).length < 1 && f.removeClass("open");
            });
        },
        mobile: function() {
            this.$element.addClass("mobile-device").appendTo(this.$newElement), this.options.container && this.$menu.hide();
        },
        refresh: function() {
            this.reloadLi(), this.render(), this.setWidth(), this.setStyle(), this.checkDisabled(), 
            this.liHeight();
        },
        update: function() {
            this.reloadLi(), this.setWidth(), this.setStyle(), this.checkDisabled(), this.liHeight();
        },
        setSelected: function(a, b) {
            this.$menu.find("li").eq(a).toggleClass("selected", b);
        },
        setDisabled: function(a, b) {
            b ? this.$menu.find("li").eq(a).addClass("disabled").find("a").attr("href", "#").attr("tabindex", -1) : this.$menu.find("li").eq(a).removeClass("disabled").find("a").removeAttr("href").attr("tabindex", 0);
        },
        isDisabled: function() {
            return this.$element.is(":disabled");
        },
        checkDisabled: function() {
            var a = this;
            this.isDisabled() ? this.$button.addClass("disabled").attr("tabindex", -1) : (this.$button.hasClass("disabled") && this.$button.removeClass("disabled"), 
            -1 == this.$button.attr("tabindex") && (this.$element.data("tabindex") || this.$button.removeAttr("tabindex"))), 
            this.$button.click(function() {
                return !a.isDisabled();
            });
        },
        tabIndex: function() {
            this.$element.is("[tabindex]") && (this.$element.data("tabindex", this.$element.attr("tabindex")), 
            this.$button.attr("tabindex", this.$element.data("tabindex")));
        },
        clickListener: function() {
            var b = this;
            a("body").on("touchstart.dropdown", ".dropdown-menu", function(a) {
                a.stopPropagation();
            }), this.$newElement.on("click", function() {
                b.setSize();
            }), this.$menu.on("click", "li a", function(c) {
                var d = a(this).parent().index(), e = b.$element.val();
                if (b.multiple && c.stopPropagation(), c.preventDefault(), !b.isDisabled() && !a(this).parent().hasClass("disabled")) {
                    var f = b.$element.find("option"), g = f.eq(d);
                    if (b.multiple) {
                        var h = g.prop("selected");
                        g.prop("selected", !h);
                    } else f.prop("selected", !1), g.prop("selected", !0);
                    b.$button.focus(), e != b.$element.val() && b.$element.change();
                }
            }), this.$menu.on("click", "li.disabled a, li dt, li .div-contain, h3.popover-title", function(a) {
                a.target == this && (a.preventDefault(), a.stopPropagation(), b.$button.focus());
            }), this.$searchbox.on("click", function(a) {
                a.stopPropagation();
            }), this.$element.change(function() {
                b.render();
            });
        },
        liveSearchListener: function() {
            var a = this;
            this.$newElement.on("click.dropdown.data-api", function() {
                a.options.liveSearch && setTimeout(function() {
                    a.$searchbox.focus();
                }, 10);
            }), this.$searchbox.on("keyup", function(b) {
                40 == b.keyCode ? a.$menu.find("li:not(.divider):visible a").first().focus() : 38 == b.keyCode ? a.$menu.find("li:not(.divider):visible a").last().focus() : a.$searchbox.val() ? a.$menu.find("li").show().not(":icontains(" + a.$searchbox.val() + ")").hide() : a.$menu.find("li").show();
            }).on("keydown", function(b) {
                return 13 == b.keyCode ? (a.$button.click().focus(), b.preventDefault(), !1) : void 0;
            });
        },
        val: function(a) {
            return void 0 != a ? (this.$element.val(a), this.$element.change(), this.$element) : this.$element.val();
        },
        selectAll: function() {
            this.$element.find("option").prop("selected", !0).attr("selected", "selected"), 
            this.render();
        },
        deselectAll: function() {
            this.$element.find("option").prop("selected", !1).removeAttr("selected"), this.render();
        },
        keydown: function(b) {
            var c = a(this).parent().data("this");
            c.$searchbox && c.$searchbox.is(":not(:visible)") && b.keyCode >= 48 && b.keyCode <= 90 && (a(":focus").click(), 
            c.$searchbox.focus());
        },
        keyup: function(b) {
            var c, d, e, f;
            if (c = a(this), e = c.parent(), f = e.data("this"), f.options.container && (e = f.$menu), 
            d = a("[role=menu] li:not(.divider):visible a", e), d.length) {
                if (/(38|40)/.test(b.keyCode) && f.$searchbox) {
                    var g = d.index(a(":focus")), h = c.data("lastIndex");
                    c.data("lastIndex", g), g == h && (0 == g || g == d.length - 1) && f.$searchbox.focus();
                } else {
                    var i = {
                        48: "0",
                        49: "1",
                        50: "2",
                        51: "3",
                        52: "4",
                        53: "5",
                        54: "6",
                        55: "7",
                        56: "8",
                        57: "9",
                        59: ";",
                        65: "a",
                        66: "b",
                        67: "c",
                        68: "d",
                        69: "e",
                        70: "f",
                        71: "g",
                        72: "h",
                        73: "i",
                        74: "j",
                        75: "k",
                        76: "l",
                        77: "m",
                        78: "n",
                        79: "o",
                        80: "p",
                        81: "q",
                        82: "r",
                        83: "s",
                        84: "t",
                        85: "u",
                        86: "v",
                        87: "w",
                        88: "x",
                        89: "y",
                        90: "z",
                        96: "0",
                        97: "1",
                        98: "2",
                        99: "3",
                        100: "4",
                        101: "5",
                        102: "6",
                        103: "7",
                        104: "8",
                        105: "9"
                    }, j = [];
                    d.each(function() {
                        a(this).parent().is(":not(.disabled)") && a.trim(a(this).text().toLowerCase()).substring(0, 1) == i[b.keyCode] && j.push(a(this).parent().index());
                    });
                    var k = a(document).data("keycount");
                    k++, a(document).data("keycount", k);
                    var l = a.trim(a(":focus").text().toLowerCase()).substring(0, 1);
                    l != i[b.keyCode] ? (k = 1, a(document).data("keycount", k)) : k >= j.length && a(document).data("keycount", 0), 
                    d.eq(j[k - 1]).focus();
                }
                /(13|32|9)/.test(b.keyCode) && c.is("[role=menu]") && (b.preventDefault(), a(":focus").click(), 
                a(document).data("keycount", 0));
            }
        },
        hide: function() {
            this.$newElement.hide();
        },
        show: function() {
            this.$newElement.show();
        },
        destroy: function() {
            this.$newElement.remove(), this.$element.remove();
        }
    }, a.fn.selectpicker = function(c, d) {
        var e, f = arguments, g = this.each(function() {
            if (a(this).is("select")) {
                var g = a(this), h = g.data("selectpicker"), i = "object" == typeof c && c;
                if (h) {
                    if (i) for (var j in i) h.options[j] = i[j];
                } else g.data("selectpicker", h = new b(this, i, d));
                if ("string" == typeof c) {
                    var k = c;
                    h[k] instanceof Function ? ([].shift.apply(f), e = h[k].apply(h, f)) : e = h.options[k];
                }
            }
        });
        return void 0 != e ? e : g;
    }, a.fn.selectpicker.defaults = {
        style: "btn-default",
        size: "auto",
        title: null,
        selectedTextFormat: "values",
        noneSelectedText: "Nothing selected",
        countSelectedText: "{0} of {1} selected",
        width: !1,
        container: !1,
        hideDisabled: !1,
        showSubtext: !1,
        showIcon: !0,
        showContent: !0,
        dropupAuto: !0,
        header: !1,
        liveSearch: !1
    }, a(document).data("keycount", 0).on("keydown", ".selectpicker[data-toggle=dropdown], .selectpicker[role=menu]", b.prototype.keydown).on("keyup", ".selectpicker[data-toggle=dropdown], .selectpicker[role=menu]", b.prototype.keyup);
}(window.jQuery), !function(a) {
    var b = function(b, c) {
        var d, e;
        switch ("undefined" != typeof Modernizr && Modernizr.touch && (this.touchCapable = !0), 
        this.element = a(b), this.element.hide(), this.id = this.element.data("slider-id") || c.id, 
        this.picker = a('<div class="slider"><div class="slider-track"><div class="slider-selection"></div><div class="slider-handle min"></div><div class="slider-handle center"></div><div class="slider-handle max"></div><div class="slider-handle single"></div></div><div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div></div>').insertBefore(this.element).append(this.element), 
        this.id && (this.picker[0].id = this.id), d = this.element.data("slider-tooltip") || c.tooltip, 
        this.orientation = this.element.data("slider-orientation") || c.orientation, this.tooltip = this.picker.find(".tooltip"), 
        this.tooltipInner = this.tooltip.find("div.tooltip-inner"), this.orientation) {
          case "vertical":
            this.mousePos = "pageY", this.picker.addClass("slider-vertical"), this.sizePos = "offsetHeight", 
            this.stylePos = "top", this.tooltip.addClass("right")[0].style.left = "100%";
            break;

          default:
            this.mousePos = "pageX", this.orientation = "horizontal", this.picker.addClass("slider-horizontal"), 
            this.sizePos = "offsetWidth", this.stylePos = "left", this.tooltip.addClass("top")[0].style.top = -this.tooltip.outerHeight() - 38 + "px";
        }
        if (this.center = this.element.data("slider-center") || c.center, this.max = this.element.data("slider-max") || c.max, 
        this.min = this.element.data("slider-min") || c.min, this.step = this.element.data("slider-step") || c.step, 
        this.value = this.element.data("slider-value") || c.value, this.value[1] && (this.range = !0), 
        this.selection = this.element.data("slider-selection") || c.selection, this.selectionEl = this.picker.find(".slider-selection"), 
        "none" === this.selection && this.selectionEl.addClass("hide"), this.selectionElStyle = this.selectionEl[0].style, 
        this.handleCenter = this.picker.find(".slider-handle.center"), this.handleCenterStype = this.handleCenter[0].style, 
        this.handleMin = this.picker.find(".slider-handle.min"), this.handleMinStype = this.handleMin[0].style, 
        this.handleMax = this.picker.find(".slider-handle.max"), this.handleMaxStype = this.handleMax[0].style, 
        this.handleSingle = this.picker.find(".slider-handle.single"), this.handleSingleMaxStype = this.handleSingle[0].style, 
        this.range ? (this.handleSingle.addClass("hide"), "undefined" == typeof this.center && this.handleCenter.addClass("hide"), 
        this.value[0] = Math.max(this.min, Math.min(this.max, this.value[0])), this.value[1] = Math.max(this.min, Math.min(this.max, this.value[1]))) : (this.handleCenter.addClass("hide"), 
        this.handleMin.addClass("hide"), this.handleMax.addClass("hide"), this.value = [ Math.max(this.min, Math.min(this.max, this.value)) ], 
        this.tooltip.css({
            "margin-top": 0
        }), this.value[1] = "after" === this.selection ? this.max : this.min), this.diff = this.max - this.min, 
        this.formatter = c.formatter, this.offset = this.picker.offset(), this.percentage = [ 100 * (this.value[0] - this.min) / this.diff, 100 * (this.value[1] - this.min) / this.diff, 100 * this.step / this.diff ], 
        e = this.picker[0][this.sizePos], this.picker.on(this.touchCapable ? {
            touchstart: a.proxy(this.mousedown, this)
        } : {
            mousedown: a.proxy(this.mousedown, this)
        }), "show" === d ? this.picker.on({
            mouseenter: a.proxy(this.showTooltip, this),
            mouseleave: a.proxy(this.hideTooltip, this)
        }) : this.tooltip.addClass("hide"), e) this.size = e, this.layout(), this.setValue(this.calculateValue()); else {
            var f, g = this;
            f = setInterval(function() {
                e = g.picker[0][g.sizePos], e && (clearInterval(f), g.size = e, g.layout(), g.setValue(g.calculateValue()));
            }, 100);
        }
    };
    b.prototype = {
        constructor: b,
        inDrag: !1,
        over: !1,
        calculateValue: function() {
            var a;
            return this.range ? (a = [ this.min + Math.round(this.diff * this.percentage[0] / 100 / this.step) * this.step, this.min + Math.round(this.diff * this.percentage[1] / 100 / this.step) * this.step ], 
            this.value = a) : (a = this.min + Math.round(this.diff * this.percentage[0] / 100 / this.step) * this.step, 
            this.value = [ a, this.value[1] ]), a;
        },
        getPercentage: function(a) {
            return this.touchCapable && (a = a.touches[0]), Math.max(0, Math.min(100, Math.round(100 * (a[this.mousePos] - this.offset[this.stylePos]) / this.size / this.percentage[2]) * this.percentage[2]));
        },
        getValue: function() {
            return this.range ? this.value : this.value[0];
        },
        hideTooltip: function() {
            this.inDrag === !1 && this.tooltip.removeClass("in"), this.over = !1;
        },
        layout: function() {
            if (this.handleMinStype[this.stylePos] = this.percentage[0] + "%", this.handleMaxStype[this.stylePos] = this.percentage[1] + "%", 
            "vertical" === this.orientation ? (this.selectionElStyle.top = Math.min(this.percentage[0], this.percentage[1]) + "%", 
            this.selectionElStyle.height = Math.abs(this.percentage[0] - this.percentage[1]) + "%") : (this.selectionElStyle.left = Math.min(this.percentage[0], this.percentage[1]) + "%", 
            this.selectionElStyle.width = Math.abs(this.percentage[0] - this.percentage[1]) + "%"), 
            this.range) this.tooltipInner.text(this.formatter(this.value[0]) + " - " + this.formatter(this.value[1])), 
            this.tooltip[0].style[this.stylePos] = this.size * (this.percentage[0] + (this.percentage[1] - this.percentage[0]) / 2) / 100 - ("vertical" === this.orientation ? this.tooltip.outerHeight() / 2 : this.tooltip.outerWidth() / 2) + "px"; else {
                var a = this.size * this.percentage[0] / 100;
                this.tooltipInner.text(this.formatter(this.value[0])), this.handleSingle[0].style[this.stylePos] = a - ("vertical" === this.orientation ? this.handleSingle.outerHeight() / 2 : this.handleSingle.outerWidth() / 2) + "px", 
                this.tooltip[0].style[this.stylePos] = a - ("vertical" === this.orientation ? this.tooltip.outerHeight() / 2 : this.tooltip.outerWidth() / 2) + "px";
            }
        },
        mousedown: function(b) {
            var c, d;
            if (this.touchCapable && "touchstart" === b.type && (b = b.originalEvent), this.offset = this.picker.offset(), 
            this.size = this.picker[0][this.sizePos], c = this.getPercentage(b), this.range) {
                var e = Math.abs(this.percentage[0] - c), f = Math.abs(this.percentage[1] - c);
                this.dragged = f > e ? 0 : 1;
            } else this.dragged = 0;
            return this.percentage[this.dragged] = c, this.layout(), a(document).on(this.touchCapable ? {
                touchmove: a.proxy(this.mousemove, this),
                touchend: a.proxy(this.mouseup, this)
            } : {
                mousemove: a.proxy(this.mousemove, this),
                mouseup: a.proxy(this.mouseup, this)
            }), this.inDrag = !0, d = this.calculateValue(), this.element.trigger({
                type: "slideStart",
                value: d
            }).trigger({
                type: "slide",
                value: d
            }), this.setValue(d), !1;
        },
        mousemove: function(a) {
            var b, c;
            return this.touchCapable && "touchmove" === a.type && (a = a.originalEvent), b = this.getPercentage(a), 
            this.range && (0 === this.dragged && this.percentage[1] < b ? (this.percentage[0] = this.percentage[1], 
            this.dragged = 1) : 1 === this.dragged && this.percentage[0] > b && (this.percentage[1] = this.percentage[0], 
            this.dragged = 0)), this.percentage[this.dragged] = b, this.layout(), c = this.calculateValue(), 
            this.element.trigger({
                type: "slide",
                value: c
            }).data("value", c).prop("value", c), this.setValue(c), !1;
        },
        mouseup: function() {
            var b;
            return a(document).off(this.touchCapable ? {
                touchmove: this.mousemove,
                touchend: this.mouseup
            } : {
                mousemove: this.mousemove,
                mouseup: this.mouseup
            }), this.inDrag = !1, this.over === !1 && this.hideTooltip(), b = this.calculateValue(), 
            this.element.trigger({
                type: "slideStop",
                value: b
            }).data("value", b).prop("value", b), this.setValue(b), !1;
        },
        setValue: function(a) {
            this.value = a, this.range ? (this.value[0] = Math.max(this.min, Math.min(this.max, this.value[0])), 
            this.value[1] = Math.max(this.min, Math.min(this.max, this.value[1]))) : (this.value = [ Math.max(this.min, Math.min(this.max, this.value)) ], 
            this.value[1] = "after" === this.selection ? this.max : this.min), this.diff = this.max - this.min, 
            this.percentage = [ 100 * (this.value[0] - this.min) / this.diff, 100 * (this.value[1] - this.min) / this.diff, 100 * this.step / this.diff ], 
            this.layout(), this.element.data("value", a).prop("value", a);
        },
        showTooltip: function() {
            this.over = !0, this.tooltip.addClass("in");
        }
    }, a.fn.slider = function(c, d) {
        return this.each(function() {
            var e = a(this), f = e.data("slider"), g = "object" == typeof c && c;
            f || e.data("slider", f = new b(this, a.extend({}, a.fn.slider.defaults, g))), "string" == typeof c && f[c](d);
        });
    }, a.fn.slider.defaults = {
        max: 10,
        min: 0,
        orientation: "horizontal",
        selection: "before",
        step: 1,
        tooltip: "show",
        value: 5,
        formatter: function(a) {
            return a;
        }
    }, a.fn.slider.Constructor = b;
}(window.jQuery), function(a) {
    "use strict";
    var b = function(a, b) {
        this.init("simplecolorpicker", a, b);
    };
    b.prototype = {
        constructor: b,
        init: function(b, c, d) {
            var e = this;
            if (e.type = b, e.$select = a(c), e.$select.hide(), e.options = a.extend({}, a.fn.simplecolorpicker.defaults, d), 
            e.$colorList = null, e.options.picker === !0) {
                var f = e.$select.find("> option:selected").text();
                e.$icon = a('<span class="simplecolorpicker icon" title="' + f + '" style="background-color:' + e.$select.val() + ';" role="button" tabindex="0"></span>').insertAfter(e.$select), 
                e.$icon.on("click." + e.type, function() {
                    e.$picker.is(":visible") ? e.hidePicker() : e.showPicker();
                }), e.$picker = a('<span class="simplecolorpicker picker ' + e.options.theme + '"></span>').appendTo(document.body), 
                e.$colorList = e.$picker, a(document).on("mousedown." + e.type, function(b) {
                    a(b.target)[0] !== e.$icon[0] && e.hidePicker();
                }), e.$picker.on("mousedown." + e.type, a.proxy(e.mousedown, e));
            } else e.$inline = a('<span class="simplecolorpicker inline ' + e.options.theme + '"></span>').insertAfter(e.$select), 
            e.$colorList = e.$inline;
            e.$select.find("> option").each(function() {
                var b = a(this), c = b.val(), d = b.is(":disabled"), f = b.is(":selected"), g = "";
                f === !0 && (g = " data-selected");
                var h = "";
                d === !0 && (h = " data-disabled");
                var i = "";
                d === !1 && (i = ' title="' + b.text() + '"');
                var j = "";
                d === !1 && (j = ' role="button" tabindex="0"');
                var k = a('<span class="color"' + i + ' style="background-color: ' + c + ';" data-color="' + c + '"' + g + h + j + "></span>");
                e.$colorList.append(k), k.on("click." + e.type, a.proxy(e.colorSpanClicked, e));
                var l = b.next();
                l.is("optgroup") === !0 && e.$colorList.append('<span class="vr"></span>');
            });
        },
        colorSpanClicked: function(b) {
            a(b.target).is("[data-disabled]") === !1 && (this.selectColorSpan(a(b.target)), 
            this.$select.trigger("change"));
        },
        destroy: function() {
            this.options.picker === !0 && (this.$icon.off("." + this.type), this.$icon.remove(), 
            a(document).off("." + this.type)), this.$colorList.off("." + this.type), this.$colorList.remove(), 
            this.$select.removeData(this.type), this.$select.show();
        },
        hidePicker: function() {
            this.$picker.hide(this.options.pickerDelay);
        },
        mousedown: function(a) {
            a.stopPropagation(), a.preventDefault();
        },
        selectColor: function(b) {
            var c = this, d = c.$colorList.find("> span.color").filter(function() {
                return a(this).data("color").toLowerCase() === b.toLowerCase();
            });
            d.length > 0 && c.selectColorSpan(d);
        },
        selectColorSpan: function(a) {
            var b = a.data("color"), c = a.prop("title");
            a.siblings().removeAttr("data-selected"), a.attr("data-selected", ""), this.options.picker === !0 && (this.$icon.css("background-color", b), 
            this.$icon.prop("title", c), this.hidePicker()), this.$select.val(b);
        },
        showPicker: function() {
            var a = this.$icon.offset();
            this.$picker.css({
                left: a.left - 6,
                top: a.top + this.$icon.outerHeight()
            }), this.$picker.show(this.options.pickerDelay);
        }
    }, a.fn.simplecolorpicker = function(c) {
        var d = a.makeArray(arguments);
        return d.shift(), this.each(function() {
            var e = a(this), f = e.data("simplecolorpicker"), g = "object" == typeof c && c;
            void 0 === f && e.data("simplecolorpicker", f = new b(this, g)), "string" == typeof c && f[c].apply(f, d);
        });
    }, a.fn.simplecolorpicker.defaults = {
        picker: !1,
        pickerDelay: 0,
        theme: ""
    };
}(jQuery), !function(a) {
    var b = "0.9.3", c = {
        isMsie: function() {
            var a = /(msie) ([\w.]+)/i.exec(navigator.userAgent);
            return a ? parseInt(a[2], 10) : !1;
        },
        isBlankString: function(a) {
            return !a || /^\s*$/.test(a);
        },
        escapeRegExChars: function(a) {
            return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
        },
        isString: function(a) {
            return "string" == typeof a;
        },
        isNumber: function(a) {
            return "number" == typeof a;
        },
        isArray: a.isArray,
        isFunction: a.isFunction,
        isObject: a.isPlainObject,
        isUndefined: function(a) {
            return "undefined" == typeof a;
        },
        bind: a.proxy,
        bindAll: function(b) {
            var c;
            for (var d in b) a.isFunction(c = b[d]) && (b[d] = a.proxy(c, b));
        },
        indexOf: function(a, b) {
            for (var c = 0; c < a.length; c++) if (a[c] === b) return c;
            return -1;
        },
        each: a.each,
        map: a.map,
        filter: a.grep,
        every: function(b, c) {
            var d = !0;
            return b ? (a.each(b, function(a, e) {
                return (d = c.call(null, e, a, b)) ? void 0 : !1;
            }), !!d) : d;
        },
        some: function(b, c) {
            var d = !1;
            return b ? (a.each(b, function(a, e) {
                return (d = c.call(null, e, a, b)) ? !1 : void 0;
            }), !!d) : d;
        },
        mixin: a.extend,
        getUniqueId: function() {
            var a = 0;
            return function() {
                return a++;
            };
        }(),
        defer: function(a) {
            setTimeout(a, 0);
        },
        debounce: function(a, b, c) {
            var d, e;
            return function() {
                var f, g, h = this, i = arguments;
                return f = function() {
                    d = null, c || (e = a.apply(h, i));
                }, g = c && !d, clearTimeout(d), d = setTimeout(f, b), g && (e = a.apply(h, i)), 
                e;
            };
        },
        throttle: function(a, b) {
            var c, d, e, f, g, h;
            return g = 0, h = function() {
                g = new Date(), e = null, f = a.apply(c, d);
            }, function() {
                var i = new Date(), j = b - (i - g);
                return c = this, d = arguments, 0 >= j ? (clearTimeout(e), e = null, g = i, f = a.apply(c, d)) : e || (e = setTimeout(h, j)), 
                f;
            };
        },
        tokenizeQuery: function(b) {
            return a.trim(b).toLowerCase().split(/[\s]+/);
        },
        tokenizeText: function(b) {
            return a.trim(b).toLowerCase().split(/[\s\-_]+/);
        },
        getProtocol: function() {
            return location.protocol;
        },
        noop: function() {}
    }, d = function() {
        var a = /\s+/;
        return {
            on: function(b, c) {
                var d;
                if (!c) return this;
                for (this._callbacks = this._callbacks || {}, b = b.split(a); d = b.shift(); ) this._callbacks[d] = this._callbacks[d] || [], 
                this._callbacks[d].push(c);
                return this;
            },
            trigger: function(b, c) {
                var d, e;
                if (!this._callbacks) return this;
                for (b = b.split(a); d = b.shift(); ) if (e = this._callbacks[d]) for (var f = 0; f < e.length; f += 1) e[f].call(this, {
                    type: d,
                    data: c
                });
                return this;
            }
        };
    }(), e = function() {
        function b(b) {
            b && b.el || a.error("EventBus initialized without el"), this.$el = a(b.el);
        }
        var d = "typeahead:";
        return c.mixin(b.prototype, {
            trigger: function(a) {
                var b = [].slice.call(arguments, 1);
                this.$el.trigger(d + a, b);
            }
        }), b;
    }(), f = function() {
        function a(a) {
            this.prefix = [ "__", a, "__" ].join(""), this.ttlKey = "__ttl__", this.keyMatcher = new RegExp("^" + this.prefix);
        }
        function b() {
            return new Date().getTime();
        }
        function d(a) {
            return JSON.stringify(c.isUndefined(a) ? null : a);
        }
        function e(a) {
            return JSON.parse(a);
        }
        var f, g;
        try {
            f = window.localStorage, f.setItem("~~~", "!"), f.removeItem("~~~");
        } catch (h) {
            f = null;
        }
        return g = f && window.JSON ? {
            _prefix: function(a) {
                return this.prefix + a;
            },
            _ttlKey: function(a) {
                return this._prefix(a) + this.ttlKey;
            },
            get: function(a) {
                return this.isExpired(a) && this.remove(a), e(f.getItem(this._prefix(a)));
            },
            set: function(a, e, g) {
                return c.isNumber(g) ? f.setItem(this._ttlKey(a), d(b() + g)) : f.removeItem(this._ttlKey(a)), 
                f.setItem(this._prefix(a), d(e));
            },
            remove: function(a) {
                return f.removeItem(this._ttlKey(a)), f.removeItem(this._prefix(a)), this;
            },
            clear: function() {
                var a, b, c = [], d = f.length;
                for (a = 0; d > a; a++) (b = f.key(a)).match(this.keyMatcher) && c.push(b.replace(this.keyMatcher, ""));
                for (a = c.length; a--; ) this.remove(c[a]);
                return this;
            },
            isExpired: function(a) {
                var d = e(f.getItem(this._ttlKey(a)));
                return c.isNumber(d) && b() > d ? !0 : !1;
            }
        } : {
            get: c.noop,
            set: c.noop,
            remove: c.noop,
            clear: c.noop,
            isExpired: c.noop
        }, c.mixin(a.prototype, g), a;
    }(), g = function() {
        function a(a) {
            c.bindAll(this), a = a || {}, this.sizeLimit = a.sizeLimit || 10, this.cache = {}, 
            this.cachedKeysByAge = [];
        }
        return c.mixin(a.prototype, {
            get: function(a) {
                return this.cache[a];
            },
            set: function(a, b) {
                var c;
                this.cachedKeysByAge.length === this.sizeLimit && (c = this.cachedKeysByAge.shift(), 
                delete this.cache[c]), this.cache[a] = b, this.cachedKeysByAge.push(a);
            }
        }), a;
    }(), h = function() {
        function b(a) {
            c.bindAll(this), a = c.isString(a) ? {
                url: a
            } : a, i = i || new g(), h = c.isNumber(a.maxParallelRequests) ? a.maxParallelRequests : h || 6, 
            this.url = a.url, this.wildcard = a.wildcard || "%QUERY", this.filter = a.filter, 
            this.replace = a.replace, this.ajaxSettings = {
                type: "get",
                cache: a.cache,
                timeout: a.timeout,
                dataType: a.dataType || "json",
                beforeSend: a.beforeSend
            }, this._get = (/^throttle$/i.test(a.rateLimitFn) ? c.throttle : c.debounce)(this._get, a.rateLimitWait || 300);
        }
        function d() {
            j++;
        }
        function e() {
            j--;
        }
        function f() {
            return h > j;
        }
        var h, i, j = 0, k = {};
        return c.mixin(b.prototype, {
            _get: function(a, b) {
                function c(c) {
                    var e = d.filter ? d.filter(c) : c;
                    b && b(e), i.set(a, c);
                }
                var d = this;
                f() ? this._sendRequest(a).done(c) : this.onDeckRequestArgs = [].slice.call(arguments, 0);
            },
            _sendRequest: function(b) {
                function c() {
                    e(), k[b] = null, f.onDeckRequestArgs && (f._get.apply(f, f.onDeckRequestArgs), 
                    f.onDeckRequestArgs = null);
                }
                var f = this, g = k[b];
                return g || (d(), g = k[b] = a.ajax(b, this.ajaxSettings).always(c)), g;
            },
            get: function(a, b) {
                var d, e, f = this, g = encodeURIComponent(a || "");
                return b = b || c.noop, d = this.replace ? this.replace(this.url, g) : this.url.replace(this.wildcard, g), 
                (e = i.get(d)) ? c.defer(function() {
                    b(f.filter ? f.filter(e) : e);
                }) : this._get(d, b), !!e;
            }
        }), b;
    }(), i = function() {
        function d(b) {
            c.bindAll(this), c.isString(b.template) && !b.engine && a.error("no template engine specified"), 
            b.local || b.prefetch || b.remote || a.error("one of local, prefetch, or remote is required"), 
            this.name = b.name || c.getUniqueId(), this.limit = b.limit || 5, this.minLength = b.minLength || 1, 
            this.header = b.header, this.footer = b.footer, this.valueKey = b.valueKey || "value", 
            this.template = e(b.template, b.engine, this.valueKey), this.local = b.local, this.prefetch = b.prefetch, 
            this.remote = b.remote, this.itemHash = {}, this.adjacencyList = {}, this.storage = b.name ? new f(b.name) : null;
        }
        function e(a, b, d) {
            var e, f;
            return c.isFunction(a) ? e = a : c.isString(a) ? (f = b.compile(a), e = c.bind(f.render, f)) : e = function(a) {
                return "<p>" + a[d] + "</p>";
            }, e;
        }
        var g = {
            thumbprint: "thumbprint",
            protocol: "protocol",
            itemHash: "itemHash",
            adjacencyList: "adjacencyList"
        };
        return c.mixin(d.prototype, {
            _processLocalData: function(a) {
                this._mergeProcessedData(this._processData(a));
            },
            _loadPrefetchData: function(d) {
                function e(a) {
                    var b = d.filter ? d.filter(a) : a, e = m._processData(b), f = e.itemHash, h = e.adjacencyList;
                    m.storage && (m.storage.set(g.itemHash, f, d.ttl), m.storage.set(g.adjacencyList, h, d.ttl), 
                    m.storage.set(g.thumbprint, n, d.ttl), m.storage.set(g.protocol, c.getProtocol(), d.ttl)), 
                    m._mergeProcessedData(e);
                }
                var f, h, i, j, k, l, m = this, n = b + (d.thumbprint || "");
                return this.storage && (f = this.storage.get(g.thumbprint), h = this.storage.get(g.protocol), 
                i = this.storage.get(g.itemHash), j = this.storage.get(g.adjacencyList)), k = f !== n || h !== c.getProtocol(), 
                d = c.isString(d) ? {
                    url: d
                } : d, d.ttl = c.isNumber(d.ttl) ? d.ttl : 864e5, i && j && !k ? (this._mergeProcessedData({
                    itemHash: i,
                    adjacencyList: j
                }), l = a.Deferred().resolve()) : l = a.getJSON(d.url).done(e), l;
            },
            _transformDatum: function(a) {
                var b = c.isString(a) ? a : a[this.valueKey], d = a.tokens || c.tokenizeText(b), e = {
                    value: b,
                    tokens: d
                };
                return c.isString(a) ? (e.datum = {}, e.datum[this.valueKey] = a) : e.datum = a, 
                e.tokens = c.filter(e.tokens, function(a) {
                    return !c.isBlankString(a);
                }), e.tokens = c.map(e.tokens, function(a) {
                    return a.toLowerCase();
                }), e;
            },
            _processData: function(a) {
                var b = this, d = {}, e = {};
                return c.each(a, function(a, f) {
                    var g = b._transformDatum(f), h = c.getUniqueId(g.value);
                    d[h] = g, c.each(g.tokens, function(a, b) {
                        var d = b.charAt(0), f = e[d] || (e[d] = [ h ]);
                        !~c.indexOf(f, h) && f.push(h);
                    });
                }), {
                    itemHash: d,
                    adjacencyList: e
                };
            },
            _mergeProcessedData: function(a) {
                var b = this;
                c.mixin(this.itemHash, a.itemHash), c.each(a.adjacencyList, function(a, c) {
                    var d = b.adjacencyList[a];
                    b.adjacencyList[a] = d ? d.concat(c) : c;
                });
            },
            _getLocalSuggestions: function(a) {
                var b, d = this, e = [], f = [], g = [];
                return c.each(a, function(a, b) {
                    var d = b.charAt(0);
                    !~c.indexOf(e, d) && e.push(d);
                }), c.each(e, function(a, c) {
                    var e = d.adjacencyList[c];
                    return e ? (f.push(e), void ((!b || e.length < b.length) && (b = e))) : !1;
                }), f.length < e.length ? [] : (c.each(b, function(b, e) {
                    var h, i, j = d.itemHash[e];
                    h = c.every(f, function(a) {
                        return ~c.indexOf(a, e);
                    }), i = h && c.every(a, function(a) {
                        return c.some(j.tokens, function(b) {
                            return 0 === b.indexOf(a);
                        });
                    }), i && g.push(j);
                }), g);
            },
            initialize: function() {
                var b;
                return this.local && this._processLocalData(this.local), this.transport = this.remote ? new h(this.remote) : null, 
                b = this.prefetch ? this._loadPrefetchData(this.prefetch) : a.Deferred().resolve(), 
                this.local = this.prefetch = this.remote = null, this.initialize = function() {
                    return b;
                }, b;
            },
            getSuggestions: function(a, b) {
                function d(a) {
                    f = f.slice(0), c.each(a, function(a, b) {
                        var d, e = g._transformDatum(b);
                        return d = c.some(f, function(a) {
                            return e.value === a.value;
                        }), !d && f.push(e), f.length < g.limit;
                    }), b && b(f);
                }
                var e, f, g = this, h = !1;
                a.length < this.minLength || (e = c.tokenizeQuery(a), f = this._getLocalSuggestions(e).slice(0, this.limit), 
                f.length < this.limit && this.transport && (h = this.transport.get(a, d)), !h && b && b(f));
            }
        }), d;
    }(), j = function() {
        function b(b) {
            var d = this;
            c.bindAll(this), this.specialKeyCodeMap = {
                9: "tab",
                27: "esc",
                37: "left",
                39: "right",
                13: "enter",
                38: "up",
                40: "down"
            }, this.$hint = a(b.hint), this.$input = a(b.input).on("blur.tt", this._handleBlur).on("focus.tt", this._handleFocus).on("keydown.tt", this._handleSpecialKeyEvent), 
            c.isMsie() ? this.$input.on("keydown.tt keypress.tt cut.tt paste.tt", function(a) {
                d.specialKeyCodeMap[a.which || a.keyCode] || c.defer(d._compareQueryToInputValue);
            }) : this.$input.on("input.tt", this._compareQueryToInputValue), this.query = this.$input.val(), 
            this.$overflowHelper = e(this.$input);
        }
        function e(b) {
            return a("<span></span>").css({
                position: "absolute",
                left: "-9999px",
                visibility: "hidden",
                whiteSpace: "nowrap",
                fontFamily: b.css("font-family"),
                fontSize: b.css("font-size"),
                fontStyle: b.css("font-style"),
                fontVariant: b.css("font-variant"),
                fontWeight: b.css("font-weight"),
                wordSpacing: b.css("word-spacing"),
                letterSpacing: b.css("letter-spacing"),
                textIndent: b.css("text-indent"),
                textRendering: b.css("text-rendering"),
                textTransform: b.css("text-transform")
            }).insertAfter(b);
        }
        function f(a, b) {
            return a = (a || "").replace(/^\s*/g, "").replace(/\s{2,}/g, " "), b = (b || "").replace(/^\s*/g, "").replace(/\s{2,}/g, " "), 
            a === b;
        }
        return c.mixin(b.prototype, d, {
            _handleFocus: function() {
                this.trigger("focused");
            },
            _handleBlur: function() {
                this.trigger("blured");
            },
            _handleSpecialKeyEvent: function(a) {
                var b = this.specialKeyCodeMap[a.which || a.keyCode];
                b && this.trigger(b + "Keyed", a);
            },
            _compareQueryToInputValue: function() {
                var a = this.getInputValue(), b = f(this.query, a), c = b ? this.query.length !== a.length : !1;
                c ? this.trigger("whitespaceChanged", {
                    value: this.query
                }) : b || this.trigger("queryChanged", {
                    value: this.query = a
                });
            },
            destroy: function() {
                this.$hint.off(".tt"), this.$input.off(".tt"), this.$hint = this.$input = this.$overflowHelper = null;
            },
            focus: function() {
                this.$input.focus();
            },
            blur: function() {
                this.$input.blur();
            },
            getQuery: function() {
                return this.query;
            },
            setQuery: function(a) {
                this.query = a;
            },
            getInputValue: function() {
                return this.$input.val();
            },
            setInputValue: function(a, b) {
                this.$input.val(a), !b && this._compareQueryToInputValue();
            },
            getHintValue: function() {
                return this.$hint.val();
            },
            setHintValue: function(a) {
                this.$hint.val(a);
            },
            getLanguageDirection: function() {
                return (this.$input.css("direction") || "ltr").toLowerCase();
            },
            isOverflow: function() {
                return this.$overflowHelper.text(this.getInputValue()), this.$overflowHelper.width() > this.$input.width();
            },
            isCursorAtEnd: function() {
                var a, b = this.$input.val().length, d = this.$input[0].selectionStart;
                return c.isNumber(d) ? d === b : document.selection ? (a = document.selection.createRange(), 
                a.moveStart("character", -b), b === a.text.length) : !0;
            }
        }), b;
    }(), k = function() {
        function b(b) {
            c.bindAll(this), this.isOpen = !1, this.isEmpty = !0, this.isMouseOverDropdown = !1, 
            this.$menu = a(b.menu).on("mouseenter.tt", this._handleMouseenter).on("mouseleave.tt", this._handleMouseleave).on("click.tt", ".tt-suggestion", this._handleSelection).on("mouseover.tt", ".tt-suggestion", this._handleMouseover);
        }
        function e(a) {
            return a.data("suggestion");
        }
        var f = {
            suggestionsList: '<span class="tt-suggestions"></span>'
        }, g = {
            suggestionsList: {
                display: "block"
            },
            suggestion: {
                whiteSpace: "nowrap",
                cursor: "pointer"
            },
            suggestionChild: {
                whiteSpace: "normal"
            }
        };
        return c.mixin(b.prototype, d, {
            _handleMouseenter: function() {
                this.isMouseOverDropdown = !0;
            },
            _handleMouseleave: function() {
                this.isMouseOverDropdown = !1;
            },
            _handleMouseover: function(b) {
                var c = a(b.currentTarget);
                this._getSuggestions().removeClass("tt-is-under-cursor"), c.addClass("tt-is-under-cursor");
            },
            _handleSelection: function(b) {
                var c = a(b.currentTarget);
                this.trigger("suggestionSelected", e(c));
            },
            _show: function() {
                this.$menu.css("display", "block");
            },
            _hide: function() {
                this.$menu.hide();
            },
            _moveCursor: function(a) {
                var b, c, d, f;
                if (this.isVisible()) {
                    if (b = this._getSuggestions(), c = b.filter(".tt-is-under-cursor"), c.removeClass("tt-is-under-cursor"), 
                    d = b.index(c) + a, d = (d + 1) % (b.length + 1) - 1, -1 === d) return void this.trigger("cursorRemoved");
                    -1 > d && (d = b.length - 1), f = b.eq(d).addClass("tt-is-under-cursor"), this._ensureVisibility(f), 
                    this.trigger("cursorMoved", e(f));
                }
            },
            _getSuggestions: function() {
                return this.$menu.find(".tt-suggestions > .tt-suggestion");
            },
            _ensureVisibility: function(a) {
                var b = this.$menu.height() + parseInt(this.$menu.css("paddingTop"), 10) + parseInt(this.$menu.css("paddingBottom"), 10), c = this.$menu.scrollTop(), d = a.position().top, e = d + a.outerHeight(!0);
                0 > d ? this.$menu.scrollTop(c + d) : e > b && this.$menu.scrollTop(c + (e - b));
            },
            destroy: function() {
                this.$menu.off(".tt"), this.$menu = null;
            },
            isVisible: function() {
                return this.isOpen && !this.isEmpty;
            },
            closeUnlessMouseIsOverDropdown: function() {
                this.isMouseOverDropdown || this.close();
            },
            close: function() {
                this.isOpen && (this.isOpen = !1, this.isMouseOverDropdown = !1, this._hide(), this.$menu.find(".tt-suggestions > .tt-suggestion").removeClass("tt-is-under-cursor"), 
                this.trigger("closed"));
            },
            open: function() {
                this.isOpen || (this.isOpen = !0, !this.isEmpty && this._show(), this.trigger("opened"));
            },
            setLanguageDirection: function(a) {
                var b = {
                    left: "0",
                    right: "auto"
                }, c = {
                    left: "auto",
                    right: " 0"
                };
                this.$menu.css("ltr" === a ? b : c);
            },
            moveCursorUp: function() {
                this._moveCursor(-1);
            },
            moveCursorDown: function() {
                this._moveCursor(1);
            },
            getSuggestionUnderCursor: function() {
                var a = this._getSuggestions().filter(".tt-is-under-cursor").first();
                return a.length > 0 ? e(a) : null;
            },
            getFirstSuggestion: function() {
                var a = this._getSuggestions().first();
                return a.length > 0 ? e(a) : null;
            },
            renderSuggestions: function(b, d) {
                var e, h, i, j, k, l = "tt-dataset-" + b.name, m = '<div class="tt-suggestion">%body</div>', n = this.$menu.find("." + l);
                0 === n.length && (h = a(f.suggestionsList).css(g.suggestionsList), n = a("<div></div>").addClass(l).append(b.header).append(h).append(b.footer).appendTo(this.$menu)), 
                d.length > 0 ? (this.isEmpty = !1, this.isOpen && this._show(), i = document.createElement("div"), 
                j = document.createDocumentFragment(), c.each(d, function(c, d) {
                    d.dataset = b.name, e = b.template(d.datum), i.innerHTML = m.replace("%body", e), 
                    k = a(i.firstChild).css(g.suggestion).data("suggestion", d), k.children().each(function() {
                        a(this).css(g.suggestionChild);
                    }), j.appendChild(k[0]);
                }), n.show().find(".tt-suggestions").html(j)) : this.clearSuggestions(b.name), this.trigger("suggestionsRendered");
            },
            clearSuggestions: function(a) {
                var b = this.$menu.find(a ? ".tt-dataset-" + a : '[class^="tt-dataset-"]'), c = b.find(".tt-suggestions");
                b.hide(), c.empty(), 0 === this._getSuggestions().length && (this.isEmpty = !0, 
                this._hide());
            }
        }), b;
    }(), l = function() {
        function b(a) {
            var b, d, f;
            c.bindAll(this), this.$node = e(a.input), this.datasets = a.datasets, this.dir = null, 
            this.eventBus = a.eventBus, b = this.$node.find(".tt-dropdown-menu"), d = this.$node.find(".tt-query"), 
            f = this.$node.find(".tt-hint"), this.dropdownView = new k({
                menu: b
            }).on("suggestionSelected", this._handleSelection).on("cursorMoved", this._clearHint).on("cursorMoved", this._setInputValueToSuggestionUnderCursor).on("cursorRemoved", this._setInputValueToQuery).on("cursorRemoved", this._updateHint).on("suggestionsRendered", this._updateHint).on("opened", this._updateHint).on("closed", this._clearHint).on("opened closed", this._propagateEvent), 
            this.inputView = new j({
                input: d,
                hint: f
            }).on("focused", this._openDropdown).on("blured", this._closeDropdown).on("blured", this._setInputValueToQuery).on("enterKeyed tabKeyed", this._handleSelection).on("queryChanged", this._clearHint).on("queryChanged", this._clearSuggestions).on("queryChanged", this._getSuggestions).on("whitespaceChanged", this._updateHint).on("queryChanged whitespaceChanged", this._openDropdown).on("queryChanged whitespaceChanged", this._setLanguageDirection).on("escKeyed", this._closeDropdown).on("escKeyed", this._setInputValueToQuery).on("tabKeyed upKeyed downKeyed", this._managePreventDefault).on("upKeyed downKeyed", this._moveDropdownCursor).on("upKeyed downKeyed", this._openDropdown).on("tabKeyed leftKeyed rightKeyed", this._autocomplete);
        }
        function e(b) {
            var c = a(g.wrapper), d = a(g.dropdown), e = a(b), f = a(g.hint);
            c = c.css(h.wrapper), d = d.css(h.dropdown), f.css(h.hint).css({
                backgroundAttachment: e.css("background-attachment"),
                backgroundClip: e.css("background-clip"),
                backgroundColor: e.css("background-color"),
                backgroundImage: e.css("background-image"),
                backgroundOrigin: e.css("background-origin"),
                backgroundPosition: e.css("background-position"),
                backgroundRepeat: e.css("background-repeat"),
                backgroundSize: e.css("background-size")
            }), e.data("ttAttrs", {
                dir: e.attr("dir"),
                autocomplete: e.attr("autocomplete"),
                spellcheck: e.attr("spellcheck"),
                style: e.attr("style")
            }), e.addClass("tt-query").attr({
                autocomplete: "off",
                spellcheck: !1
            }).css(h.query);
            try {
                !e.attr("dir") && e.attr("dir", "auto");
            } catch (i) {}
            return e.wrap(c).parent().prepend(f).append(d);
        }
        function f(a) {
            var b = a.find(".tt-query");
            c.each(b.data("ttAttrs"), function(a, d) {
                c.isUndefined(d) ? b.removeAttr(a) : b.attr(a, d);
            }), b.detach().removeData("ttAttrs").removeClass("tt-query").insertAfter(a), a.remove();
        }
        var g = {
            wrapper: '<span class="twitter-typeahead"></span>',
            hint: '<input class="tt-hint form-control" type="text" autocomplete="off" spellcheck="off" disabled>',
            dropdown: '<span class="tt-dropdown-menu"></span>'
        }, h = {
            wrapper: {
                position: "relative",
                display: "inline-block"
            },
            hint: {
                position: "absolute",
                top: "0",
                left: "0",
                borderColor: "transparent",
                boxShadow: "none"
            },
            query: {
                position: "relative",
                verticalAlign: "top",
                backgroundColor: "transparent"
            },
            dropdown: {
                position: "absolute",
                top: "100%",
                left: "0",
                zIndex: "100",
                display: "none"
            }
        };
        return c.isMsie() && c.mixin(h.query, {
            backgroundImage: "url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"
        }), c.isMsie() && c.isMsie() <= 7 && (c.mixin(h.wrapper, {
            display: "inline",
            zoom: "1"
        }), c.mixin(h.query, {
            marginTop: "-1px"
        })), c.mixin(b.prototype, d, {
            _managePreventDefault: function(a) {
                var b, c, d = a.data, e = !1;
                switch (a.type) {
                  case "tabKeyed":
                    b = this.inputView.getHintValue(), c = this.inputView.getInputValue(), e = b && b !== c;
                    break;

                  case "upKeyed":
                  case "downKeyed":
                    e = !d.shiftKey && !d.ctrlKey && !d.metaKey;
                }
                e && d.preventDefault();
            },
            _setLanguageDirection: function() {
                var a = this.inputView.getLanguageDirection();
                a !== this.dir && (this.dir = a, this.$node.css("direction", a), this.dropdownView.setLanguageDirection(a));
            },
            _updateHint: function() {
                var a, b, d, e, f, g = this.dropdownView.getFirstSuggestion(), h = g ? g.value : null, i = this.dropdownView.isVisible(), j = this.inputView.isOverflow();
                h && i && !j && (a = this.inputView.getInputValue(), b = a.replace(/\s{2,}/g, " ").replace(/^\s+/g, ""), 
                d = c.escapeRegExChars(b), e = new RegExp("^(?:" + d + ")(.*$)", "i"), f = e.exec(h), 
                this.inputView.setHintValue(a + (f ? f[1] : "")));
            },
            _clearHint: function() {
                this.inputView.setHintValue("");
            },
            _clearSuggestions: function() {
                this.dropdownView.clearSuggestions();
            },
            _setInputValueToQuery: function() {
                this.inputView.setInputValue(this.inputView.getQuery());
            },
            _setInputValueToSuggestionUnderCursor: function(a) {
                var b = a.data;
                this.inputView.setInputValue(b.value, !0);
            },
            _openDropdown: function() {
                this.dropdownView.open();
            },
            _closeDropdown: function(a) {
                this.dropdownView["blured" === a.type ? "closeUnlessMouseIsOverDropdown" : "close"]();
            },
            _moveDropdownCursor: function(a) {
                var b = a.data;
                b.shiftKey || b.ctrlKey || b.metaKey || this.dropdownView["upKeyed" === a.type ? "moveCursorUp" : "moveCursorDown"]();
            },
            _handleSelection: function(a) {
                var b = "suggestionSelected" === a.type, d = b ? a.data : this.dropdownView.getSuggestionUnderCursor();
                d && (this.inputView.setInputValue(d.value), b ? this.inputView.focus() : a.data.preventDefault(), 
                b && c.isMsie() ? c.defer(this.dropdownView.close) : this.dropdownView.close(), 
                this.eventBus.trigger("selected", d.datum, d.dataset));
            },
            _getSuggestions: function() {
                var a = this, b = this.inputView.getQuery();
                c.isBlankString(b) || c.each(this.datasets, function(c, d) {
                    d.getSuggestions(b, function(c) {
                        b === a.inputView.getQuery() && a.dropdownView.renderSuggestions(d, c);
                    });
                });
            },
            _autocomplete: function(a) {
                var b, c, d, e, f;
                ("rightKeyed" !== a.type && "leftKeyed" !== a.type || (b = this.inputView.isCursorAtEnd(), 
                c = "ltr" === this.inputView.getLanguageDirection() ? "leftKeyed" === a.type : "rightKeyed" === a.type, 
                b && !c)) && (d = this.inputView.getQuery(), e = this.inputView.getHintValue(), 
                "" !== e && d !== e && (f = this.dropdownView.getFirstSuggestion(), this.inputView.setInputValue(f.value), 
                this.eventBus.trigger("autocompleted", f.datum, f.dataset)));
            },
            _propagateEvent: function(a) {
                this.eventBus.trigger(a.type);
            },
            destroy: function() {
                this.inputView.destroy(), this.dropdownView.destroy(), f(this.$node), this.$node = null;
            },
            setQuery: function(a) {
                this.inputView.setQuery(a), this.inputView.setInputValue(a), this._clearHint(), 
                this._clearSuggestions(), this._getSuggestions();
            }
        }), b;
    }();
    !function() {
        var b, d = {}, f = "ttView";
        b = {
            initialize: function(b) {
                function g() {
                    var b, d = a(this), g = new e({
                        el: d
                    });
                    b = c.map(h, function(a) {
                        return a.initialize();
                    }), d.data(f, new l({
                        input: d,
                        eventBus: g = new e({
                            el: d
                        }),
                        datasets: h
                    })), a.when.apply(a, b).always(function() {
                        c.defer(function() {
                            g.trigger("initialized");
                        });
                    });
                }
                var h;
                return b = c.isArray(b) ? b : [ b ], 0 === b.length && a.error("no datasets provided"), 
                h = c.map(b, function(a) {
                    var b = d[a.name] ? d[a.name] : new i(a);
                    return a.name && (d[a.name] = b), b;
                }), this.each(g);
            },
            destroy: function() {
                function b() {
                    var b = a(this), c = b.data(f);
                    c && (c.destroy(), b.removeData(f));
                }
                return this.each(b);
            },
            setQuery: function(b) {
                function c() {
                    var c = a(this).data(f);
                    c && c.setQuery(b);
                }
                return this.each(c);
            }
        }, jQuery.fn.typeahead = function(a) {
            return b[a] ? b[a].apply(this, [].slice.call(arguments, 1)) : b.initialize.apply(this, arguments);
        };
    }();
}(window.jQuery), function(a, b, c, d) {
    function e(c, d) {
        this.w = a(b), this.el = a(c), this.options = a.extend({}, k, d), this.init();
    }
    var f = "ontouchstart" in b, g = function() {
        var a = c.createElement("div"), d = c.documentElement;
        if (!("pointerEvents" in a.style)) return !1;
        a.style.pointerEvents = "auto", a.style.pointerEvents = "x", d.appendChild(a);
        var e = b.getComputedStyle && "auto" === b.getComputedStyle(a, "").pointerEvents;
        return d.removeChild(a), !!e;
    }(), h = f ? "touchstart" : "mousedown", i = f ? "touchmove" : "mousemove", j = f ? "touchend" : "mouseup";
    eCancel = f ? "touchcancel" : "mouseup";
    var k = {
        listNodeName: "ol",
        itemNodeName: "li",
        rootClass: "dd",
        listClass: "dd-list",
        itemClass: "dd-item",
        dragClass: "dd-dragel",
        handleClass: "dd-handle",
        collapsedClass: "dd-collapsed",
        placeClass: "dd-placeholder",
        noDragClass: "dd-nodrag",
        emptyClass: "dd-empty",
        expandBtnHTML: '<button data-action="expand" type="button">Expand</button>',
        collapseBtnHTML: '<button data-action="collapse" type="button">Collapse</button>',
        group: 0,
        maxDepth: 5,
        threshold: 20
    };
    e.prototype = {
        init: function() {
            var c = this;
            c.reset(), c.el.data("nestable-group", this.options.group), c.placeEl = a('<div class="' + c.options.placeClass + '"/>'), 
            a.each(this.el.find(c.options.itemNodeName), function(b, d) {
                c.setParent(a(d));
            }), c.el.on("click", "button", function(b) {
                if (!c.dragEl && (f || 0 === b.button)) {
                    var d = a(b.currentTarget), e = d.data("action"), g = d.parent(c.options.itemNodeName);
                    "collapse" === e && c.collapseItem(g), "expand" === e && c.expandItem(g);
                }
            });
            var d = function(b) {
                var d = a(b.target);
                if (!d.hasClass(c.options.handleClass)) {
                    if (d.closest("." + c.options.noDragClass).length) return;
                    d = d.closest("." + c.options.handleClass);
                }
                !d.length || c.dragEl || !f && 0 !== b.button || f && 1 !== b.touches.length || (b.preventDefault(), 
                c.dragStart(f ? b.touches[0] : b));
            }, e = function(a) {
                c.dragEl && (a.preventDefault(), c.dragMove(f ? a.touches[0] : a));
            }, g = function(a) {
                c.dragEl && (a.preventDefault(), c.dragStop(f ? a.touches[0] : a));
            };
            f ? (c.el[0].addEventListener(h, d, !1), b.addEventListener(i, e, !1), b.addEventListener(j, g, !1), 
            b.addEventListener(eCancel, g, !1)) : (c.el.on(h, d), c.w.on(i, e), c.w.on(j, g));
        },
        serialize: function() {
            var b, c = 0, d = this;
            return step = function(b, c) {
                var e = [], f = b.children(d.options.itemNodeName);
                return f.each(function() {
                    var b = a(this), f = a.extend({}, b.data()), g = b.children(d.options.listNodeName);
                    g.length && (f.children = step(g, c + 1)), e.push(f);
                }), e;
            }, b = step(d.el.find(d.options.listNodeName).first(), c);
        },
        serialise: function() {
            return this.serialize();
        },
        reset: function() {
            this.mouse = {
                offsetX: 0,
                offsetY: 0,
                startX: 0,
                startY: 0,
                lastX: 0,
                lastY: 0,
                nowX: 0,
                nowY: 0,
                distX: 0,
                distY: 0,
                dirAx: 0,
                dirX: 0,
                dirY: 0,
                lastDirX: 0,
                lastDirY: 0,
                distAxX: 0,
                distAxY: 0
            }, this.moving = !1, this.dragEl = null, this.dragRootEl = null, this.dragDepth = 0, 
            this.hasNewRoot = !1, this.pointEl = null;
        },
        expandItem: function(a) {
            a.removeClass(this.options.collapsedClass), a.children('[data-action="expand"]').hide(), 
            a.children('[data-action="collapse"]').show(), a.children(this.options.listNodeName).show();
        },
        collapseItem: function(a) {
            var b = a.children(this.options.listNodeName);
            b.length && (a.addClass(this.options.collapsedClass), a.children('[data-action="collapse"]').hide(), 
            a.children('[data-action="expand"]').show(), a.children(this.options.listNodeName).hide());
        },
        expandAll: function() {
            var b = this;
            b.el.find(b.options.itemNodeName).each(function() {
                b.expandItem(a(this));
            });
        },
        collapseAll: function() {
            var b = this;
            b.el.find(b.options.itemNodeName).each(function() {
                b.collapseItem(a(this));
            });
        },
        setParent: function(b) {
            b.children(this.options.listNodeName).length && (b.prepend(a(this.options.expandBtnHTML)), 
            b.prepend(a(this.options.collapseBtnHTML))), b.children('[data-action="expand"]').hide();
        },
        unsetParent: function(a) {
            a.removeClass(this.options.collapsedClass), a.children("[data-action]").remove(), 
            a.children(this.options.listNodeName).remove();
        },
        dragStart: function(b) {
            var e = this.mouse, f = a(b.target), g = f.closest(this.options.itemNodeName);
            this.placeEl.css("height", g.height()), e.offsetX = b.offsetX !== d ? b.offsetX : b.pageX - f.offset().left, 
            e.offsetY = b.offsetY !== d ? b.offsetY : b.pageY - f.offset().top, e.startX = e.lastX = b.pageX, 
            e.startY = e.lastY = b.pageY, this.dragRootEl = this.el, this.dragEl = a(c.createElement(this.options.listNodeName)).addClass(this.options.listClass + " " + this.options.dragClass), 
            this.dragEl.css("width", g.width()), g.after(this.placeEl), g[0].parentNode.removeChild(g[0]), 
            g.appendTo(this.dragEl), a(c.body).append(this.dragEl), this.dragEl.css({
                left: b.pageX - e.offsetX,
                top: b.pageY - e.offsetY
            });
            var h, i, j = this.dragEl.find(this.options.itemNodeName);
            for (h = 0; h < j.length; h++) i = a(j[h]).parents(this.options.listNodeName).length, 
            i > this.dragDepth && (this.dragDepth = i);
        },
        dragStop: function() {
            var a = this.dragEl.children(this.options.itemNodeName).first();
            a[0].parentNode.removeChild(a[0]), this.placeEl.replaceWith(a), this.dragEl.remove(), 
            this.el.trigger("change"), this.hasNewRoot && this.dragRootEl.trigger("change"), 
            this.reset();
        },
        dragMove: function(d) {
            var e, f, h, i, j, k = this.options, l = this.mouse;
            this.dragEl.css({
                left: d.pageX - l.offsetX,
                top: d.pageY - l.offsetY
            }), l.lastX = l.nowX, l.lastY = l.nowY, l.nowX = d.pageX, l.nowY = d.pageY, l.distX = l.nowX - l.lastX, 
            l.distY = l.nowY - l.lastY, l.lastDirX = l.dirX, l.lastDirY = l.dirY, l.dirX = 0 === l.distX ? 0 : l.distX > 0 ? 1 : -1, 
            l.dirY = 0 === l.distY ? 0 : l.distY > 0 ? 1 : -1;
            var m = Math.abs(l.distX) > Math.abs(l.distY) ? 1 : 0;
            if (!l.moving) return l.dirAx = m, void (l.moving = !0);
            l.dirAx !== m ? (l.distAxX = 0, l.distAxY = 0) : (l.distAxX += Math.abs(l.distX), 
            0 !== l.dirX && l.dirX !== l.lastDirX && (l.distAxX = 0), l.distAxY += Math.abs(l.distY), 
            0 !== l.dirY && l.dirY !== l.lastDirY && (l.distAxY = 0)), l.dirAx = m, l.dirAx && l.distAxX >= k.threshold && (l.distAxX = 0, 
            h = this.placeEl.prev(k.itemNodeName), l.distX > 0 && h.length && !h.hasClass(k.collapsedClass) && (e = h.find(k.listNodeName).last(), 
            j = this.placeEl.parents(k.listNodeName).length, j + this.dragDepth <= k.maxDepth && (e.length ? (e = h.children(k.listNodeName).last(), 
            e.append(this.placeEl)) : (e = a("<" + k.listNodeName + "/>").addClass(k.listClass), 
            e.append(this.placeEl), h.append(e), this.setParent(h)))), l.distX < 0 && (i = this.placeEl.next(k.itemNodeName), 
            i.length || (f = this.placeEl.parent(), this.placeEl.closest(k.itemNodeName).after(this.placeEl), 
            f.children().length || this.unsetParent(f.parent()))));
            var n = !1;
            if (g || (this.dragEl[0].style.visibility = "hidden"), this.pointEl = a(c.elementFromPoint(d.pageX - c.body.scrollLeft, d.pageY - (b.pageYOffset || c.documentElement.scrollTop))), 
            g || (this.dragEl[0].style.visibility = "visible"), this.pointEl.hasClass(k.handleClass) && (this.pointEl = this.pointEl.parent(k.itemNodeName)), 
            this.pointEl.hasClass(k.emptyClass)) n = !0; else if (!this.pointEl.length || !this.pointEl.hasClass(k.itemClass)) return;
            var o = this.pointEl.closest("." + k.rootClass), p = this.dragRootEl.data("nestable-id") !== o.data("nestable-id");
            if (!l.dirAx || p || n) {
                if (p && k.group !== o.data("nestable-group")) return;
                if (j = this.dragDepth - 1 + this.pointEl.parents(k.listNodeName).length, j > k.maxDepth) return;
                var q = d.pageY < this.pointEl.offset().top + this.pointEl.height() / 2;
                f = this.placeEl.parent(), n ? (e = a(c.createElement(k.listNodeName)).addClass(k.listClass), 
                e.append(this.placeEl), this.pointEl.replaceWith(e)) : q ? this.pointEl.before(this.placeEl) : this.pointEl.after(this.placeEl), 
                f.children().length || this.unsetParent(f.parent()), this.dragRootEl.find(k.itemNodeName).length || this.dragRootEl.append('<div class="' + k.emptyClass + '"/>'), 
                p && (this.dragRootEl = o, this.hasNewRoot = this.el[0] !== this.dragRootEl[0]);
            }
        }
    }, a.fn.nestable = function(b) {
        var c = this, d = this;
        return c.each(function() {
            var c = a(this).data("nestable");
            c ? "string" == typeof b && "function" == typeof c[b] && (d = c[b]()) : (a(this).data("nestable", new e(this, b)), 
            a(this).data("nestable-id", new Date().getTime()));
        }), d || c;
    };
}(window.jQuery || window.Zepto, window, document), function(a) {
    function b() {
        return {
            empty: !1,
            unusedTokens: [],
            unusedInput: [],
            overflow: -2,
            charsLeftOver: 0,
            nullInput: !1,
            invalidMonth: null,
            invalidFormat: !1,
            userInvalidated: !1,
            iso: !1
        };
    }
    function c(a, b) {
        return function(c) {
            return k(a.call(this, c), b);
        };
    }
    function d(a, b) {
        return function(c) {
            return this.lang().ordinal(a.call(this, c), b);
        };
    }
    function e() {}
    function f(a) {
        w(a), h(this, a);
    }
    function g(a) {
        var b = q(a), c = b.year || 0, d = b.month || 0, e = b.week || 0, f = b.day || 0, g = b.hour || 0, h = b.minute || 0, i = b.second || 0, j = b.millisecond || 0;
        this._milliseconds = +j + 1e3 * i + 6e4 * h + 36e5 * g, this._days = +f + 7 * e, 
        this._months = +d + 12 * c, this._data = {}, this._bubble();
    }
    function h(a, b) {
        for (var c in b) b.hasOwnProperty(c) && (a[c] = b[c]);
        return b.hasOwnProperty("toString") && (a.toString = b.toString), b.hasOwnProperty("valueOf") && (a.valueOf = b.valueOf), 
        a;
    }
    function i(a) {
        var b, c = {};
        for (b in a) a.hasOwnProperty(b) && qb.hasOwnProperty(b) && (c[b] = a[b]);
        return c;
    }
    function j(a) {
        return 0 > a ? Math.ceil(a) : Math.floor(a);
    }
    function k(a, b, c) {
        for (var d = "" + Math.abs(a), e = a >= 0; d.length < b; ) d = "0" + d;
        return (e ? c ? "+" : "" : "-") + d;
    }
    function l(a, b, c, d) {
        var e, f, g = b._milliseconds, h = b._days, i = b._months;
        g && a._d.setTime(+a._d + g * c), (h || i) && (e = a.minute(), f = a.hour()), h && a.date(a.date() + h * c), 
        i && a.month(a.month() + i * c), g && !d && db.updateOffset(a), (h || i) && (a.minute(e), 
        a.hour(f));
    }
    function m(a) {
        return "[object Array]" === Object.prototype.toString.call(a);
    }
    function n(a) {
        return "[object Date]" === Object.prototype.toString.call(a) || a instanceof Date;
    }
    function o(a, b, c) {
        var d, e = Math.min(a.length, b.length), f = Math.abs(a.length - b.length), g = 0;
        for (d = 0; e > d; d++) (c && a[d] !== b[d] || !c && s(a[d]) !== s(b[d])) && g++;
        return g + f;
    }
    function p(a) {
        if (a) {
            var b = a.toLowerCase().replace(/(.)s$/, "$1");
            a = Tb[a] || Ub[b] || b;
        }
        return a;
    }
    function q(a) {
        var b, c, d = {};
        for (c in a) a.hasOwnProperty(c) && (b = p(c), b && (d[b] = a[c]));
        return d;
    }
    function r(b) {
        var c, d;
        if (0 === b.indexOf("week")) c = 7, d = "day"; else {
            if (0 !== b.indexOf("month")) return;
            c = 12, d = "month";
        }
        db[b] = function(e, f) {
            var g, h, i = db.fn._lang[b], j = [];
            if ("number" == typeof e && (f = e, e = a), h = function(a) {
                var b = db().utc().set(d, a);
                return i.call(db.fn._lang, b, e || "");
            }, null != f) return h(f);
            for (g = 0; c > g; g++) j.push(h(g));
            return j;
        };
    }
    function s(a) {
        var b = +a, c = 0;
        return 0 !== b && isFinite(b) && (c = b >= 0 ? Math.floor(b) : Math.ceil(b)), c;
    }
    function t(a, b) {
        return new Date(Date.UTC(a, b + 1, 0)).getUTCDate();
    }
    function u(a) {
        return v(a) ? 366 : 365;
    }
    function v(a) {
        return a % 4 === 0 && a % 100 !== 0 || a % 400 === 0;
    }
    function w(a) {
        var b;
        a._a && -2 === a._pf.overflow && (b = a._a[jb] < 0 || a._a[jb] > 11 ? jb : a._a[kb] < 1 || a._a[kb] > t(a._a[ib], a._a[jb]) ? kb : a._a[lb] < 0 || a._a[lb] > 23 ? lb : a._a[mb] < 0 || a._a[mb] > 59 ? mb : a._a[nb] < 0 || a._a[nb] > 59 ? nb : a._a[ob] < 0 || a._a[ob] > 999 ? ob : -1, 
        a._pf._overflowDayOfYear && (ib > b || b > kb) && (b = kb), a._pf.overflow = b);
    }
    function x(a) {
        return null == a._isValid && (a._isValid = !isNaN(a._d.getTime()) && a._pf.overflow < 0 && !a._pf.empty && !a._pf.invalidMonth && !a._pf.nullInput && !a._pf.invalidFormat && !a._pf.userInvalidated, 
        a._strict && (a._isValid = a._isValid && 0 === a._pf.charsLeftOver && 0 === a._pf.unusedTokens.length)), 
        a._isValid;
    }
    function y(a) {
        return a ? a.toLowerCase().replace("_", "-") : a;
    }
    function z(a, b) {
        return b._isUTC ? db(a).zone(b._offset || 0) : db(a).local();
    }
    function A(a, b) {
        return b.abbr = a, pb[a] || (pb[a] = new e()), pb[a].set(b), pb[a];
    }
    function B(a) {
        delete pb[a];
    }
    function C(a) {
        var b, c, d, e, f = 0, g = function(a) {
            if (!pb[a] && rb) try {
                require("./lang/" + a);
            } catch (b) {}
            return pb[a];
        };
        if (!a) return db.fn._lang;
        if (!m(a)) {
            if (c = g(a)) return c;
            a = [ a ];
        }
        for (;f < a.length; ) {
            for (e = y(a[f]).split("-"), b = e.length, d = y(a[f + 1]), d = d ? d.split("-") : null; b > 0; ) {
                if (c = g(e.slice(0, b).join("-"))) return c;
                if (d && d.length >= b && o(e, d, !0) >= b - 1) break;
                b--;
            }
            f++;
        }
        return db.fn._lang;
    }
    function D(a) {
        return a.match(/\[[\s\S]/) ? a.replace(/^\[|\]$/g, "") : a.replace(/\\/g, "");
    }
    function E(a) {
        var b, c, d = a.match(vb);
        for (b = 0, c = d.length; c > b; b++) d[b] = Yb[d[b]] ? Yb[d[b]] : D(d[b]);
        return function(e) {
            var f = "";
            for (b = 0; c > b; b++) f += d[b] instanceof Function ? d[b].call(e, a) : d[b];
            return f;
        };
    }
    function F(a, b) {
        return a.isValid() ? (b = G(b, a.lang()), Vb[b] || (Vb[b] = E(b)), Vb[b](a)) : a.lang().invalidDate();
    }
    function G(a, b) {
        function c(a) {
            return b.longDateFormat(a) || a;
        }
        var d = 5;
        for (wb.lastIndex = 0; d >= 0 && wb.test(a); ) a = a.replace(wb, c), wb.lastIndex = 0, 
        d -= 1;
        return a;
    }
    function H(a, b) {
        var c, d = b._strict;
        switch (a) {
          case "DDDD":
            return Ib;

          case "YYYY":
          case "GGGG":
          case "gggg":
            return d ? Jb : zb;

          case "Y":
          case "G":
          case "g":
            return Lb;

          case "YYYYYY":
          case "YYYYY":
          case "GGGGG":
          case "ggggg":
            return d ? Kb : Ab;

          case "S":
            if (d) return Gb;

          case "SS":
            if (d) return Hb;

          case "SSS":
            if (d) return Ib;

          case "DDD":
            return yb;

          case "MMM":
          case "MMMM":
          case "dd":
          case "ddd":
          case "dddd":
            return Cb;

          case "a":
          case "A":
            return C(b._l)._meridiemParse;

          case "X":
            return Fb;

          case "Z":
          case "ZZ":
            return Db;

          case "T":
            return Eb;

          case "SSSS":
            return Bb;

          case "MM":
          case "DD":
          case "YY":
          case "GG":
          case "gg":
          case "HH":
          case "hh":
          case "mm":
          case "ss":
          case "ww":
          case "WW":
            return d ? Hb : xb;

          case "M":
          case "D":
          case "d":
          case "H":
          case "h":
          case "m":
          case "s":
          case "w":
          case "W":
          case "e":
          case "E":
            return xb;

          default:
            return c = new RegExp(P(O(a.replace("\\", "")), "i"));
        }
    }
    function I(a) {
        a = a || "";
        var b = a.match(Db) || [], c = b[b.length - 1] || [], d = (c + "").match(Qb) || [ "-", 0, 0 ], e = +(60 * d[1]) + s(d[2]);
        return "+" === d[0] ? -e : e;
    }
    function J(a, b, c) {
        var d, e = c._a;
        switch (a) {
          case "M":
          case "MM":
            null != b && (e[jb] = s(b) - 1);
            break;

          case "MMM":
          case "MMMM":
            d = C(c._l).monthsParse(b), null != d ? e[jb] = d : c._pf.invalidMonth = b;
            break;

          case "D":
          case "DD":
            null != b && (e[kb] = s(b));
            break;

          case "DDD":
          case "DDDD":
            null != b && (c._dayOfYear = s(b));
            break;

          case "YY":
            e[ib] = s(b) + (s(b) > 68 ? 1900 : 2e3);
            break;

          case "YYYY":
          case "YYYYY":
          case "YYYYYY":
            e[ib] = s(b);
            break;

          case "a":
          case "A":
            c._isPm = C(c._l).isPM(b);
            break;

          case "H":
          case "HH":
          case "h":
          case "hh":
            e[lb] = s(b);
            break;

          case "m":
          case "mm":
            e[mb] = s(b);
            break;

          case "s":
          case "ss":
            e[nb] = s(b);
            break;

          case "S":
          case "SS":
          case "SSS":
          case "SSSS":
            e[ob] = s(1e3 * ("0." + b));
            break;

          case "X":
            c._d = new Date(1e3 * parseFloat(b));
            break;

          case "Z":
          case "ZZ":
            c._useUTC = !0, c._tzm = I(b);
            break;

          case "w":
          case "ww":
          case "W":
          case "WW":
          case "d":
          case "dd":
          case "ddd":
          case "dddd":
          case "e":
          case "E":
            a = a.substr(0, 1);

          case "gg":
          case "gggg":
          case "GG":
          case "GGGG":
          case "GGGGG":
            a = a.substr(0, 2), b && (c._w = c._w || {}, c._w[a] = b);
        }
    }
    function K(a) {
        var b, c, d, e, f, g, h, i, j, k, l = [];
        if (!a._d) {
            for (d = M(a), a._w && null == a._a[kb] && null == a._a[jb] && (f = function(b) {
                var c = parseInt(b, 10);
                return b ? b.length < 3 ? c > 68 ? 1900 + c : 2e3 + c : c : null == a._a[ib] ? db().weekYear() : a._a[ib];
            }, g = a._w, null != g.GG || null != g.W || null != g.E ? h = Z(f(g.GG), g.W || 1, g.E, 4, 1) : (i = C(a._l), 
            j = null != g.d ? V(g.d, i) : null != g.e ? parseInt(g.e, 10) + i._week.dow : 0, 
            k = parseInt(g.w, 10) || 1, null != g.d && j < i._week.dow && k++, h = Z(f(g.gg), k, j, i._week.doy, i._week.dow)), 
            a._a[ib] = h.year, a._dayOfYear = h.dayOfYear), a._dayOfYear && (e = null == a._a[ib] ? d[ib] : a._a[ib], 
            a._dayOfYear > u(e) && (a._pf._overflowDayOfYear = !0), c = U(e, 0, a._dayOfYear), 
            a._a[jb] = c.getUTCMonth(), a._a[kb] = c.getUTCDate()), b = 0; 3 > b && null == a._a[b]; ++b) a._a[b] = l[b] = d[b];
            for (;7 > b; b++) a._a[b] = l[b] = null == a._a[b] ? 2 === b ? 1 : 0 : a._a[b];
            l[lb] += s((a._tzm || 0) / 60), l[mb] += s((a._tzm || 0) % 60), a._d = (a._useUTC ? U : T).apply(null, l);
        }
    }
    function L(a) {
        var b;
        a._d || (b = q(a._i), a._a = [ b.year, b.month, b.day, b.hour, b.minute, b.second, b.millisecond ], 
        K(a));
    }
    function M(a) {
        var b = new Date();
        return a._useUTC ? [ b.getUTCFullYear(), b.getUTCMonth(), b.getUTCDate() ] : [ b.getFullYear(), b.getMonth(), b.getDate() ];
    }
    function N(a) {
        a._a = [], a._pf.empty = !0;
        var b, c, d, e, f, g = C(a._l), h = "" + a._i, i = h.length, j = 0;
        for (d = G(a._f, g).match(vb) || [], b = 0; b < d.length; b++) e = d[b], c = (h.match(H(e, a)) || [])[0], 
        c && (f = h.substr(0, h.indexOf(c)), f.length > 0 && a._pf.unusedInput.push(f), 
        h = h.slice(h.indexOf(c) + c.length), j += c.length), Yb[e] ? (c ? a._pf.empty = !1 : a._pf.unusedTokens.push(e), 
        J(e, c, a)) : a._strict && !c && a._pf.unusedTokens.push(e);
        a._pf.charsLeftOver = i - j, h.length > 0 && a._pf.unusedInput.push(h), a._isPm && a._a[lb] < 12 && (a._a[lb] += 12), 
        a._isPm === !1 && 12 === a._a[lb] && (a._a[lb] = 0), K(a), w(a);
    }
    function O(a) {
        return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function(a, b, c, d, e) {
            return b || c || d || e;
        });
    }
    function P(a) {
        return a.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&");
    }
    function Q(a) {
        var c, d, e, f, g;
        if (0 === a._f.length) return a._pf.invalidFormat = !0, void (a._d = new Date(0/0));
        for (f = 0; f < a._f.length; f++) g = 0, c = h({}, a), c._pf = b(), c._f = a._f[f], 
        N(c), x(c) && (g += c._pf.charsLeftOver, g += 10 * c._pf.unusedTokens.length, c._pf.score = g, 
        (null == e || e > g) && (e = g, d = c));
        h(a, d || c);
    }
    function R(a) {
        var b, c, d = a._i, e = Mb.exec(d);
        if (e) {
            for (a._pf.iso = !0, b = 0, c = Ob.length; c > b; b++) if (Ob[b][1].exec(d)) {
                a._f = Ob[b][0] + (e[6] || " ");
                break;
            }
            for (b = 0, c = Pb.length; c > b; b++) if (Pb[b][1].exec(d)) {
                a._f += Pb[b][0];
                break;
            }
            d.match(Db) && (a._f += "Z"), N(a);
        } else a._d = new Date(d);
    }
    function S(b) {
        var c = b._i, d = sb.exec(c);
        c === a ? b._d = new Date() : d ? b._d = new Date(+d[1]) : "string" == typeof c ? R(b) : m(c) ? (b._a = c.slice(0), 
        K(b)) : n(c) ? b._d = new Date(+c) : "object" == typeof c ? L(b) : b._d = new Date(c);
    }
    function T(a, b, c, d, e, f, g) {
        var h = new Date(a, b, c, d, e, f, g);
        return 1970 > a && h.setFullYear(a), h;
    }
    function U(a) {
        var b = new Date(Date.UTC.apply(null, arguments));
        return 1970 > a && b.setUTCFullYear(a), b;
    }
    function V(a, b) {
        if ("string" == typeof a) if (isNaN(a)) {
            if (a = b.weekdaysParse(a), "number" != typeof a) return null;
        } else a = parseInt(a, 10);
        return a;
    }
    function W(a, b, c, d, e) {
        return e.relativeTime(b || 1, !!c, a, d);
    }
    function X(a, b, c) {
        var d = hb(Math.abs(a) / 1e3), e = hb(d / 60), f = hb(e / 60), g = hb(f / 24), h = hb(g / 365), i = 45 > d && [ "s", d ] || 1 === e && [ "m" ] || 45 > e && [ "mm", e ] || 1 === f && [ "h" ] || 22 > f && [ "hh", f ] || 1 === g && [ "d" ] || 25 >= g && [ "dd", g ] || 45 >= g && [ "M" ] || 345 > g && [ "MM", hb(g / 30) ] || 1 === h && [ "y" ] || [ "yy", h ];
        return i[2] = b, i[3] = a > 0, i[4] = c, W.apply({}, i);
    }
    function Y(a, b, c) {
        var d, e = c - b, f = c - a.day();
        return f > e && (f -= 7), e - 7 > f && (f += 7), d = db(a).add("d", f), {
            week: Math.ceil(d.dayOfYear() / 7),
            year: d.year()
        };
    }
    function Z(a, b, c, d, e) {
        var f, g, h = U(a, 0, 1).getUTCDay();
        return c = null != c ? c : e, f = e - h + (h > d ? 7 : 0) - (e > h ? 7 : 0), g = 7 * (b - 1) + (c - e) + f + 1, 
        {
            year: g > 0 ? a : a - 1,
            dayOfYear: g > 0 ? g : u(a - 1) + g
        };
    }
    function $(a) {
        var b = a._i, c = a._f;
        return null === b ? db.invalid({
            nullInput: !0
        }) : ("string" == typeof b && (a._i = b = C().preparse(b)), db.isMoment(b) ? (a = i(b), 
        a._d = new Date(+b._d)) : c ? m(c) ? Q(a) : N(a) : S(a), new f(a));
    }
    function _(a, b) {
        db.fn[a] = db.fn[a + "s"] = function(a) {
            var c = this._isUTC ? "UTC" : "";
            return null != a ? (this._d["set" + c + b](a), db.updateOffset(this), this) : this._d["get" + c + b]();
        };
    }
    function ab(a) {
        db.duration.fn[a] = function() {
            return this._data[a];
        };
    }
    function bb(a, b) {
        db.duration.fn["as" + a] = function() {
            return +this / b;
        };
    }
    function cb(a) {
        var b = !1, c = db;
        "undefined" == typeof ender && (a ? (gb.moment = function() {
            return !b && console && console.warn && (b = !0, console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")), 
            c.apply(null, arguments);
        }, h(gb.moment, c)) : gb.moment = db);
    }
    for (var db, eb, fb = "2.5.1", gb = this, hb = Math.round, ib = 0, jb = 1, kb = 2, lb = 3, mb = 4, nb = 5, ob = 6, pb = {}, qb = {
        _isAMomentObject: null,
        _i: null,
        _f: null,
        _l: null,
        _strict: null,
        _isUTC: null,
        _offset: null,
        _pf: null,
        _lang: null
    }, rb = "undefined" != typeof module && module.exports && "undefined" != typeof require, sb = /^\/?Date\((\-?\d+)/i, tb = /(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/, ub = /^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/, vb = /(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g, wb = /(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g, xb = /\d\d?/, yb = /\d{1,3}/, zb = /\d{1,4}/, Ab = /[+\-]?\d{1,6}/, Bb = /\d+/, Cb = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i, Db = /Z|[\+\-]\d\d:?\d\d/gi, Eb = /T/i, Fb = /[\+\-]?\d+(\.\d{1,3})?/, Gb = /\d/, Hb = /\d\d/, Ib = /\d{3}/, Jb = /\d{4}/, Kb = /[+-]?\d{6}/, Lb = /[+-]?\d+/, Mb = /^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/, Nb = "YYYY-MM-DDTHH:mm:ssZ", Ob = [ [ "YYYYYY-MM-DD", /[+-]\d{6}-\d{2}-\d{2}/ ], [ "YYYY-MM-DD", /\d{4}-\d{2}-\d{2}/ ], [ "GGGG-[W]WW-E", /\d{4}-W\d{2}-\d/ ], [ "GGGG-[W]WW", /\d{4}-W\d{2}/ ], [ "YYYY-DDD", /\d{4}-\d{3}/ ] ], Pb = [ [ "HH:mm:ss.SSSS", /(T| )\d\d:\d\d:\d\d\.\d{1,3}/ ], [ "HH:mm:ss", /(T| )\d\d:\d\d:\d\d/ ], [ "HH:mm", /(T| )\d\d:\d\d/ ], [ "HH", /(T| )\d\d/ ] ], Qb = /([\+\-]|\d\d)/gi, Rb = "Date|Hours|Minutes|Seconds|Milliseconds".split("|"), Sb = {
        Milliseconds: 1,
        Seconds: 1e3,
        Minutes: 6e4,
        Hours: 36e5,
        Days: 864e5,
        Months: 2592e6,
        Years: 31536e6
    }, Tb = {
        ms: "millisecond",
        s: "second",
        m: "minute",
        h: "hour",
        d: "day",
        D: "date",
        w: "week",
        W: "isoWeek",
        M: "month",
        y: "year",
        DDD: "dayOfYear",
        e: "weekday",
        E: "isoWeekday",
        gg: "weekYear",
        GG: "isoWeekYear"
    }, Ub = {
        dayofyear: "dayOfYear",
        isoweekday: "isoWeekday",
        isoweek: "isoWeek",
        weekyear: "weekYear",
        isoweekyear: "isoWeekYear"
    }, Vb = {}, Wb = "DDD w W M D d".split(" "), Xb = "M D H h m s w W".split(" "), Yb = {
        M: function() {
            return this.month() + 1;
        },
        MMM: function(a) {
            return this.lang().monthsShort(this, a);
        },
        MMMM: function(a) {
            return this.lang().months(this, a);
        },
        D: function() {
            return this.date();
        },
        DDD: function() {
            return this.dayOfYear();
        },
        d: function() {
            return this.day();
        },
        dd: function(a) {
            return this.lang().weekdaysMin(this, a);
        },
        ddd: function(a) {
            return this.lang().weekdaysShort(this, a);
        },
        dddd: function(a) {
            return this.lang().weekdays(this, a);
        },
        w: function() {
            return this.week();
        },
        W: function() {
            return this.isoWeek();
        },
        YY: function() {
            return k(this.year() % 100, 2);
        },
        YYYY: function() {
            return k(this.year(), 4);
        },
        YYYYY: function() {
            return k(this.year(), 5);
        },
        YYYYYY: function() {
            var a = this.year(), b = a >= 0 ? "+" : "-";
            return b + k(Math.abs(a), 6);
        },
        gg: function() {
            return k(this.weekYear() % 100, 2);
        },
        gggg: function() {
            return k(this.weekYear(), 4);
        },
        ggggg: function() {
            return k(this.weekYear(), 5);
        },
        GG: function() {
            return k(this.isoWeekYear() % 100, 2);
        },
        GGGG: function() {
            return k(this.isoWeekYear(), 4);
        },
        GGGGG: function() {
            return k(this.isoWeekYear(), 5);
        },
        e: function() {
            return this.weekday();
        },
        E: function() {
            return this.isoWeekday();
        },
        a: function() {
            return this.lang().meridiem(this.hours(), this.minutes(), !0);
        },
        A: function() {
            return this.lang().meridiem(this.hours(), this.minutes(), !1);
        },
        H: function() {
            return this.hours();
        },
        h: function() {
            return this.hours() % 12 || 12;
        },
        m: function() {
            return this.minutes();
        },
        s: function() {
            return this.seconds();
        },
        S: function() {
            return s(this.milliseconds() / 100);
        },
        SS: function() {
            return k(s(this.milliseconds() / 10), 2);
        },
        SSS: function() {
            return k(this.milliseconds(), 3);
        },
        SSSS: function() {
            return k(this.milliseconds(), 3);
        },
        Z: function() {
            var a = -this.zone(), b = "+";
            return 0 > a && (a = -a, b = "-"), b + k(s(a / 60), 2) + ":" + k(s(a) % 60, 2);
        },
        ZZ: function() {
            var a = -this.zone(), b = "+";
            return 0 > a && (a = -a, b = "-"), b + k(s(a / 60), 2) + k(s(a) % 60, 2);
        },
        z: function() {
            return this.zoneAbbr();
        },
        zz: function() {
            return this.zoneName();
        },
        X: function() {
            return this.unix();
        },
        Q: function() {
            return this.quarter();
        }
    }, Zb = [ "months", "monthsShort", "weekdays", "weekdaysShort", "weekdaysMin" ]; Wb.length; ) eb = Wb.pop(), 
    Yb[eb + "o"] = d(Yb[eb], eb);
    for (;Xb.length; ) eb = Xb.pop(), Yb[eb + eb] = c(Yb[eb], 2);
    for (Yb.DDDD = c(Yb.DDD, 3), h(e.prototype, {
        set: function(a) {
            var b, c;
            for (c in a) b = a[c], "function" == typeof b ? this[c] = b : this["_" + c] = b;
        },
        _months: "January_February_March_April_May_June_July_August_September_October_November_December".split("_"),
        months: function(a) {
            return this._months[a.month()];
        },
        _monthsShort: "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),
        monthsShort: function(a) {
            return this._monthsShort[a.month()];
        },
        monthsParse: function(a) {
            var b, c, d;
            for (this._monthsParse || (this._monthsParse = []), b = 0; 12 > b; b++) if (this._monthsParse[b] || (c = db.utc([ 2e3, b ]), 
            d = "^" + this.months(c, "") + "|^" + this.monthsShort(c, ""), this._monthsParse[b] = new RegExp(d.replace(".", ""), "i")), 
            this._monthsParse[b].test(a)) return b;
        },
        _weekdays: "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),
        weekdays: function(a) {
            return this._weekdays[a.day()];
        },
        _weekdaysShort: "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),
        weekdaysShort: function(a) {
            return this._weekdaysShort[a.day()];
        },
        _weekdaysMin: "Su_Mo_Tu_We_Th_Fr_Sa".split("_"),
        weekdaysMin: function(a) {
            return this._weekdaysMin[a.day()];
        },
        weekdaysParse: function(a) {
            var b, c, d;
            for (this._weekdaysParse || (this._weekdaysParse = []), b = 0; 7 > b; b++) if (this._weekdaysParse[b] || (c = db([ 2e3, 1 ]).day(b), 
            d = "^" + this.weekdays(c, "") + "|^" + this.weekdaysShort(c, "") + "|^" + this.weekdaysMin(c, ""), 
            this._weekdaysParse[b] = new RegExp(d.replace(".", ""), "i")), this._weekdaysParse[b].test(a)) return b;
        },
        _longDateFormat: {
            LT: "h:mm A",
            L: "MM/DD/YYYY",
            LL: "MMMM D YYYY",
            LLL: "MMMM D YYYY LT",
            LLLL: "dddd, MMMM D YYYY LT"
        },
        longDateFormat: function(a) {
            var b = this._longDateFormat[a];
            return !b && this._longDateFormat[a.toUpperCase()] && (b = this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g, function(a) {
                return a.slice(1);
            }), this._longDateFormat[a] = b), b;
        },
        isPM: function(a) {
            return "p" === (a + "").toLowerCase().charAt(0);
        },
        _meridiemParse: /[ap]\.?m?\.?/i,
        meridiem: function(a, b, c) {
            return a > 11 ? c ? "pm" : "PM" : c ? "am" : "AM";
        },
        _calendar: {
            sameDay: "[Today at] LT",
            nextDay: "[Tomorrow at] LT",
            nextWeek: "dddd [at] LT",
            lastDay: "[Yesterday at] LT",
            lastWeek: "[Last] dddd [at] LT",
            sameElse: "L"
        },
        calendar: function(a, b) {
            var c = this._calendar[a];
            return "function" == typeof c ? c.apply(b) : c;
        },
        _relativeTime: {
            future: "in %s",
            past: "%s ago",
            s: "a few seconds",
            m: "a minute",
            mm: "%d minutes",
            h: "an hour",
            hh: "%d hours",
            d: "a day",
            dd: "%d days",
            M: "a month",
            MM: "%d months",
            y: "a year",
            yy: "%d years"
        },
        relativeTime: function(a, b, c, d) {
            var e = this._relativeTime[c];
            return "function" == typeof e ? e(a, b, c, d) : e.replace(/%d/i, a);
        },
        pastFuture: function(a, b) {
            var c = this._relativeTime[a > 0 ? "future" : "past"];
            return "function" == typeof c ? c(b) : c.replace(/%s/i, b);
        },
        ordinal: function(a) {
            return this._ordinal.replace("%d", a);
        },
        _ordinal: "%d",
        preparse: function(a) {
            return a;
        },
        postformat: function(a) {
            return a;
        },
        week: function(a) {
            return Y(a, this._week.dow, this._week.doy).week;
        },
        _week: {
            dow: 0,
            doy: 6
        },
        _invalidDate: "Invalid date",
        invalidDate: function() {
            return this._invalidDate;
        }
    }), db = function(c, d, e, f) {
        var g;
        return "boolean" == typeof e && (f = e, e = a), g = {}, g._isAMomentObject = !0, 
        g._i = c, g._f = d, g._l = e, g._strict = f, g._isUTC = !1, g._pf = b(), $(g);
    }, db.utc = function(c, d, e, f) {
        var g;
        return "boolean" == typeof e && (f = e, e = a), g = {}, g._isAMomentObject = !0, 
        g._useUTC = !0, g._isUTC = !0, g._l = e, g._i = c, g._f = d, g._strict = f, g._pf = b(), 
        $(g).utc();
    }, db.unix = function(a) {
        return db(1e3 * a);
    }, db.duration = function(a, b) {
        var c, d, e, f = a, h = null;
        return db.isDuration(a) ? f = {
            ms: a._milliseconds,
            d: a._days,
            M: a._months
        } : "number" == typeof a ? (f = {}, b ? f[b] = a : f.milliseconds = a) : (h = tb.exec(a)) ? (c = "-" === h[1] ? -1 : 1, 
        f = {
            y: 0,
            d: s(h[kb]) * c,
            h: s(h[lb]) * c,
            m: s(h[mb]) * c,
            s: s(h[nb]) * c,
            ms: s(h[ob]) * c
        }) : (h = ub.exec(a)) && (c = "-" === h[1] ? -1 : 1, e = function(a) {
            var b = a && parseFloat(a.replace(",", "."));
            return (isNaN(b) ? 0 : b) * c;
        }, f = {
            y: e(h[2]),
            M: e(h[3]),
            d: e(h[4]),
            h: e(h[5]),
            m: e(h[6]),
            s: e(h[7]),
            w: e(h[8])
        }), d = new g(f), db.isDuration(a) && a.hasOwnProperty("_lang") && (d._lang = a._lang), 
        d;
    }, db.version = fb, db.defaultFormat = Nb, db.updateOffset = function() {}, db.lang = function(a, b) {
        var c;
        return a ? (b ? A(y(a), b) : null === b ? (B(a), a = "en") : pb[a] || C(a), c = db.duration.fn._lang = db.fn._lang = C(a), 
        c._abbr) : db.fn._lang._abbr;
    }, db.langData = function(a) {
        return a && a._lang && a._lang._abbr && (a = a._lang._abbr), C(a);
    }, db.isMoment = function(a) {
        return a instanceof f || null != a && a.hasOwnProperty("_isAMomentObject");
    }, db.isDuration = function(a) {
        return a instanceof g;
    }, eb = Zb.length - 1; eb >= 0; --eb) r(Zb[eb]);
    for (db.normalizeUnits = function(a) {
        return p(a);
    }, db.invalid = function(a) {
        var b = db.utc(0/0);
        return null != a ? h(b._pf, a) : b._pf.userInvalidated = !0, b;
    }, db.parseZone = function() {
        return db.apply(null, arguments).parseZone();
    }, h(db.fn = f.prototype, {
        clone: function() {
            return db(this);
        },
        valueOf: function() {
            return +this._d + 6e4 * (this._offset || 0);
        },
        unix: function() {
            return Math.floor(+this / 1e3);
        },
        toString: function() {
            return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ");
        },
        toDate: function() {
            return this._offset ? new Date(+this) : this._d;
        },
        toISOString: function() {
            var a = db(this).utc();
            return 0 < a.year() && a.year() <= 9999 ? F(a, "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]") : F(a, "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]");
        },
        toArray: function() {
            var a = this;
            return [ a.year(), a.month(), a.date(), a.hours(), a.minutes(), a.seconds(), a.milliseconds() ];
        },
        isValid: function() {
            return x(this);
        },
        isDSTShifted: function() {
            return this._a ? this.isValid() && o(this._a, (this._isUTC ? db.utc(this._a) : db(this._a)).toArray()) > 0 : !1;
        },
        parsingFlags: function() {
            return h({}, this._pf);
        },
        invalidAt: function() {
            return this._pf.overflow;
        },
        utc: function() {
            return this.zone(0);
        },
        local: function() {
            return this.zone(0), this._isUTC = !1, this;
        },
        format: function(a) {
            var b = F(this, a || db.defaultFormat);
            return this.lang().postformat(b);
        },
        add: function(a, b) {
            var c;
            return c = "string" == typeof a ? db.duration(+b, a) : db.duration(a, b), l(this, c, 1), 
            this;
        },
        subtract: function(a, b) {
            var c;
            return c = "string" == typeof a ? db.duration(+b, a) : db.duration(a, b), l(this, c, -1), 
            this;
        },
        diff: function(a, b, c) {
            var d, e, f = z(a, this), g = 6e4 * (this.zone() - f.zone());
            return b = p(b), "year" === b || "month" === b ? (d = 432e5 * (this.daysInMonth() + f.daysInMonth()), 
            e = 12 * (this.year() - f.year()) + (this.month() - f.month()), e += (this - db(this).startOf("month") - (f - db(f).startOf("month"))) / d, 
            e -= 6e4 * (this.zone() - db(this).startOf("month").zone() - (f.zone() - db(f).startOf("month").zone())) / d, 
            "year" === b && (e /= 12)) : (d = this - f, e = "second" === b ? d / 1e3 : "minute" === b ? d / 6e4 : "hour" === b ? d / 36e5 : "day" === b ? (d - g) / 864e5 : "week" === b ? (d - g) / 6048e5 : d), 
            c ? e : j(e);
        },
        from: function(a, b) {
            return db.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b);
        },
        fromNow: function(a) {
            return this.from(db(), a);
        },
        calendar: function() {
            var a = z(db(), this).startOf("day"), b = this.diff(a, "days", !0), c = -6 > b ? "sameElse" : -1 > b ? "lastWeek" : 0 > b ? "lastDay" : 1 > b ? "sameDay" : 2 > b ? "nextDay" : 7 > b ? "nextWeek" : "sameElse";
            return this.format(this.lang().calendar(c, this));
        },
        isLeapYear: function() {
            return v(this.year());
        },
        isDST: function() {
            return this.zone() < this.clone().month(0).zone() || this.zone() < this.clone().month(5).zone();
        },
        day: function(a) {
            var b = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
            return null != a ? (a = V(a, this.lang()), this.add({
                d: a - b
            })) : b;
        },
        month: function(a) {
            var b, c = this._isUTC ? "UTC" : "";
            return null != a ? "string" == typeof a && (a = this.lang().monthsParse(a), "number" != typeof a) ? this : (b = this.date(), 
            this.date(1), this._d["set" + c + "Month"](a), this.date(Math.min(b, this.daysInMonth())), 
            db.updateOffset(this), this) : this._d["get" + c + "Month"]();
        },
        startOf: function(a) {
            switch (a = p(a)) {
              case "year":
                this.month(0);

              case "month":
                this.date(1);

              case "week":
              case "isoWeek":
              case "day":
                this.hours(0);

              case "hour":
                this.minutes(0);

              case "minute":
                this.seconds(0);

              case "second":
                this.milliseconds(0);
            }
            return "week" === a ? this.weekday(0) : "isoWeek" === a && this.isoWeekday(1), this;
        },
        endOf: function(a) {
            return a = p(a), this.startOf(a).add("isoWeek" === a ? "week" : a, 1).subtract("ms", 1);
        },
        isAfter: function(a, b) {
            return b = "undefined" != typeof b ? b : "millisecond", +this.clone().startOf(b) > +db(a).startOf(b);
        },
        isBefore: function(a, b) {
            return b = "undefined" != typeof b ? b : "millisecond", +this.clone().startOf(b) < +db(a).startOf(b);
        },
        isSame: function(a, b) {
            return b = b || "ms", +this.clone().startOf(b) === +z(a, this).startOf(b);
        },
        min: function(a) {
            return a = db.apply(null, arguments), this > a ? this : a;
        },
        max: function(a) {
            return a = db.apply(null, arguments), a > this ? this : a;
        },
        zone: function(a) {
            var b = this._offset || 0;
            return null == a ? this._isUTC ? b : this._d.getTimezoneOffset() : ("string" == typeof a && (a = I(a)), 
            Math.abs(a) < 16 && (a = 60 * a), this._offset = a, this._isUTC = !0, b !== a && l(this, db.duration(b - a, "m"), 1, !0), 
            this);
        },
        zoneAbbr: function() {
            return this._isUTC ? "UTC" : "";
        },
        zoneName: function() {
            return this._isUTC ? "Coordinated Universal Time" : "";
        },
        parseZone: function() {
            return this._tzm ? this.zone(this._tzm) : "string" == typeof this._i && this.zone(this._i), 
            this;
        },
        hasAlignedHourOffset: function(a) {
            return a = a ? db(a).zone() : 0, (this.zone() - a) % 60 === 0;
        },
        daysInMonth: function() {
            return t(this.year(), this.month());
        },
        dayOfYear: function(a) {
            var b = hb((db(this).startOf("day") - db(this).startOf("year")) / 864e5) + 1;
            return null == a ? b : this.add("d", a - b);
        },
        quarter: function() {
            return Math.ceil((this.month() + 1) / 3);
        },
        weekYear: function(a) {
            var b = Y(this, this.lang()._week.dow, this.lang()._week.doy).year;
            return null == a ? b : this.add("y", a - b);
        },
        isoWeekYear: function(a) {
            var b = Y(this, 1, 4).year;
            return null == a ? b : this.add("y", a - b);
        },
        week: function(a) {
            var b = this.lang().week(this);
            return null == a ? b : this.add("d", 7 * (a - b));
        },
        isoWeek: function(a) {
            var b = Y(this, 1, 4).week;
            return null == a ? b : this.add("d", 7 * (a - b));
        },
        weekday: function(a) {
            var b = (this.day() + 7 - this.lang()._week.dow) % 7;
            return null == a ? b : this.add("d", a - b);
        },
        isoWeekday: function(a) {
            return null == a ? this.day() || 7 : this.day(this.day() % 7 ? a : a - 7);
        },
        get: function(a) {
            return a = p(a), this[a]();
        },
        set: function(a, b) {
            return a = p(a), "function" == typeof this[a] && this[a](b), this;
        },
        lang: function(b) {
            return b === a ? this._lang : (this._lang = C(b), this);
        }
    }), eb = 0; eb < Rb.length; eb++) _(Rb[eb].toLowerCase().replace(/s$/, ""), Rb[eb]);
    _("year", "FullYear"), db.fn.days = db.fn.day, db.fn.months = db.fn.month, db.fn.weeks = db.fn.week, 
    db.fn.isoWeeks = db.fn.isoWeek, db.fn.toJSON = db.fn.toISOString, h(db.duration.fn = g.prototype, {
        _bubble: function() {
            var a, b, c, d, e = this._milliseconds, f = this._days, g = this._months, h = this._data;
            h.milliseconds = e % 1e3, a = j(e / 1e3), h.seconds = a % 60, b = j(a / 60), h.minutes = b % 60, 
            c = j(b / 60), h.hours = c % 24, f += j(c / 24), h.days = f % 30, g += j(f / 30), 
            h.months = g % 12, d = j(g / 12), h.years = d;
        },
        weeks: function() {
            return j(this.days() / 7);
        },
        valueOf: function() {
            return this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * s(this._months / 12);
        },
        humanize: function(a) {
            var b = +this, c = X(b, !a, this.lang());
            return a && (c = this.lang().pastFuture(b, c)), this.lang().postformat(c);
        },
        add: function(a, b) {
            var c = db.duration(a, b);
            return this._milliseconds += c._milliseconds, this._days += c._days, this._months += c._months, 
            this._bubble(), this;
        },
        subtract: function(a, b) {
            var c = db.duration(a, b);
            return this._milliseconds -= c._milliseconds, this._days -= c._days, this._months -= c._months, 
            this._bubble(), this;
        },
        get: function(a) {
            return a = p(a), this[a.toLowerCase() + "s"]();
        },
        as: function(a) {
            return a = p(a), this["as" + a.charAt(0).toUpperCase() + a.slice(1) + "s"]();
        },
        lang: db.fn.lang,
        toIsoString: function() {
            var a = Math.abs(this.years()), b = Math.abs(this.months()), c = Math.abs(this.days()), d = Math.abs(this.hours()), e = Math.abs(this.minutes()), f = Math.abs(this.seconds() + this.milliseconds() / 1e3);
            return this.asSeconds() ? (this.asSeconds() < 0 ? "-" : "") + "P" + (a ? a + "Y" : "") + (b ? b + "M" : "") + (c ? c + "D" : "") + (d || e || f ? "T" : "") + (d ? d + "H" : "") + (e ? e + "M" : "") + (f ? f + "S" : "") : "P0D";
        }
    });
    for (eb in Sb) Sb.hasOwnProperty(eb) && (bb(eb, Sb[eb]), ab(eb.toLowerCase()));
    bb("Weeks", 6048e5), db.duration.fn.asMonths = function() {
        return (+this - 31536e6 * this.years()) / 2592e6 + 12 * this.years();
    }, db.lang("en", {
        ordinal: function(a) {
            var b = a % 10, c = 1 === s(a % 100 / 10) ? "th" : 1 === b ? "st" : 2 === b ? "nd" : 3 === b ? "rd" : "th";
            return a + c;
        }
    }), rb ? (module.exports = db, cb(!0)) : "function" == typeof define && define.amd ? define("moment", function(b, c, d) {
        return d.config && d.config() && d.config().noGlobal !== !0 && cb(d.config().noGlobal === a), 
        db;
    }) : cb();
}.call(this);

var Builder, NPMap, mapId;

mapId = function() {
    var a = document.location.search.replace("&?", ""), b = null;
    0 === a.indexOf("?") && (a = a.slice(1, a.length)), a = a.split("&");
    for (var c = 0; c < a.length; c++) {
        var d = a[c].split("=");
        if ("mapid" === d[0].toLowerCase()) {
            b = d[1];
            break;
        }
    }
    return b;
}(), mapId ? $.ajax({
    dataType: "jsonp",
    jsonpCallback: "callback",
    success: function(a) {
        NPMap = a, ready();
    },
    url: "http://www.nps.gov/maps/builder/configs/" + mapId + ".jsonp"
}) : ($("#mask").show(), NPMap = {
    baseLayers: [ "nps-lightStreets" ],
    center: {
        lat: 39,
        lng: -96
    },
    div: "map",
    homeControl: !0,
    smallzoomControl: !0,
    zoom: 4
}, ready());